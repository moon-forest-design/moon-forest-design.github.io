<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[月の森デザインの Web研究室の RSS Feed]]></title><description><![CDATA[月の森デザインの Web研究室の RSS Feed]]></description><link>https://moon-forest-design.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Tue, 25 Jan 2022 06:44:04 GMT</lastBuildDate><item><title><![CDATA[GatsbyJSサイトに Google Analyticsを導入する方法]]></title><description><![CDATA[概要 一通り GatsbyJSで Webサイトを制作したら、Google Analytics…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-google-analytics-gtag/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-google-analytics-gtag/</guid><pubDate>Sat, 01 Jan 2022 01:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;一通り GatsbyJSで Webサイトを制作したら、Google Analyticsなどのアクセス解析ツールを導入したくなるはずです。たとえ個人的なメモ書きを掲載しているだけのサイトであったとしても、ユニークユーザ数や、検索キーワードなどを把握しておくと客観的視点が養われるからです。&lt;/li&gt;&lt;li&gt;GatsbyJSの場合は、プラグイン gatsby-plugin-google-gtagを利用すれば、よりスムーズに Google Analytics（GA4）を導入することができます。公式のドキュメント「&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-plugin-google-gtag/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-plugin-google-gtag | Gatsby&lt;/a&gt;」を参考にして試してみましょう。&lt;/li&gt;&lt;li&gt;「&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-plugin-google-analytics/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-plugin-google-analytics | Gatsby&lt;/a&gt;」は、Universal Analytics用のプラグインとのことです。現状（2022年 1月）においては、この古いバージョン（Universal Analytics）を新規 Webサイトに導入する利点は考えにくいように思います。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;li&gt;gatsby-remark-prismjs&lt;/li&gt;&lt;li&gt;prismjs&lt;/li&gt;&lt;li&gt;gatsby-remark-external-links&lt;/li&gt;&lt;li&gt;gatsby-remark-code-titles&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;コマンドラインで、プラグイン gatsby-plugin-google-gtagをインストールします。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-plugin-google-gtag&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：Google Analyticsで測定 IDを取得する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Google Analyticsにログインして、必要な設定を行いましょう。測定 IDを取得するための作業手順は「&lt;a href=&quot;../google-analytics-multiple-websites&quot;&gt;【Google Analytics】複数のWebサイトを管理する方法&lt;/a&gt;」にまとめてあります。測定 IDをコピーしておいてください。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;3：gatsby-config.jsに設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsファイルに、以下の設定を追加します。&lt;ul&gt;&lt;li&gt;上述工程 1でインストールしたプラグインに関する設定&lt;/li&gt;&lt;li&gt;上述工程 2で取得した測定 ID情報&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;追加設定のコードは、公式ドキュメント「&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-plugin-google-gtag/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-plugin-google-gtag | Gatsby&lt;/a&gt;」が参考になります。オプションはデフォルトのままでもかまわないなら、とくに指定する必要はないかと思います。ゆえに trackingIdsを指定するだけでも良さそうです。基本的なアクセス解析データの取得はなされます。「&amp;quot;G-&lt;strong&gt;&lt;strong&gt;**&lt;/strong&gt;&lt;/strong&gt;&amp;quot;」の部分には、あなたの Webサイトの測定 IDを貼り付けましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pathPrefix&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/gatsby-test&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（あなたのWebサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteSubTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトのサブタイトル）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの説明）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://gatsbyjs-test.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteOgpImage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/（WebサイトのOGP画像のファイル名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteAuthor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの著者名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-source-filesystem&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;__dirname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-mdx&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        gatsbyRemarkPlugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-code-titles&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-prismjs&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-external-links&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              target&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;_blank&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              rel&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;nofollow noreferrer&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-remark-images&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              maxWidth&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;700&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-transformer-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-react-helmet&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-plugin-google-gtag&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        trackingIds&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&amp;quot;G-**********&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Google Analytics / GA&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：エラーが出ないことを確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;ローカルのテスト環境での確認は、何をして OKとみなすかは難しいところです。まずは、エラー無く起動できるか、「gatsby build」して、「gatsby serve」を試してみましょう。（※：公式ドキュメントによると、「gatsby develop」ではなく「gatsby build」が必要です）&lt;/li&gt;&lt;li&gt;ブラウザで &lt;code class=&quot;language-text&quot;&gt;http://localhost:9000/&lt;/code&gt;へアクセスし、「ページのソース」を表示してみて、gtagのコードがあれば、とりあえず OKとします。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ gatsby build
$ gatsby serve&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：デプロイする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;本番用のサーバへ、デプロイします。（※：利用しているホスティングサービスによって方法が違うかもしれません。状況にあわせて行いましょう）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm run deploy&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：レポートのリアルタイムを表示する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;あなたの Webサイトへアクセスしておきましょう。&lt;/li&gt;&lt;li&gt;Google Analyticsにて、レポートのリアルタイムを表示します。Google Analyticsのレポートに「ユーザー数」や「表示回数」などの結果が表示されたら OKです。（※：あなたの Webサイトへアクセスした数分後には表示されるかと思いますが、30分程度かかることもあるようです）&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-plugin-google-gtag/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-plugin-google-gtag | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Google Analyticsで複数の Webサイトを個別に管理する方法]]></title><description><![CDATA[概要 複数の Webサイトを Google Analytics（GA4）で管理することになったら、どうすれば良いでしょうか。わざわざ、複数の Googleアカウント登録をする必要はありません。その状況に応じて、2通りの方法があります。 複数の Web…]]></description><link>https://moon-forest-design.github.io/memo/google-analytics-multiple-websites/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/google-analytics-multiple-websites/</guid><pubDate>Sat, 01 Jan 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;複数の Webサイトを Google Analytics（GA4）で管理することになったら、どうすれば良いでしょうか。わざわざ、複数の Googleアカウント登録をする必要はありません。その状況に応じて、2通りの方法があります。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;複数の Webサイトを「個別に」管理したい場合&lt;/li&gt;&lt;li&gt;複数の Webサイトを「まとめて」管理したい場合&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;その1：複数の Webサイトを「個別に」管理したい場合&lt;/h3&gt;&lt;p&gt;1つ目は、複数の Webサイトを「個別に」管理したい場合です。例えば、パン屋さんとラーメン屋さんを営む経営者は、関連性がない Webサイトをそれぞれ運営することになるので、個別に管理することになります。関係のないサイトのアクセスが混ざれば、ややこしいだけです。&lt;/p&gt;&lt;p&gt;このように、複数の Webサイトを個別に管理したいのであれば「プロパティ」というものを作成すると良いようです。今回は、その方法（プロパティの作成）について書いています。&lt;/p&gt;&lt;h3&gt;その2：複数の Webサイトを「まとめて」管理したい場合&lt;/h3&gt;&lt;p&gt;あるいは、複数の Webサイトを「まとめて」管理したい場合もあるはずです。例えば、和菓子店とその和菓子の通販サイトを運営しているとしたなら、まとまった形でアクセスを分析したいはずです。&lt;/p&gt;&lt;p&gt;このように、複数の Webサイトをまとめて管理したいときは、「データストリーム」を追加する形が良いようです。ドメインが異なる Webサイトであっても問題ありません。&lt;/p&gt;&lt;h2&gt;作業前の留意点&lt;/h2&gt;&lt;p&gt;Google Analyticsは頻繁に GUIを変更する傾向があります。以下の内容（作業手順や名称など）は、時間の経過によって変更される可能性があります。&lt;/p&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：Google Analyticsの管理画面を表示する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;Google Analyticsにログインします。&lt;/li&gt;&lt;li&gt;管理画面が表示されていなければ、管理画面を表示します。左下にある管理アイコンをクリックしましょう。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;2：プロパティを作成する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;[ ＋プロパティを作成 ] ボタンをクリックします。&lt;/li&gt;&lt;li&gt;「プロパティを作成」画面が表示されます。次の 3箇所を状況に応じて入力設定します。&lt;ul&gt;&lt;li&gt;プロパティ名を、入力します。&lt;/li&gt;&lt;li&gt;レポートのタイムゾーンを、変更します。（例：「日本」）&lt;/li&gt;&lt;li&gt;通貨を、変更します。（例：「日本円」）&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;プロパティ関連の入力を行ったら、[ 次へ ] ボタンをクリックします。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;3：ビジネス情報を入力する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;「ビジネス情報」画面が表示されます。次の 2箇所を状況に応じて入力設定します。（※：入力せずとも、[ 作成 ] ボタンを押すことは可能です）&lt;ul&gt;&lt;li&gt;ビジネスの規模&lt;/li&gt;&lt;li&gt;Google アナリティクスのビジネスにおける利用目的&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;ビジネス情報関連の入力を行ったら、[ 作成 ] ボタンをクリックします。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;ストリームを作成する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;「次のステップ: データ ストリームを設定してデータの収集を開始する プラットフォームを選択してください」画面が表示されます。選択肢は 3つです。一般的な Webサイトであれば、「ウェブ」を選択します。&lt;ul&gt;&lt;li&gt;ウェブ&lt;/li&gt;&lt;li&gt;Androidアプリ&lt;/li&gt;&lt;li&gt;iOSアプリ&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;「データ ストリームの設定」画面が表示されます。次の 2箇所を状況に応じて入力設定します。&lt;ul&gt;&lt;li&gt;あなたの Webサイトの ドメイン名を入力します。&lt;/li&gt;&lt;li&gt;ストリーム名を入力します。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;[ ストリームを作成 ] ボタンをクリックします。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;測定 IDをコピーする&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;「ウェブ ストリームの詳細」画面が表示されます。測定 IDをコピーしておきます。&lt;/li&gt;&lt;li&gt;あとは、あなたの Webサイトに、測定 IDを貼り付けるだけです。&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;補足：プロパティの削除方法&lt;/h2&gt;&lt;p&gt;プロパティを作成したものの、何かしらの理由で削除したいこともあるかもしれません。削除方法も書き残しておきます。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;管理画面を表示します。&lt;/li&gt;&lt;li&gt;▼をクリックして、削除したいプロパティを選択します。&lt;/li&gt;&lt;li&gt;プロパティ設定を、クリックします。&lt;/li&gt;&lt;li&gt;[ ゴミ箱に移動 ] ボタンを、クリックします。&lt;/li&gt;&lt;li&gt;「プロパティをゴミ箱に入れる」画面が表示されます。[ プロパティを削除 ] ボタンを、クリックします。&lt;/li&gt;&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[Google Analyticsの関連用語まとめ]]></title><description><![CDATA[Google Analytics関連用語「あ行」 Google Analytics関連用語「さ行」 Google Analytics関連用語「た行」 Google Analytics関連用語「は行」 参考資料 アナリティクス ヘルプ 用語集 - アナリティクス ヘルプ…]]></description><link>https://moon-forest-design.github.io/memo/google-analytics-words/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/google-analytics-words/</guid><pubDate>Fri, 31 Dec 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Google Analytics関連用語「あ行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;アナリティクス タグ&lt;/dt&gt;&lt;dd&gt;Webサイトへ来訪したユーザのアクセス情報を収集し、Google Analyticsのサーバへデータを送信するプログラム群のことです。略して「タグ」と呼ばれることが多いようです。&lt;/dd&gt;&lt;dt&gt;イベント&lt;/dt&gt;&lt;dd&gt;ユーザが行った操作のこと。Google Analyticsでは、PV数、ページのスクロール率、ダウンロード数、離脱クリック数、メールフォームの送信、動画の再生などを「イベント」という単位で扱うことができます。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;Google Analytics関連用語「さ行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;セグメント&lt;/dt&gt;&lt;dd&gt;segment。区分すること。来訪したユーザを、特定の条件でグループ分け（区分）することをセグメントと呼びます。&lt;/dd&gt;&lt;dt&gt;測定 ID&lt;/dt&gt;&lt;dd&gt;Webサイトを判別するための識別 IDです。アナリティクス タグ（コード内）で使用します。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;Google Analytics関連用語「た行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;タグ&lt;/dt&gt;&lt;dd&gt;アナリティクス タグの略称です。&lt;/dd&gt;&lt;dt&gt;ディメンション&lt;/dt&gt;&lt;dd&gt;dimension。分析軸のこと。セグメンテーションする上での「特定の条件」を、ディメンションと呼びます。例えば、検索キーワード（ディメンション）を指定して、区分（セグメント）することで分析がしやすくなります。&lt;/dd&gt;&lt;dt&gt;データストリーム&lt;/dt&gt;&lt;dd&gt;Webサイトやアプリのアクセスデータを、まとめて解析するための仕組みのこと。データストリームを設定すると、アクセス解析を行うその対象が、Webサイトであれ、アプリ（iOSアプリ、Androidアプリ）であれ、まとめてデータを集約し分析することができます。データストリームは、1プロパティに対して、最大 50個作成することができます。アプリのみであれば最大 30個です。&lt;/dd&gt;&lt;dt&gt;トラッキングコード&lt;/dt&gt;&lt;dd&gt;アナリティクス タグと、ほぼ同義です。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;Google Analytics関連用語「は行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;プロパティ&lt;/dt&gt;&lt;dd&gt;Webサイトやアプリのアクセスデータを、個別に解析するための仕組みのこと。複数の関連性のない Webサイトを個別に管理したいときは、そのサイトごとにプロパティを作成します。プロパティは、1つの Google Analyticsアカウントごとに 100個作成することが可能です。また、プロパティ内に、データストリームを作成することができます。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://support.google.com/analytics#topic=10737980&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;アナリティクス ヘルプ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://support.google.com/analytics/topic/6083659&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;用語集 - アナリティクス ヘルプ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://book.impress.co.jp/books/1120101144&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;1週間でGoogleアナリティクス4の基礎が学べる本 - インプレスブックス&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトで Markdown内の画像を表示する方法]]></title><description><![CDATA[概要 GatsbyJSで Webサイトを制作していて、試しに投稿記事内で画像を表示しようとしたところ、なぜか代替テキストだけが表示されるという状況に陥ることがあります。すでに、 ヒーロー画像を表示 していることもあり、何が起きたのか分からない。Markdown…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-remark-images/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-remark-images/</guid><pubDate>Wed, 01 Dec 2021 01:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;GatsbyJSで Webサイトを制作していて、試しに投稿記事内で画像を表示しようとしたところ、なぜか代替テキストだけが表示されるという状況に陥ることがあります。すでに、&lt;a href=&quot;../gatsbyjs-blog-page-step2&quot;&gt;ヒーロー画像を表示&lt;/a&gt;していることもあり、何が起きたのか分からない。Markdown記法の誤りでもないし？？？&lt;/li&gt;&lt;li&gt;どうやら、投稿記事内で画像を表示するには、プラグイン gatsbyjs-remark-imagesが必要みたいです。公式のドキュメント「&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-remark-images/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-remark-images | Gatsby&lt;/a&gt;」を参考にして試してみましょう。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;li&gt;gatsby-remark-prismjs&lt;/li&gt;&lt;li&gt;prismjs&lt;/li&gt;&lt;li&gt;gatsby-remark-external-links&lt;/li&gt;&lt;li&gt;gatsby-remark-code-titles&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;コマンドラインで、プラグイン gatsbyjs-remark-imagesをインストールします。gatsby-plugin-sharpは依存関係にあるプラグインのようです。「&lt;a href=&quot;../gatsbyjs-static-image&quot;&gt;StaticImageによる静的な画像表示&lt;/a&gt;」を行っているような場合には、すでに、gatsby-plugin-sharpをインストールしているかもしれません。&lt;/li&gt;&lt;li&gt;MDファイルを使用している場合は、プラグイン gatsby-transformer-remarkのオプションとして gatsbyjs-remark-imagesを指定するようです。MDXファイルを使用している場合は、プラグイン gatsby-plugin-mdxのオプションとして指定することになりそうです。状況に応じて、こちらもインストールしておく必要があります。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-remark-images gatsby-plugin-sharp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：gatsby-config.jsに設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsファイルに、インストールしたプラグイン情報を追加します。MDXファイルを使用しているので、上述にて書いた通り、プラグイン gatsby-plugin-mdxのオプションとして gatsbyjs-remark-imagesを指定します。&lt;/li&gt;&lt;li&gt;gatsbyjs-remark-imagesのオプションとして、maxWidthなども指定できるようです。制作しているサイトの状況に応じて、必要であれば指定しておくと良いでしょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pathPrefix&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/gatsby-test&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（あなたのWebサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteSubTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトのサブタイトル）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの説明）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://gatsbyjs-test.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteOgpImage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/（WebサイトのOGP画像のファイル名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteAuthor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの著者名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-source-filesystem&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;__dirname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-mdx&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        gatsbyRemarkPlugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-code-titles&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-prismjs&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-external-links&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              target&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;_blank&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              rel&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;nofollow noreferrer&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-remark-images&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              maxWidth&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;700&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-transformer-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-react-helmet&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：画像を準備する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;画像を表示したい投稿記事のディレクトリに画像を入れておきましょう。ここでは、「&lt;a href=&quot;../gatsbyjs-blog-page-step2&quot;&gt;各ブログページを作成する方法 STEP2&lt;/a&gt;」で作成した blog/post-three/下に、画像を入れておくことにします。（例：test-img-post.png）&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;4：画像を表示したい投稿記事で指定する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;上述した通り、blog/post-three/下に、画像を準備したので、index.mdx（blog/post-three/index.mdx）内に、画像を表示するMarkdownを書き加えます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-three/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 3 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 3 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-25&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./breakfast-3010355_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とパン&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e6%9c%9d%e3%81%94%e3%81%af%e3%82%93-%e3%81%8a%e5%9b%a3%e5%ad%90-3010355/&amp;quot;&lt;/span&gt;
tags&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;タグB&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグC&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; のテキスト

&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;投稿記事 &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;のテスト画像&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;test&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;img&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;post&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;png&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて 投稿記事内に画像が表示できたら OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-remark-images/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-remark-images | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトを GitHub Pagesへ deployする方法]]></title><description><![CDATA[概要 ローカルにて GatsbyJSサイトがおおよそ制作できたら、ホスティングサービスへデプロイ（配置・配備）します。デプロイとは、パソコン内で作った Webサイトを、本番サーバへ転送して配置することです。 今回は、GitHub Pages…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-github-pages-deploy/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-github-pages-deploy/</guid><pubDate>Wed, 01 Dec 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;ローカルにて GatsbyJSサイトがおおよそ制作できたら、ホスティングサービスへデプロイ（配置・配備）します。デプロイとは、パソコン内で作った Webサイトを、本番サーバへ転送して配置することです。&lt;/li&gt;&lt;li&gt;今回は、GitHub Pagesというホスティングサービスを利用するときの方法を書いています。GitHub Pagesは、バージョン管理でおなじみの GitHubが提供するサービスの一つです。&lt;/li&gt;&lt;li&gt;「&lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/how-gatsby-works-with-github-pages/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;How Gatsby Works with GitHub Pages | Gatsby&lt;/a&gt;」で紹介されている通り、これは最も簡単なやり方と言えます。プラグイン &lt;a href=&quot;https://github.com/tschaub/gh-pages&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gh-pages&lt;/a&gt;を使うことで簡便に済みます。さらにもっと細かい設定が必要な場合や Netlifyなどの外部サービスと連携したいときは、&lt;a href=&quot;../github-actions-1&quot;&gt;GitHub Actions&lt;/a&gt;を使用すると良いかもしれません。&lt;/li&gt;&lt;li&gt;GitHub Pagesには、プロジェクトサイトとユーザーサイトと呼ばれる 2つのやり方があります。設定する上での大きな違いはドメインです。今回は基本的に、GitHub Pagesをプロジェクトサイトとして制作する場合の手順を書いています。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;li&gt;gatsby-remark-prismjs&lt;/li&gt;&lt;li&gt;prismjs&lt;/li&gt;&lt;li&gt;gatsby-remark-external-links&lt;/li&gt;&lt;li&gt;gatsby-remark-code-titles&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;コマンドラインで、プラグイン gh-pagesをインストールします。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gh-pages --save-dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：リポジトリを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;GitHubへ行き、リポジトリを作成しましょう。（※：この記事内では、リポジトリ名を「gatsby-test」としました。gatsby-testと書かれていたら、それはリポジトリ名のことです。）&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;3：gatsby-config.jsにパス設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;前述通り、GitHub Pagesをプロジェクトサイトとして制作するので、gatsby-config.jsにパスを設定する必要があります。上述で作成したリポジトリ名を、例えば「&lt;code class=&quot;language-text&quot;&gt;pathPrefix: &amp;quot;/gatsby-test&amp;quot;,&lt;/code&gt;」のように指定します&lt;/li&gt;&lt;li&gt;GitHub Pagesをユーザサイトとして制作するのであれば、このパス設定は不要です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pathPrefix&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/gatsby-test&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（あなたのWebサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteSubTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトのサブタイトル）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの説明）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://gatsbyjs-test.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteOgpImage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/（WebサイトのOGP画像のファイル名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteAuthor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの著者名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-source-filesystem&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;__dirname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-mdx&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        gatsbyRemarkPlugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-code-titles&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-prismjs&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-external-links&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              target&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;_blank&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              rel&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;nofollow noreferrer&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-transformer-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-react-helmet&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：package.jsonに deployの設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;package.jsonに deployコマンドの設定を追加します。コマンドラインで「npm run deploy」を実行したときに処理する内容を指定することができます。例えば、「&lt;code class=&quot;language-text&quot;&gt;&amp;quot;deploy&amp;quot;: &amp;quot;gatsby build --prefix-paths &amp;amp;&amp;amp; gh-pages -d public -r https://github.com/（あなたのユーザID）/gatsby-test.git -b main&amp;quot;&lt;/code&gt;」のように指定します。次のようなことをしています。&lt;ul&gt;&lt;li&gt;「--prefix-paths」を指定して gatsby buildを行っています。gatsby buildをすることで、本番用のサイトデータが publicディレクトリへ集約されます。&lt;/li&gt;&lt;li&gt;そして、&amp;amp;&amp;amp;でつなぎ、先ほどインストールしたプラグイン gh-pagesを使って、publicディレクトリの中身を、リポジトリ gatsby-testのブランチ mainへデータを送信しています。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;気をつけたいのは、一つ前の指定行の最後に「,（カンマ）」を入れる必要があることです。忘れずに入れましょう。&lt;/li&gt;&lt;li&gt;GitHub Pagesをユーザサイトとして制作するのであれば、「--prefix-paths」は不要です。また、リポジトリの指定は「&lt;code class=&quot;language-text&quot;&gt;https://github.com/（あなたのユーザID）/gatsby-test.git&lt;/code&gt;」ではなく、「&lt;code class=&quot;language-text&quot;&gt;https://（あなたのユーザID）.github.io.git&lt;/code&gt;」へ変更する必要があります。&lt;/li&gt;&lt;li&gt;「-b main」を入れないと、ブランチ gh-pagesへ送信されます。これらのオプションについてもっと詳しく知りたい場合は、&lt;a href=&quot;https://github.com/tschaub/gh-pages&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;制作者のReadMe.md&lt;/a&gt;を参考にすると良いでしょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;package.json&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ～中略～
  &lt;span class=&quot;token string&quot;&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ～中略～
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;echo \&amp;quot;Write tests! -&amp;gt; https://gatsby.dev/unit-testing\&amp;quot; &amp;amp;&amp;amp; exit 1&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;deploy&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby build --prefix-paths &amp;amp;&amp;amp; gh-pages -d public -r https://github.com/（あなたのユーザID）/gatsby-test.git -b main&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：デプロイする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;コマンドラインで デプロイを実行します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm run deploy&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：GitHub Pagesの設定にする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;GitHubへ行き、該当するリポジトリのページへ行き、Settingsから GitHub Pagesの設定をしましょう。&lt;/li&gt;&lt;li&gt;「Your site is ready to be published at https://（あなたのユーザID）.github.io/gatsby-test/」と表示されるはずです。しばらく待ってから URLをクリックして表示を確認しましょう。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/how-gatsby-works-with-github-pages/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;How Gatsby Works with GitHub Pages | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/tschaub/gh-pages&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;tschaub/gh-pages: General purpose task for publishing files to a gh-pages branch on GitHub&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトのコードブロックにタイトルを表示する方法]]></title><description><![CDATA[概要 シンタックスハイライトを導入 すると、次はそのコードブロックにタイトルも表示したくなるはずです。GatsbyJSサイトでコードブロックにタイトルを表示したい場合は、プラグイン gatsby-remark-code-titlesを使うと良いようです。 開発環境 Windows…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-remark-code-titles-mdx/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-remark-code-titles-mdx/</guid><pubDate>Mon, 29 Nov 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;../gatsbyjs-remark-prismjs-mdx&quot;&gt;シンタックスハイライトを導入&lt;/a&gt;すると、次はそのコードブロックにタイトルも表示したくなるはずです。GatsbyJSサイトでコードブロックにタイトルを表示したい場合は、プラグイン gatsby-remark-code-titlesを使うと良いようです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;li&gt;gatsby-remark-prismjs&lt;/li&gt;&lt;li&gt;prismjs&lt;/li&gt;&lt;li&gt;gatsby-remark-external-links&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;コマンドラインで次のプラグイン 2つをインストールします。すでにインストールしているものがあれば、もちろん除外して構いません。&lt;ul&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;gatsby-remark-code-titles&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-plugin-mdx gatsby-remark-code-titles&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：gatsby-config.jsにプラグインの設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsにプラグインの設定を追加しましょう。「&lt;a href=&quot;../gatsbyjs-remark-prismjs-mdx&quot;&gt;シンタックスハイライトを導入する方法&lt;/a&gt;」でも書きましたが、すでにプラグイン gatsby-plugin-mdxを設定しているのであれば少しだけ気をつける必要があります。gatsby-plugin-mdxのオプションとして gatsby-remark-code-titlesを指定しましょう。&lt;/li&gt;&lt;li&gt;さらにもうひとつ注意点があります。コードブロックに関するプラグインを導入している場合は、gatsby-remark-code-titlesをその前に記述する必要があります。例えば、&lt;a href=&quot;../gatsbyjs-remark-prismjs-mdx&quot;&gt;gatsby-remark-prismjs&lt;/a&gt;を使用しているのであれば、その上に書きます。&lt;/li&gt;&lt;li&gt;gatsby-remark-code-titlesの設定オプションとして CSSの classセレクタ名を指定することもできます。しかし、デフォルトで「gatsby-code-title」があてられているので、とくにその必要はないかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（あなたのWebサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteSubTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトのサブタイトル）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの説明）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://gatsbyjs-test.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteOgpImage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/（WebサイトのOGP画像のファイル名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteAuthor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの著者名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-source-filesystem&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;__dirname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-mdx&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        gatsbyRemarkPlugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-code-titles&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-prismjs&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-external-links&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              target&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;_blank&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              rel&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;nofollow noreferrer&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-transformer-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-react-helmet&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：CSSファイルを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;どのような方法で CSSをあてているか人によって違うので、こうしましょうという方法はありません。ゆえに、ひとつの例として書きます。まず、src下に stylesフォルダを作成します。&lt;/li&gt;&lt;li&gt;stylesフォルダ内に codeTitle.cssというような名前でファイルを作成します。&lt;/li&gt;&lt;li&gt;codeTitle.cssのファイルの中身は、公式で紹介されているコードとほぼ同じ内容です。ただし、classセレクタ名は「gatsby-code-title」です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/styles/codeTitle.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.gatsby-code-title&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -0.6rem&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.5em 1em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Consolas&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Andale Mono WT&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Andale Mono&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Lucida Console&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Lucida Sans Typewriter&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;DejaVu Sans Mono&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Bitstream Vera Sans Mono&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Liberation Mono&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Nimbus Mono L&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Monaco&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;Courier New&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Courier&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    monospace&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; black&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;z-index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token property&quot;&gt;border-top-left-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.3em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-top-right-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.3em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：gatsby-browser.jsに CSSの設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;上述 3で作成したファイルを、gatsby-browser.jsでインポートします。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-browser.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./src/styles/codeTitle.css&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;prismjs/themes/prism-tomorrow.css&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：投稿記事のテストコードにタイトルを追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;投稿記事のテストコードにタイトルを追加してみましょう。例えば、&lt;a href=&quot;../gatsbyjs-remark-prismjs-mdx&quot;&gt;シンタックスハイライトを導入する方法&lt;/a&gt;にて、記事 post-oneにテストコードを追加したので、これにタイトルを付けます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-one/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-23&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./advent-season-3010349_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とクリスマスクッキー&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e9%99%8d%e8%87%a8%e7%af%80-%e3%83%87%e3%83%a5%e3%83%bc%e3%83%a9%e3%83%bc%e3%81%ae%e3%83%91%e3%83%b3-3010349/&amp;quot;&lt;/span&gt;
tags&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;タグA&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグB&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグC&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; のテキスト

&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;js:title=test.js
const prism = &amp;quot;test&amp;quot;;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、一度ブラウザにて確認してみましょう。コードブロックにタイトルがうまいこと表示されたら OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;7：CSSを調整する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;表示してみて、自分のサイトにあわないときは CSSを修正しましょう。 例えば、font-familyをここで指定する必要が無ければ、ごっそり削除してかまいませんし、シンタックスハイライトのテーマに「prism-tomorrow.css」を使用しているのであれば、同じ背景色にしても良かろうと思います。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/styles/codeTitle.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.gatsby-code-title&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -0.6rem&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.5em 1em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #2D2D2D&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;z-index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-top-left-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.3em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-top-right-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0.3em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-remark-code-titles/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-remark-code-titles | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトの外部リンクを別タブで開く方法]]></title><description><![CDATA[概要 外部リンクはできるだけ別タブで開く形に制作したいと考えています。なぜなら、離脱率が上がる可能性は、少しでも減らしておくほうが良いからです。GatsbyJSサイトにおいて、外部リンクを別タブで開くように設定したければ、gatsby-remark-external-links…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-remark-external-links-mdx/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-remark-external-links-mdx/</guid><pubDate>Mon, 29 Nov 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;外部リンクはできるだけ別タブで開く形に制作したいと考えています。なぜなら、離脱率が上がる可能性は、少しでも減らしておくほうが良いからです。GatsbyJSサイトにおいて、外部リンクを別タブで開くように設定したければ、gatsby-remark-external-linksなどのプラグインを使う必要があるようです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;li&gt;gatsby-remark-prismjs&lt;/li&gt;&lt;li&gt;prismjs&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;コマンドラインで次のプラグイン 2つをインストールします。すでにインストールしているものがあれば、もちろん除外して構いません。&lt;ul&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;gatsby-remark-external-links&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-plugin-mdx gatsby-remark-external-links&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：gatsby-config.jsにプラグインの設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsにプラグインの設定を追加しましょう。前回の「&lt;a href=&quot;../gatsbyjs-remark-prismjs-mdx&quot;&gt;シンタックスハイライトを導入する方法&lt;/a&gt;」でも書きましたが、すでにプラグイン gatsby-plugin-mdxを設定しているのであれば少しだけ気をつける必要があります。gatsby-plugin-mdxのオプションとして gatsby-remark-external-linksを指定しましょう。&lt;/li&gt;&lt;li&gt;さらに gatsby-remark-external-linksの設定オプションとして、「target: &amp;quot;_blank&amp;quot;」を指定します。また、セキュリティ上の観点から、「rel: &amp;quot;nofollow noreferrer&amp;quot;」も指定しておくと良いかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（あなたのWebサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteSubTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトのサブタイトル）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの説明）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://gatsbyjs-test.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteOgpImage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/（WebサイトのOGP画像のファイル名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteAuthor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの著者名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-source-filesystem&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;__dirname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-mdx&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        gatsbyRemarkPlugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-prismjs&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-external-links&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              target&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;_blank&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              rel&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;nofollow noreferrer&amp;quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-transformer-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-react-helmet&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：投稿記事に外部リンクを追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;投稿記事に外部リンクを追加して試してみましょう。例えば、&lt;a href=&quot;../gatsbyjs-blog-list-page-step2&quot;&gt;ブログリストページを作成&lt;/a&gt;したときに post-twoという記事を作成しています。この記事に、外部リンクを追加書きします。どこの Webサイトでもかまいません。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-two/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 2 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 2 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-24&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./advent-season-3010352_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とチョコレート菓子&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e9%99%8d%e8%87%a8%e7%af%80-%e3%83%81%e3%83%a7%e3%82%b3%e3%83%ac%e3%83%bc%e3%83%88%e8%8f%93-3010352/&amp;quot;&lt;/span&gt;
tags&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;タグA&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグB&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; のテキスト

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Google&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;https&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;www.google.co.jp&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて確認しましょう。外部リンクが別タブで表示できたら OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-remark-external-links/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-remark-external-links | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトにシンタックスハイライトを導入する方法]]></title><description><![CDATA[概要 シンタックスハイライトを導入すると、投稿記事内のソースコードをきれいに表示し、コードを読みやすくする利点をうみます。 GatsbyJSサイトにシンタックスハイライトを導入したい場合は、gatsby-remark-prismjs…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-remark-prismjs-mdx/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-remark-prismjs-mdx/</guid><pubDate>Sun, 28 Nov 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;シンタックスハイライトを導入すると、投稿記事内のソースコードをきれいに表示し、コードを読みやすくする利点をうみます。&lt;/li&gt;&lt;li&gt;GatsbyJSサイトにシンタックスハイライトを導入したい場合は、gatsby-remark-prismjsなどのプラグインを利用すると良いでしょう。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;コマンドラインにて、次のプラグイン 3つをインストールします。すでにインストールしているものがあれば、もちろん除外して構いません。&lt;ul&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;gatsby-remark-prismjs&lt;/li&gt;&lt;li&gt;prismjs&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-plugin-mdx gatsby-remark-prismjs prismjs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：gatsby-config.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsにプラグインの設定を追加しましょう。気をつけたいのは、&lt;a href=&quot;../gatsbyjs-blog-list-page-step2&quot;&gt;ブログリストページを作成&lt;/a&gt;したときなどに、すでにプラグイン gatsby-plugin-mdxを設定している可能性があることです。すでに gatsby-config.jsに書かれているようであれば、まず gatsby-plugin-mdxの設定を削除します。そして、次のような形で gatsby-plugin-mdxを記述した上で、オプションとして gatsby-remark-prismjsを指定します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（あなたのWebサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteSubTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトのサブタイトル）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの説明）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://gatsbyjs-test.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteOgpImage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/（WebサイトのOGP画像のファイル名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteAuthor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの著者名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-source-filesystem&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;__dirname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-mdx&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        gatsbyRemarkPlugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-remark-prismjs&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-transformer-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-react-helmet&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：gatsby-browser.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;プロジェクトディレクトリ直下に、gatsby-browser.jsファイルを作成します。gatsby-browser.jsファイルを利用することで、Prismの CSSを設定することができるようになります。&lt;/li&gt;&lt;li&gt;CSSに関しては、公式 &lt;a href=&quot;https://prismjs.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Prism&lt;/a&gt;が用意しているテーマ（テンプレートのようなもの）を利用すれば簡便です。「ダウンロード」ボタンを押して、ダウンロードページを眺めれば、どのようなテーマがあるか分かります。ラジオボタンやチェックボックスを変更すれば、その結果がページの下の方に表示されるので確認することができます。（※：ダウンロードする必要はありません。）&lt;/li&gt;&lt;li&gt;ここでは、gatsby-browser.jsにて「prism-tomorrow.css」を指定しました。サイトのイメージにあったテーマを選択しましょう。&lt;ul&gt;&lt;li&gt;Dark: prism-dark.css&lt;/li&gt;&lt;li&gt;Funky: prism-funky.css&lt;/li&gt;&lt;li&gt;Okaidia: prism-okaidia.css&lt;/li&gt;&lt;li&gt;Twilight: prism-twilight.css&lt;/li&gt;&lt;li&gt;Coy: prism-coy.css&lt;/li&gt;&lt;li&gt;Solarized Light: prism-solarizedlight.css&lt;/li&gt;&lt;li&gt;Tomorrow Night: prism-tomorrow.css&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-browser.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;prismjs/themes/prism-tomorrow.css&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：投稿記事にテストコードを追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;投稿記事にテストコードを追加して試してみましょう。例えば、&lt;a href=&quot;../gatsbyjs-blog-list-page-step2&quot;&gt;ブログリストページを作成&lt;/a&gt;したときに post-oneという記事を作成しています。この記事に、テストコードを追加書きします。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-one/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-23&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./advent-season-3010349_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とクリスマスクッキー&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e9%99%8d%e8%87%a8%e7%af%80-%e3%83%87%e3%83%a5%e3%83%bc%e3%83%a9%e3%83%bc%e3%81%ae%e3%83%91%e3%83%b3-3010349/&amp;quot;&lt;/span&gt;
tags&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;タグA&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグB&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグC&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; のテキスト

&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;js
const prism = &amp;quot;test&amp;quot;;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：CSSを調整する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;あとは、自分のサイトにあわせて CSSを追加すれば OKです。例えば、layout.module.cssファイルを開き、要素型セレクタ preに border-radiusを指定するなど、お好きなように試してみましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.module.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;pre&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 3px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Helvetica Neue&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Arial&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Hiragino Kaku Gothic ProN&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Hiragino Sans&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Meiryo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sans-serif&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0 auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;min-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.contents&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 200px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-wrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; wrap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.main&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.aside&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 300px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.aside h2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px solid #000&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; screen &lt;span class=&quot;token keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 991px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;.main&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;.aside&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて確認しましょう。コードがうまいこと表示されたら OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-remark-prismjs/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-remark-prismjs | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/routing/migrate-remark-to-mdx/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Migrating Remark to MDX | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://prismjs.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Prism&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.nxworld.net/gatsby-add-syntax-highlighting.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Gatsby：Markdown記事のコードブロックにシンタックスハイライトを適用する方法 - NxWorld&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GitHub Actionsを試す]]></title><description><![CDATA[GitHub Actionsとは？ GitHub Actionsは、GitHubが提供するサービスの一つ。GitHub Actionsを使うことで、CI / CD（継続的インテグレーション / 継続的デリバリー）が可能となる。 GitHub Actionsを試してみた手順…]]></description><link>https://moon-forest-design.github.io/memo/github-actions-test/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/github-actions-test/</guid><pubDate>Sat, 27 Nov 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;GitHub Actionsとは？&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;GitHub Actionsは、GitHubが提供するサービスの一つ。GitHub Actionsを使うことで、CI / CD（継続的インテグレーション / 継続的デリバリー）が可能となる。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;GitHub Actionsを試してみた手順&lt;/h2&gt;&lt;h3&gt;1：リポジトリを作成する&lt;/h3&gt;&lt;p&gt;テスト用のリポジトリを作成し、ローカルにクローンします。（例：test-actions）&lt;/p&gt;&lt;h3&gt;2：workflowsフォルダを作成する&lt;/h3&gt;&lt;p&gt;test-actions下に、フォルダ .githubを作成し、さらにその下に workflowsを作成します。（例：test-actions/.github/workflows）&lt;/p&gt;&lt;h3&gt;3：テスト用のファイルを作成する&lt;/h3&gt;&lt;p&gt;workflowsフォルダ下に、ファイルを作成します。（例：test.yaml）&lt;/p&gt;&lt;p&gt;test.yamlファイルの中身は、例えば以下ように書いておきます。（Pushしたときに、echoメッセージが表示される内容）&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;test-actions/.github/workflows/test.yaml&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; test&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;github&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;actions
&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;check-bats-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest
    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; echo &amp;quot;Hello GitHub Actions&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：Pushする&lt;/h3&gt;&lt;p&gt;GitHubへ Pushします。&lt;/p&gt;&lt;h3&gt;5：表示を確認する&lt;/h3&gt;&lt;p&gt;GitHubの test-actionsリポジトリへ行き、Actionsタブをクリックします。さらに newflows、check-bats-versionと進んで表示を確認し、 &amp;quot;Hello GitHub Actions&amp;quot;と表示されたなら OKです。&lt;/p&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://docs.github.com/ja/actions/learn-github-actions/understanding-github-actions&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Understanding GitHub Actions - GitHub Docs&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://zenn.dev/hashito/articles/7c292f966c0b59&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Git Hub Actions入門&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトで Starterの設定名を変更する方法]]></title><description><![CDATA[概要 Starter「gatsby-starter-hello-world」を利用して GatsbyJSサイトを制作すると、少し複雑な気持ちになることがあります。それはなぜかと言うと、「 gatsby develop 」したときに、「You can now view gatsby…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-starter-name-rename/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-starter-name-rename/</guid><pubDate>Thu, 25 Nov 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Starter「gatsby-starter-hello-world」を利用して GatsbyJSサイトを制作すると、少し複雑な気持ちになることがあります。それはなぜかと言うと、「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」したときに、「You can now view gatsby-starter-hello-world in the browser.」と表示されるためです。&lt;/li&gt;&lt;li&gt;ええ、たしかに gatsby-starter-hello-worldをもとにして制作したので、当たり前のことではあります。当たり前のことではあるのですが、ほぼゼロから作っているような状況ですし、&lt;a href=&quot;../gatsbyjs-install-windows10&quot;&gt;Starter無しでインストールしようとしても Windowsではうまくいかない&lt;/a&gt;ために、やむを得ず Starterを利用している場合もあるはずです。人それぞれに事情があります。&lt;/li&gt;&lt;li&gt;そこで今回は、Starterの設定名を、自分の好きなように変更してみようと思います。gatsby-starter-hello-worldのライセンスは、ゼロ条項 BSDみたいです。とくに修正して問題になることはないはずです。（完全なる自信はありません）&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：package.jsonを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;プロジェクトディレクトリ下にあるファイル package.jsonを編集します。package.jsonの &amp;quot;name&amp;quot;を好きなように変更しましょう。もし Starterとして公開するつもりであれば、重複しない名称にする必要があるので完全に好きなようにはできませんけれど、個人的に使用する分にはとくに気にする必要はありません。&lt;/li&gt;&lt;li&gt;Starterとして公開しなければ変更する必要はないかもしれませんが、気になるようであれば &amp;quot;license&amp;quot;も変更しておきましょう。あえて指定しない（&amp;quot;&amp;quot;）で良いかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;package.json&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;  &lt;span class=&quot;token string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-starter-gatsbyjs-test&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&amp;quot;private&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&amp;quot;description&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;A testing starter for Gatsby&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&amp;quot;version&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;0.1.0&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&amp;quot;license&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、コマンドラインのメッセージを確認しましょう。期待する内容が表示されたら、とりあえず OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;3：package.jsonをさらに編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Starterの設定名は変更できました。しかし、下の方を見てみると次のような箇所があります。これは、「gatsby-starter-hello-world」に関する情報なので関係ありません。削除しましょう。&lt;/li&gt;&lt;li&gt;削除する場合は、一つ前の &amp;quot;devDependencies&amp;quot;の「,（カンマ）」も削除する必要があります。気をつけましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;package.json&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;  &lt;span class=&quot;token string&quot;&gt;&amp;quot;repository&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;type&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;git&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;url&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://github.com/gatsbyjs/gatsby-starter-hello-world&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&amp;quot;bugs&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;url&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://github.com/gatsbyjs/gatsby/issues&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;念のため「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、動作に問題がないか確認しましょう。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://opensource.org/licenses/0BSD&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Zero-Clause BSD (0BSD) | Open Source Initiative&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトにページネーションを設置する方法]]></title><description><![CDATA[概要 GatsbyJS…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-pagination/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-pagination/</guid><pubDate>Tue, 16 Nov 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;GatsbyJSサイトにページネーションを設置する方法についてのメモ書きです。サイトを運営していると、投稿記事が増えます。投稿記事が増えると、記事リストを表示するページは下に下にずらずらと長くなってしまいます。困りますね。そのようなときは、ページネーション機能を導入し、複数のページに分けるほうが良いでしょう。ほど良い情報量で分割し、「次へ」や「前へ」などのリンクをクリックすることで、ページ間を移動できるようになります。&lt;/li&gt;&lt;li&gt;プラグイン「gatsby-awesome-pagination」を利用する方法もありますが、今回は公式ドキュメント「&lt;a href=&quot;https://www.gatsbyjs.com/docs/adding-pagination/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Adding Pagination | Gatsby&lt;/a&gt;」などを参考にして作業を進めます。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：index.js（src/pages/blog/index.js）を移動し、ファイル名を変更する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/blog下にある index.jsファイルを、src/templates下に移動します。&lt;/li&gt;&lt;li&gt;ファイル名を blogTemplate.jsなどの分かり良い名前に変更します。これまでは、1ページだけで表示していましたが、今後は、動的にブログリストのページを生成する必要があるためにテンプレートにする必要があります。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;2：blogTemplate.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;上述の工程 1のファイル blogTemplate.jsを編集します。公式ドキュメント「&lt;a href=&quot;https://www.gatsbyjs.com/docs/adding-pagination/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Adding Pagination | Gatsby&lt;/a&gt;」と、公式ドキュメントで紹介されている「&lt;a href=&quot;https://nickymeuleman.netlify.app/blog/gatsby-pagination&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Pagination in GatsbyJS | Nicky blogs&lt;/a&gt;」を参考にして、ほぼすべてのコードを入れ替えます。&lt;/li&gt;&lt;li&gt;prevと nextのパスの調整については、Vanilla noteさんの「&lt;a href=&quot;https://vanilla-note.com/posts/adding-pagination/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsbyJSサイトにページネーションを追加する&lt;/a&gt;」が参考になります。&lt;/li&gt;&lt;li&gt;変更するポイントをいくつか見ていきましょう。編集 1つ目は、パスの修正です。blogTemplate.jsを移動したので、Layoutコンポーネントのインポートの相対パスがずれているためです。「&lt;code class=&quot;language-text&quot;&gt;import Layout from &amp;#x27;../components/layout&amp;#x27;;&lt;/code&gt;」と書きましょう。「../」をひとつ減らしました。&lt;/li&gt;&lt;li&gt;2つ目は、CSSファイルのインポートです。のちにスタイルを設定するので、「import * as style from &amp;#x27;./blogTemplate.module.css&amp;#x27;;」と書いてインポートしておきます。&lt;/li&gt;&lt;li&gt;3つ目は、引数 pageContextを追加します。現在表示しているページの位置情報や全ページ数を取得するために使用します。&lt;/li&gt;&lt;li&gt;4つ目は、定数の設定です。たくさんあります。GraphQLクエリ取得データや、該当ページのパスやページ位置、該当ページの前後のページなどを設定します。&lt;/li&gt;&lt;li&gt;5つ目は、取得したクエリ情報を使用して投稿記事のリストを表示する部分と、ページネーションを表示する部分です。適宜、classNameも付けておくと良いでしょう。&lt;/li&gt;&lt;li&gt;6つ目は、GraphQLクエリ取得です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/templates/blogTemplate.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// pagination編集1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./blogTemplate.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// pagination編集2&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;BlogList&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// pagination編集3&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// pagination編集4：ここから&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; currentPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; numPages &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pageContext&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isFirst &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; currentPage &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isLast &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; currentPage &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; numPages&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; prevPage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; currentPage &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentPage &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; nextPage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentPage &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; prevPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; prevPage &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/blog&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/blog/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; nextPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;/blog/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// pagination編集4：ここまで&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout
      pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Blog記事リスト&amp;quot;&lt;/span&gt;
      pageDescription&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;（Blog記事リストの説明）&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* pagination編集5：ここから */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;blogList&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;posts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; slug &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; title &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;slug&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; slug&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pagination&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isFirst &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;prevPath&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;prevPage&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; rel&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;prev&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            ←
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; length&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; numPages &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;pagination-number&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isLast &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;nextPath&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;nextPage&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; rel&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;next&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            →
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* pagination編集5：ここまで */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// pagination編集6：ここから&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query blogListQuery($skip: Int!, $limit: Int!) {
    allMdx(
      sort: { fields: [frontmatter___date], order: DESC }
      limit: $limit
      skip: $skip
    ) {
      edges {
        node {
          slug
          frontmatter {
            title
          }
        }
      }
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// pagination編集6：ここまで&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; BlogList&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：gatsby-node.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;公式ドキュメント「&lt;a href=&quot;https://www.gatsbyjs.com/docs/adding-pagination/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Adding Pagination | Gatsby&lt;/a&gt;」を参考にして、gatsby-node.jsを編集します。クエリで slugを生成する必要があるためです。すでに、「&lt;a href=&quot;../gatsbyjs-tags-page&quot;&gt;タグページを設置&lt;/a&gt;」するために gatsby-node.jsを使用している場合は、うまいことコードを整理しながらページネーションで必要となるコードも追加して書く必要があります。&lt;/li&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;const path = require(&amp;quot;path&amp;quot;);&lt;/code&gt;」は、どちらでも使う共通するコードです。&lt;/li&gt;&lt;li&gt;追加 1つ目。パス取得のためにプラグイン を require（インポートのようなもの）します。「&lt;code class=&quot;language-text&quot;&gt;const { createFilePath } = require(&amp;quot;gatsby-source-filesystem&amp;quot;);&lt;/code&gt;」を加えます。&lt;/li&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;const { createPage } = actions;&lt;/code&gt;」はどちらでも使用するので共通です。&lt;/li&gt;&lt;li&gt;GraphQLクエリ取得の部分は、共有する形で resultに代入します。ページネーションで必要になるコードを追加します。&lt;/li&gt;&lt;li&gt;追加 3つ目は、ページを生成するコードです。&lt;ul&gt;&lt;li&gt;テスト用の投稿記事数が少ない場合は、postsPerPageの値を減らしておきましょう。例えば、「&lt;code class=&quot;language-text&quot;&gt;const postsPerPage = 1;&lt;/code&gt;」と書きます。（※：あとで修正します）&lt;/li&gt;&lt;li&gt;createPage()のオプションの componentの値は、パスやファイル名に違いがあれば変更します。例えば「&lt;code class=&quot;language-text&quot;&gt;component: path.resolve(&amp;quot;./src/templates/blogTemplate.js&amp;quot;),&lt;/code&gt;」のように書きます。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;追加 4つ目は、ノードを作成するコードです。MDXファイルを使用している場合は、MarkdownRemarkを Mdxに変更します。「&lt;code class=&quot;language-text&quot;&gt;if (node.internal.type === &lt;/code&gt;Mdx&lt;code class=&quot;language-text&quot;&gt;) {～中略～}&lt;/code&gt;」のように書きます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-node.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;path&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// tag pageと pagination 共通&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; _ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;lodash&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// tag page&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createFilePath &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-source-filesystem&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// pagination追加1&lt;/span&gt;

exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; actions&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reporter &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// tag pageと pagination 共通&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createPage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; actions&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// tag pageと pagination 共有・pagination追加2&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;graphql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    {
      tagsGroup: allMdx(limit: 2000) {
        group(field: frontmatter___tags) {
          fieldValue
        }
      }
      pageNation: allMdx(
        sort: { fields: [frontmatter___date], order: DESC }
        limit: 2000
      ) {
        edges {
          node {
            slug
          }
        }
      }
    }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;errors&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    reporter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;panicOnBuild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Error while running GraphQL query.&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// tag page&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tagTemplate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;src/templates/tagTemplate.js&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tags &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tagsGroup&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;group
    tags&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;tag&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;createPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/tags/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;kebabCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      component&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tagTemplate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      context&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        tag&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// pagination追加3：ここから&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pageNation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; postsPerPage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; numPages &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ceil&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;posts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; postsPerPage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; length&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; numPages &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;createPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      component&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;./src/templates/blogTemplate.js&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      context&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        limit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; postsPerPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        skip&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; postsPerPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        numPages&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        currentPage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// pagination追加3：ここまで&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// pagination追加4：ここから&lt;/span&gt;
exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onCreateNode&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; actions&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; getNode &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createNodeField &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; actions&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;internal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Mdx&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createFilePath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; getNode &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;createNodeField&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;slug&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// pagination追加4：ここまで&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：blogTemplate.module.cssを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;blogTemplate.module.cssを作成し、最低限のスタイルをあてます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/templates/blogTemplate.module.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.blogList&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.pagination&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.pagination a:not(:last-child)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて確認しましょう。ページナンバーや矢印をクリックしてみて、期待する動作が得られたらとりあえず OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;6：gatsby-node.jsを再編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;確認できたら、一度 [ ctrl ] + [ c ]してサーバを停止します。gatsby-node.jsを再編集するためです。&lt;/li&gt;&lt;li&gt;postsPerPageの値を変更します。「&lt;code class=&quot;language-text&quot;&gt;const postsPerPage = 6;&lt;/code&gt;」に戻しても良いですし、10件ずつ表示したければ、「&lt;code class=&quot;language-text&quot;&gt;const postsPerPage = 10;&lt;/code&gt;」としてもかまいません。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;7：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、改めてブラウザにて確認しましょう。上述の postsPerPageで設定した値に応じた構成に変更されるはずです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;numPages分だけ各ページを iで表示する仕様です。しかし、このままだとページが増えすぎたときに問題が起きます。例えば、[ 1 ][ 2 ] [ 3 ] ... [ 10 ]のように、間を省略するコードに修正する必要がありそうです。&lt;/li&gt;&lt;li&gt;現在のページ位置（カレント）を、スタイルで視覚的に分かりやすく表示する必要もあります。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/adding-pagination/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Adding Pagination | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://nickymeuleman.netlify.app/blog/gatsby-pagination&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Pagination in GatsbyJS | Nicky blogs&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/reference/config-files/gatsby-node/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Gatsby Node APIs | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://vanilla-note.com/posts/adding-pagination/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsbyJSサイトにページネーションを追加する | Vanilla note&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトでサイドバーにタグリストを設置する方法]]></title><description><![CDATA[概要 前回は GatsbyJSサイトに、 タグリストとタグページを作成 しました。今回はそのタグリストを、サイドバーに表示します。 開発環境 Windows10 Node.js: 14.18.0 npm: 6.14.15 gatsby-cli: 3.14.1 GatsbyJS…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-tag-list-sidebar/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-tag-list-sidebar/</guid><pubDate>Thu, 11 Nov 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;前回は GatsbyJSサイトに、&lt;a href=&quot;../gatsbyjs-tags-page&quot;&gt;タグリストとタグページを作成&lt;/a&gt;しました。今回はそのタグリストを、サイドバーに表示します。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：widgetTags.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;/src/components下に widgetTags.jsファイルを作成します。コード内容は、前回作成した &lt;a href=&quot;../gatsbyjs-tags-page&quot;&gt;tags.js（src/pages/tags.js）&lt;/a&gt;とほぼ同じです。しかし、ビルディングブロックコンポーネントの場合は、useStaticQueryを使うルールがあるので少し内容は異なります。&lt;/li&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;import { Link, graphql, useStaticQuery } from &amp;#x27;gatsby&amp;#x27;;&lt;/code&gt;」と書いて、useStaticQueryをインポートしましょう。&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useStaticQuery()&lt;/code&gt;が使えるようになったので、WidgetTags関数内でクエリを取得します。さらに、タグの数が多い順に並べたいので、ソートを行い、定数 groupに代入しています。この部分は Vanilla noteさんの「&lt;a href=&quot;https://vanilla-note.com/posts/creating-categories-pages/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;GatsbyJSサイトにカテゴリー一覧を追加&lt;/a&gt;」に掲載されているコードを参考にさせていただきました。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/widgetTags.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; PropTypes &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;prop-types&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; kebabCase &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;lodash/kebabCase&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useStaticQuery &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;WidgetTags&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useStaticQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    query {
      allMdx(limit: 100) {
        group(field: frontmatter___tags) {
          fieldValue
          totalCount
        }
      }
    }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; group &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; query&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;group&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;totalCount &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;totalCount
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;group&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;tag&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/tags/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;kebabCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;totalCount&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

WidgetTags&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;propTypes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    allMdx&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      group&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;arrayOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          fieldValue&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          totalCount&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; WidgetTags&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：sideBar.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;/src/components下に sideBar.jsファイルを作成します。作成したこの sideBarコンポーネントに、タグリストやカテゴリの機能を追加していくイメージです。今回は、前述の工程 1で作成したタグリストだけ追加します。&lt;/li&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;import WidgetTags from &amp;#x27;./widgetTags&amp;#x27;;&lt;/code&gt;」と書いてインポートして、「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;WidgetTags /&amp;gt;&lt;/code&gt;」で呼び出す形にしましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/sideBar.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; WidgetTags &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./widgetTags&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;SideBar&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;タグクラウド&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h2&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;WidgetTags &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; SideBar&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：layout.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;../gatsbyjs-component-layout&quot;&gt;Layoutコンポーネント&lt;/a&gt;を編集します。layout.jsファイルを開いて、まずインポートを追加します。「&lt;code class=&quot;language-text&quot;&gt;import SideBar from &amp;#x27;./sideBar&amp;#x27;;&lt;/code&gt;」と書いて、前述の工程 2で作成した sideBarコンポーネントをインポートします。&lt;/li&gt;&lt;li&gt;aside要素を追加し、その中で &lt;code class=&quot;language-text&quot;&gt;&amp;lt;SideBar /&amp;gt;&lt;/code&gt;を呼び出します。&lt;/li&gt;&lt;li&gt;main要素と aside要素を横並びにしたいので、div要素で囲みます。classNameもそれぞれ適宜つけておきましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Header &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Footer &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./footer&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; SideBar &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./sideBar&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Seo &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/seo&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./layout.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Layout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageDescription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; imgPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; topPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Seo
        pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        pageDescription&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageDescription&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        imgPath&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;imgPath&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        topPage&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;topPage&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Header pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;contents&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;main&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h2&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;aside className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;aside&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;SideBar &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;aside&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Footer &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Layout&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：layout.module.cssを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;../gatsbyjs-css-modules&quot;&gt;src/components/下に作成した layout.module.css&lt;/a&gt;を、CSSを編集します。例えば次のような内容にします。美しいレイアウトではありませんが、最低限の形はつくはずです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.module.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Helvetica Neue&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Arial&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Hiragino Kaku Gothic ProN&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Hiragino Sans&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Meiryo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sans-serif&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0 auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;min-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.contents&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 200px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-wrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; wrap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.main&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.aside&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 300px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.aside h2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px solid #000&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; screen &lt;span class=&quot;token keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 991px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;.main&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;.aside&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;ちなみに次の部分は、コンテンツの量に関わらずフッターを下部に配置するためのコードです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.module.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ～中略～
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;min-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.contents&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ～中略～
  &lt;span class=&quot;token property&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、「http://localhost:8000/」へアクセスしましょう。サイドバーにタグリストが表示できれば OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;補足：エラーメッセージ&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;前回の&lt;a href=&quot;../gatsbyjs-tags-page&quot;&gt;タグリストとタグページを作成したときのコード&lt;/a&gt;をそのまま流用すると、次のようなエラーが出るかもしれません。親切なことにどのようにすれば良いかも書かれていますね。どうやら、「ビルディングブロックコンポーネントでは、useStaticQuery()を使ってくださいね」ということらしいです。そういえば、そんな話を耳にしていたような気がします。忘れがちです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;warn The GraphQL query in the non-page component
&amp;quot;C:/～（略）～/src/components/widgetTags.js&amp;quot; will not be run.
Exported queries are only executed for Page components. It&amp;#x27;s possible you&amp;#x27;re trying to create pages in your gatsby-node.js and that&amp;#x27;s failing for some reason.

If the failing component(s) is a regular component and not intended to be a page component, you generally want to use a &amp;lt;StaticQuery&amp;gt; (https://gatsbyjs.org/docs/static-query) instead of exporting a page query.

If you&amp;#x27;re more experienced with GraphQL, you can also export GraphQL fragments from components and compose the fragments in the Page component query and pass data down into the child component ? https://graphql.org/learn/queries/#fragments&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/adding-tags-and-categories-to-blog-posts/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Creating Tags Pages for Blog Posts | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://vanilla-note.com/posts/creating-categories-pages/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;GatsbyJSサイトにカテゴリー一覧を追加 | Vanilla note&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Markdownの文章中にインラインでコードを書く方法]]></title><description><![CDATA[概要 GatsbyJSで Webサイトを制作していたときに発生したMarkdownに関する小ネタです。投稿記事の文章中にソースコードを書いたら、おかしなことになったのです。 例えば、「 <i>テキスト</i> と書けば、文字を斜体にできます。」と書きたいのですが、Markdown…]]></description><link>https://moon-forest-design.github.io/memo/markdown-code-in-text/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/markdown-code-in-text/</guid><pubDate>Wed, 10 Nov 2021 02:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;GatsbyJSで Webサイトを制作していたときに発生したMarkdownに関する小ネタです。投稿記事の文章中にソースコードを書いたら、おかしなことになったのです。&lt;/p&gt;&lt;p&gt;例えば、「&lt;i&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;i&amp;gt;テキスト&amp;lt;/i&amp;gt;&lt;/code&gt;&lt;/i&gt;と書けば、文字を斜体にできます。」と書きたいのですが、Markdownでは「&lt;i&gt;テキスト&lt;/i&gt;と書けば、文字を斜体にできます。」と表示されてしまいます。&lt;/p&gt;&lt;p&gt;Markdownなので当たり前のことですが、文章中に要素を書けば、要素として認識されてしまうのです。HTMLだけなら、「&lt;code class=&quot;language-text&quot;&gt;&amp;amp;lt;&lt;/code&gt;」や「&lt;code class=&quot;language-text&quot;&gt;&amp;amp;gt;&lt;/code&gt;」を使用しても良いかもしれませんが、HTMLだけのことではないし手間もかかります。&lt;/p&gt;&lt;p&gt;また、文章中に開始の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」と終了の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」で囲む方法を使うのは違和感があります。p要素の中に pre要素・code要素が挿入される形になるのはいかがなものでしょうか。どうなのだろう。問題ないにしても、CSSによるスタイルのあてかたで悩みそうです。&lt;/p&gt;&lt;h2&gt;解決方法&lt;/h2&gt;&lt;p&gt;Markdownにおいて、文章中にソースコードを書きたいときは、「`（バッククォート）」で囲んであげると良いようです。その部分は、code要素で囲まれてうまいこと表示されます。&lt;/p&gt;&lt;h2&gt;補足&lt;/h2&gt;&lt;p&gt;状況によっては、余計なスタイルがあてられて、困惑することがあるかもしれません。修正しましょう。&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;p code,
li code&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Markdownにてソースコード内にソースコードを書く方法]]></title><description><![CDATA[概要 エンジニアであればとくに、投稿記事内にソースコードを掲載することはよくあるだろうと思います。Markdown記法においては、例えば、開始の「 ~~~ 」と終了の「 ~~~ 」を書けば、その領域は pre要素・code…]]></description><link>https://moon-forest-design.github.io/memo/markdown-code-in-code/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/markdown-code-in-code/</guid><pubDate>Wed, 10 Nov 2021 01:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;エンジニアであればとくに、投稿記事内にソースコードを掲載することはよくあるだろうと思います。Markdown記法においては、例えば、開始の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」と終了の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」を書けば、その領域は pre要素・code要素でうまいこと囲まれます。とくに問題ありません。&lt;/p&gt;&lt;p&gt;しかし、そのソースコード内に Markdown記法のソースコードを書きたい場合はどうすればいいのでしょうか。開始の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」と終了の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」の中に、開始の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」と終了の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」を書いてしまうとおかしなことになってしまうのです。&lt;/p&gt;&lt;h2&gt;解決方法&lt;/h2&gt;&lt;p&gt;投稿記事のソースコード内に Markdown記法のソースコードを書きたいときは、違うソースコード用の記号を使うと書くことができました。&lt;/p&gt;&lt;p&gt;例えば、ソースコード用の記号に「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」を使っているのであれば、まず、開始の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」と終了の「&lt;code class=&quot;language-text&quot;&gt;~~~&lt;/code&gt;」で囲みます。さらに、そのソースコード内にソースコードを書きたいときは、違う記号「```」を使えば良いだけでした。これで、うまいこと表示できるはずです。&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;
```js:title=test.js
const prism = &amp;quot;test&amp;quot;;
```
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Markdownの基本的な使い方]]></title><description><![CDATA[Markdownとは？ Markdownは、Markdown記法で書かれた文章を、HTMLへ変換するツールのことです。Markdownを利用することで、Webライティングを効率よく行うことができるようになります。 なぜ効率よくなるかと言えば、HTML…]]></description><link>https://moon-forest-design.github.io/memo/markdown-basic-usage/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/markdown-basic-usage/</guid><pubDate>Wed, 10 Nov 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Markdownとは？&lt;/h2&gt;&lt;p&gt;Markdownは、Markdown記法で書かれた文章を、HTMLへ変換するツールのことです。Markdownを利用することで、Webライティングを効率よく行うことができるようになります。&lt;/p&gt;&lt;p&gt;なぜ効率よくなるかと言えば、HTMLなどのマークアップ言語を使用しながら文章を書く必要がなくなるためです。少しだけ特殊な Markdown記法を覚えることで、ネット公開を目的とする文章を書く作業が格段に楽になります。&lt;/p&gt;&lt;h2&gt;主な Markdown記法の例&lt;/h2&gt;&lt;h3&gt;見出し&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;見出しを書きたいときは、文頭に「#（ハッシュ記号）」と「半角スペース」を使用します。1～6個の「#（ハッシュ記号）」によって、各種 heading要素を指定することができます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;# h1見出し
## h2見出し
### h3見出し
#### h4見出し
##### h5見出し
###### h6見出し&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;段落&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;段落で区切りたいときは、「何も書いていない空行」を文章の間にはさみます。以下の例で言えば、「テキスト 1」と「テキスト 2」の間に空行を入れるということです。p要素で囲まれます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;テキスト 1

テキスト 2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;箇条書きリスト&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;箇条書きリストを書きたいときは、文頭に「-（半角のハイフン）」と「半角スペース」を使用します。ul・li要素で構成されます。&lt;/li&gt;&lt;li&gt;「-（半角のハイフン）」以外にも、「*（半角のアスタリスク）」や「+（半角のプラス記号）」を使っても同じ結果がえられます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;- 項目 1
- 項目 2
- 項目 3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;ナンバー付きリスト&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;ナンバー付きリストを書きたいときは、文頭に「1.」と「半角スペース」を使用します。ol・li要素で構成されます。&lt;/li&gt;&lt;li&gt;手間と感じないなら、1. 2. 3. と書いてもかまいません。同じ結果がえられます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;1. 項目 1
1. 項目 2
1. 項目 3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;箇条書きリストの入れ子&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;箇条書きリストを入れ子で書きたいときは、入れ子の前に「半角スペースを 4つ」使用します。&lt;/li&gt;&lt;li&gt;ナンバー付きリストについても同様です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;- 項目 1
    - 項目 1の入れ子
    - 項目 1の入れ子
- 項目 2
- 項目 3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;定義リスト&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;定義リストを書きたいとき（dl・dt・dd要素を使いたいとき）は、残念ながら HTMLによるマークアップが必要です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;定義する用語 1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;用語 1の説明&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;定義する用語 2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;用語 2の説明&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;リンク&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;リンクを指定したいときは、リンク先のテキストを「[]（半角の角かっこ）」で囲み、URLを「()（半角の丸かっこ）」で囲みます。a要素で構成されます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;[Googleへのリンク](https://www.google.co.jp/)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;画像&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;画像を表示したいときは、文頭に「!（半角ビックリマーク）」を書き、画像のalt属性を「[]（半角の角かっこ）」で囲み、画像がある場所を「()（半角の丸かっこ）」で囲みます。img要素で構成されます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;![Googleバナー](img/google-banner.png)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;リンク付きの画像&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;リンク付きの画像を表示したいときは、上述のリンクと画像を表示する方法を組み合わせればいいだけです。a・img要素で構成されます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;[![Googleバナー](img/google-banner.png)](https://www.google.co.jp/)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;テーブル&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;テーブルを利用したいときは、次のように書きます。table・th・td要素で構成されます。&lt;/li&gt;&lt;li&gt;公式に記載が見当たらないので方言かもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;|th|th|th|
|---|---|---|
|td|td|td|
|td|td|td|&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;テーブル内のセルを揃えたいときは、次のように書きます。左から左揃え、中央揃え、右揃えになります。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;|th|th|th|
|:---|:---:|---:|
|td|td|td|
|td|td|td|&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;ソースコード&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;ソースコードを書きたいときは、開始の「バッククォート 3つ」と終了の「バッククォート 3つ」でソースコードをはさみます。つまり、開始の「&lt;code class=&quot;language-text&quot;&gt;```&lt;/code&gt;」と終了の「&lt;code class=&quot;language-text&quot;&gt;```&lt;/code&gt;」ではさんで書くということです。pre・code要素で構成されます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
const markdown = &amp;quot;test&amp;quot;;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;引用&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;引用したいときは、文頭に「&amp;gt;（半角のグレーターザン）」を使用します。blockquote要素で構成されます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;gt; 引用です。
&amp;gt; 引用です。
&amp;gt; 引用です。&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;強調&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;文章中の文字列を強調したいときは、「*（アスタリスク）」を使用します。「*（アスタリスク）」2つでテキストをはさむと、strong要素が適用されます。&lt;/li&gt;&lt;li&gt;「*（アスタリスク）」1つでテキストをはさむと、em要素による強調が適用されます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;**strong要素による強調**
*em要素による強調*&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;Markdownの無効化&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「\（バックスラッシュ）」を使うと、Markdownを無効化できます。例えば、文章内に「*（アスタリスク）」を書きたいときは、「*（アスタリスク）」の前に「\（バックスラッシュ）」を使用しておくほうが良さそうです。「*（アスタリスク）」を 2回書いてしまうと、Markdownから強調と勘違いされてしまいます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;文章内に「\*（アスタリスク）」を書きたいときは、「\*（アスタリスク）」の前に～以下略&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://daringfireball.net/projects/markdown/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Daring Fireball: Markdownへのリンク&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.github.com/gfm/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;GitHub Flavored Markdown Spec&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://qiita.com/Qiita/items/c686397e4a0f4f11683d&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Markdown記法 チートシート - Qiita&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトにタグページを設置する方法]]></title><description><![CDATA[概要 今回は GatsbyJS公式の「 Creating Tags Pages for Blog Posts | Gatsby 」を参考にして、タグページを設置しました。今のところ公式のドキュメントは MD版なので、MDX…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-tags-page/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-tags-page/</guid><pubDate>Tue, 09 Nov 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;今回は GatsbyJS公式の「&lt;a href=&quot;https://www.gatsbyjs.com/docs/adding-tags-and-categories-to-blog-posts/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Creating Tags Pages for Blog Posts | Gatsby&lt;/a&gt;」を参考にして、タグページを設置しました。今のところ公式のドキュメントは MD版なので、MDX用に書き直してあります。&lt;/li&gt;&lt;li&gt;タグページを作成するのであれば、事前にブログページを作っておく必要があります。&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;../gatsbyjs-blog-page-step1&quot;&gt;各ブログページを作成する方法 STEP1&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;../gatsbyjs-blog-page-step2&quot;&gt;各ブログページを作成する方法 STEP2&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：各ブログページを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;blog/下にある各ブログページのファイルを開き、タグを追加します。例えば、「&lt;code class=&quot;language-text&quot;&gt;tags: [&amp;quot;タグA&amp;quot;, &amp;quot;タグB&amp;quot;, &amp;quot;タグC&amp;quot;]&lt;/code&gt;」のように書きます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-one/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-23&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./advent-season-3010349_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とクリスマスクッキー&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e9%99%8d%e8%87%a8%e7%af%80-%e3%83%87%e3%83%a5%e3%83%bc%e3%83%a9%e3%83%bc%e3%81%ae%e3%83%91%e3%83%b3-3010349/&amp;quot;&lt;/span&gt;
tags&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;タグA&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグB&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグC&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-two/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 2 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 2 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-24&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./advent-season-3010352_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とチョコレート菓子&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e9%99%8d%e8%87%a8%e7%af%80-%e3%83%81%e3%83%a7%e3%82%b3%e3%83%ac%e3%83%bc%e3%83%88%e8%8f%93-3010352/&amp;quot;&lt;/span&gt;
tags&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;タグA&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグB&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-three/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 3 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 3 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-25&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./breakfast-3010355_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とパン&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e6%9c%9d%e3%81%94%e3%81%af%e3%82%93-%e3%81%8a%e5%9b%a3%e5%ad%90-3010355/&amp;quot;&lt;/span&gt;
tags&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;タグB&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;タグC&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：GraphiQLで確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;GraphiQLインターフェースで、タグに関する情報を取得できるか、確認しましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;query MyQuery {
  allMdx {
    group(field: frontmatter___tags) {
      fieldValue
      totalCount
    }
    totalCount
    edges {
      node {
        slug
        frontmatter {
          title
          tags
        }
      }
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：tagTemplate.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;タグページのテンプレートを作成します。投稿記事で作成したタグの分だけ、自動的にページを生成できるようにしておくためです。&lt;/li&gt;&lt;li&gt;まず、src/下にtemplatesというディレクトリを作成します。&lt;/li&gt;&lt;li&gt;作成した templatesディレクトリ内に tagTemplate.jsというファイルを作成します。&lt;a href=&quot;https://www.gatsbyjs.com/docs/adding-tags-and-categories-to-blog-posts/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;公式のドキュメントで紹介されているコード&lt;/a&gt;をまるっと参考にすると良いでしょう。&lt;/li&gt;&lt;li&gt;参考にはしますが状況に応じて変更はします。例えば、ファイル名を tags.jsにしてしまうと、後ほど作成するファイル名と同じなので、混乱するようであれば tagTemplate.jsなどに変えておくほうが良さそうです。&lt;/li&gt;&lt;li&gt;コード内にも変更点はあるかもしれません。MDXファイルを使用しているのであれば、allMarkdownRemarkを allMdxと書き換えましょう。おそらく、3箇所くらいあるはずです。&lt;/li&gt;&lt;li&gt;定数 tagHeaderへ代入する値は、お好みに合わせて日本語化してシンプルな形にしても良さそうです。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;../gatsbyjs-component-layout&quot;&gt;Layoutコンポーネントを使用している場合&lt;/a&gt;もあるはずです。ページタイトルを、Layoutコンポーネントで表示するのであれば、「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;h1&amp;gt;{tagHeader}&amp;lt;/h1&amp;gt;&lt;/code&gt;」を削除します。ページのタイトルは、Layoutコンポーネントを使って引数として渡してあげます。また、インポートするのもどうぞお忘れなく。&lt;/li&gt;&lt;li&gt;クエリの取得で「&lt;code class=&quot;language-text&quot;&gt;fields { slug }&lt;/code&gt;」にすると「Cannot query field &amp;quot;fields&amp;quot; on type &amp;quot;Mdx&amp;quot;.」というエラーが発生するかもしれません。MDXファイルを使用しているのであれば、fieldsを削除して、slugだけにするとうまくいきました。また、「&lt;code class=&quot;language-text&quot;&gt;const slug = node.slug&lt;/code&gt;」の部分は、{}が不要になります。&lt;/li&gt;&lt;li&gt;投稿記事へのリンク先（パス）を調整する必要もあるかもしれません。投稿記事を置いている場所によっては、「&lt;code class=&quot;language-text&quot;&gt;${slug}&lt;/code&gt;」の前にディレクトリ名を追加するとうまくいきます。例えば、「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link to={&lt;/code&gt;/blog/${slug}&lt;code class=&quot;language-text&quot;&gt;}&amp;gt;{title}&amp;lt;/Link&amp;gt;&lt;/code&gt;」のように書きます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/templates/tagTemplate.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; PropTypes &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;prop-types&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Tags&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; tag &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pageContext&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; edges&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; totalCount &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMdx&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tagHeader &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;タグ「&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;tag&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;」が付いた記事（&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;totalCount&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;件）&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout
      pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tagHeader&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      pageDescription&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;タグ「&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;tag&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;」が付いた記事リスト&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; slug &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug
          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; title &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;slug&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/tags&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;All tags&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
Tags&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;propTypes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pageContext&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    tag&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    allMdx&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      totalCount&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      edges&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;arrayOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          node&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            frontmatter&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            slug&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Tags&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query($tag: String) {
    allMdx(
      limit: 2000
      sort: { fields: [frontmatter___date], order: DESC }
      filter: { frontmatter: { tags: { in: [$tag] } } }
    ) {
      totalCount
      edges {
        node {
          slug
          frontmatter {
            title
          }
        }
      }
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：gatsby-node.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;プロジェクトディレクトリ直下に、gatsby-node.jsファイルを作成します。gatsby-node.jsは、createPage()したいようなときに使用するファイルみたいです。これについても、&lt;a href=&quot;https://www.gatsbyjs.com/docs/adding-tags-and-categories-to-blog-posts/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;公式のドキュメントで紹介されているコード&lt;/a&gt;を参考にすると良いでしょう。&lt;/li&gt;&lt;li&gt;制作の状況にあわせて変更していきます。例えば、MDXファイルを使用しており、且つブログを &lt;code class=&quot;language-text&quot;&gt;{mdx.slug}.js&lt;/code&gt;ファイルで生成しているのであれば、「&lt;code class=&quot;language-text&quot;&gt;const blogPostTemplate = path.resolve(&amp;quot;src/templates/blog.js&amp;quot;)&lt;/code&gt;」は、おそらく不要です。また、graphqlでクエリ取得している postsRemarkの部分も不要です。postsRemarkがいらなければ、もちろん定数 posts部分も不要です。&lt;/li&gt;&lt;li&gt;MDXファイルを使用している場合は、graphqlでクエリの tagsGroupのところの allMarkdownRemarkを allMdxと書き換えましょう。&lt;/li&gt;&lt;li&gt;定数 tagTemplateについては、前述の工程 3で作成したtagに関するテンプレートのファイル名を指定します。例えば、「&lt;code class=&quot;language-text&quot;&gt;path.resolve(&amp;quot;src/templates/tagTemplate.js&amp;quot;)&lt;/code&gt;」のように指定します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-node.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;path&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; _ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;lodash&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; actions&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reporter &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createPage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; actions&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; blogPostTemplate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;src/pages/blog/{mdx.slug}.js&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tagTemplate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;src/templates/tagTemplate.js&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;graphql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    {
      tagsGroup: allMdx(limit: 2000) {
        group(field: frontmatter___tags) {
          fieldValue
        }
      }
    }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;errors&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    reporter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;panicOnBuild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Error while running GraphQL query.&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tags &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tagsGroup&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;group
    tags&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;tag&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;createPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/tags/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;kebabCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      component&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tagTemplate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      context&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        tag&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：tags.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下に tags.jsファイルを作成します。これはタグのリストを表示するためのページです。あるいは、タグの一覧表示と言うほうが分かり良いでしょうか。これもまた、公式ドキュメントに掲載されているコードが参考になります。&lt;/li&gt;&lt;li&gt;状況に応じて変更しましょう。MDX形式でブログを作るのであれば、これも allMarkdownRemarkを、allMdxと書き換える必要があります。おそらく、3箇所ほどあるはずです。&lt;/li&gt;&lt;li&gt;SEOに関する処理を、Layoutコンポーネント経由で行うのであれば、ここで Helmetは不要です。インポートしている「&lt;code class=&quot;language-text&quot;&gt;import { Helmet } from &amp;quot;react-helmet&amp;quot;;&lt;/code&gt;」を削除します。&lt;/li&gt;&lt;li&gt;Helmetが不要なら、titleに関する部分もいらなくなります。削除して Layoutコンポーネントを追加してください。インポートもお忘れずに追加しましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/tags.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; PropTypes &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;prop-types&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; kebabCase &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;lodash/kebabCase&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;TagsPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    allMdx&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; group &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout
    pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;タグリスト&amp;quot;&lt;/span&gt;
    pageDescription&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;タグ一覧を表示するページです。&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;group&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;tag&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/tags/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;kebabCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fieldValue&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;totalCount&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
TagsPage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;propTypes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    allMdx&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      group&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;arrayOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          fieldValue&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          totalCount&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;number&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isRequired
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; TagsPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query {
    allMdx(limit: 2000) {
      group(field: frontmatter___tags) {
        fieldValue
        totalCount
      }
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：header.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;header.jsのグローバルナビゲーションに、タグページへのリンクを追加します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/header.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useStaticQuery&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Header&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useStaticQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    query {
      site {
        siteMetadata {
          siteName
        }
      }
    }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navList&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/blog&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;blog&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/tags&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;tags&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Header&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;7：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、「http://localhost:8000/tags/」へアクセスします。タグリストページ、各タグページ、そしてタグページから各投稿記事ページが表示できるか確認してみて問題なければ OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;補足：エラーメッセージ&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;エラーメッセージ「Cannot query field &amp;quot;fields&amp;quot; on type &amp;quot;Mdx&amp;quot;.」の全文は、以下ようです。エラーメッセージとあわせて、いろいろとアドバイスいただいていますが、前述の通り、「fields」を削除することで解決しました。何回か試しての結論ですが、gatsby-node.jsあたりで設定を間違えていた可能性もあるので、何とも言えません。&lt;/li&gt;&lt;li&gt;「The field might be accessible in another subfield,」の部分の subfieldが、下層の slugのことも指す意味をもつのであれば、2番目のアドバイス通りかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; ERROR #85923  GRAPHQL

There was an error in your GraphQL query:

Cannot query field &amp;quot;fields&amp;quot; on type &amp;quot;Mdx&amp;quot;.

If you don&amp;#x27;t expect &amp;quot;fields&amp;quot; to exist on the type &amp;quot;Mdx&amp;quot; it is most likely a typo.
However, if you expect &amp;quot;fields&amp;quot; to exist there are a couple of solutions to common problems:

- If you added a new data source and/or changed something inside gatsby-node.js/gatsby-config.js, please try a restart of your development server
- The field might be accessible in another subfield, please try your query in GraphiQL and use the GraphiQL explorer to see which fields you can query and what shape they have
- You want to optionally use your field &amp;quot;fields&amp;quot; and right now it is not used anywhere. Therefore Gatsby can&amp;#x27;t infer the type and add it to the GraphQL schema. A quick fix is to add at least one entry with that field (&amp;quot;dummy content&amp;quot;)

It is recommended to explicitly type your GraphQL schema if you want to use optional fields. This way you don&amp;#x27;t have to add the mentioned &amp;quot;dummy content&amp;quot;. Visit our docs to learn how you can define the schema for &amp;quot;Mdx&amp;quot;: https://www.gatsbyjs.com/docs/reference/graphql-data-layer/schema-customization#creating-type-definitions&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/adding-tags-and-categories-to-blog-posts/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Creating Tags Pages for Blog Posts | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトに 404 Not Foundページを作成する方法]]></title><description><![CDATA[概要 閲覧者が、存在しないページへアクセスしようとした場合、とくに何も準備をしておかないとホスティングサービスが用意しておいた 404 Not Foundページが表示されるのではないかと思います。しかし、自前の 404 Not Found…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-404-not-found/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-404-not-found/</guid><pubDate>Sun, 31 Oct 2021 01:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;閲覧者が、存在しないページへアクセスしようとした場合、とくに何も準備をしておかないとホスティングサービスが用意しておいた 404 Not Foundページが表示されるのではないかと思います。しかし、自前の 404 Not Foundページを表示したい場合もあるはずです。&lt;/p&gt;&lt;p&gt;GatsbyJSでは、404.jsというファイルを作成するだけで、自前の 404 Not Foundページが表示されます。&lt;/p&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：404 Not Foundページを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下に 404.jsファイルを作成します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/404.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;NotFound&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout
      pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;404 Not Found&amp;quot;&lt;/span&gt;
      pageDescription&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;存在しないページです。&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;すみません。指定された &lt;span class=&quot;token constant&quot;&gt;URL&lt;/span&gt;のページは存在しません。&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;gt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;gt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; トップページへ&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; NotFound&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて「&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/&lt;/code&gt;」へアクセスし、存在しないページを指定してみましょう。&lt;/li&gt;&lt;li&gt;開発環境においては、「Gatsby.js development 404 page」というページが表示されるはずです。そこで [ Preview custom 404 page ]ボタンを押すと、自前の 404 Not Foundページを表示することができます。うまいこと表示されたら OKです。&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトで SEO対策]]></title><description><![CDATA[概要 今回は、GatsbyJSサイトに SEOをほどこします。SEOとは、Search Engine Optimizationの略称です。Googleなどの検索サイトは、検索エンジンというシステムを開発・運用し、ネット上にどのような Web…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-seo/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-seo/</guid><pubDate>Sun, 31 Oct 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;今回は、GatsbyJSサイトに SEOをほどこします。SEOとは、Search Engine Optimizationの略称です。Googleなどの検索サイトは、検索エンジンというシステムを開発・運用し、ネット上にどのような Webサイトがあるか巡回して情報を収集しています。その検索エンジンが Webサイトの内容を理解しやすいように、情報を分かりやすく最適化（Optimization）しておくことを SEOと呼びます。広義には、アクセス増などの他の意味も持ちますが、それはまた別のお話です。&lt;/li&gt;&lt;li&gt;情報を最適化する手段の一つは、head要素の titleや meta、OGPなどを適切に設定することです。SEO用のビルディングブロックコンポーネントを作成し、より良い設定を目指しましょう。必要となるプラグインは、gatsby-plugin-react-helmetと react-helmetの 2つです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;li&gt;gatsby-transformer-sharp&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：フロントマターを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;各 index.mdxを開き、それぞれのフロントマター部分に、description情報を書き加えます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-one/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-23&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./advent-season-3010349_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とクリスマスクッキー&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e9%99%8d%e8%87%a8%e7%af%80-%e3%83%87%e3%83%a5%e3%83%bc%e3%83%a9%e3%83%bc%e3%81%ae%e3%83%91%e3%83%b3-3010349/&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-two/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 2 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 2 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-24&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./advent-season-3010352_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とチョコレート菓子&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e9%99%8d%e8%87%a8%e7%af%80-%e3%83%81%e3%83%a7%e3%82%b3%e3%83%ac%e3%83%bc%e3%83%88%e8%8f%93-3010352/&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-three/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 3 のタイトル&amp;quot;&lt;/span&gt;
description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 3 の説明&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-25&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./breakfast-3010355_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とパン&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e6%9c%9d%e3%81%94%e3%81%af%e3%82%93-%e3%81%8a%e5%9b%a3%e5%ad%90-3010355/&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;GatsbyJSサイトの head要素内に要素を追加するには、次の 2つのプラグインをインストールする必要があります。&lt;ul&gt;&lt;li&gt;gatsby-plugin-react-helmet&lt;/li&gt;&lt;li&gt;react-helmet&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-plugin-react-helmet react-helmet&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：gatsby-config.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsにて、siteMetadataを設定します。siteNameは、すでに &lt;a href=&quot;../gatsbyjs-site-name&quot;&gt;Webサイト名を設定する方法&lt;/a&gt;で行いました。まだであれば、他の項目 5つ（siteSubTitle、siteDescription、siteUrl、siteOgpImage、siteAuthor）とあわせて、新規追加しましょう。&lt;ul&gt;&lt;li&gt;siteNameは、あなたが制作している Webサイト名を入力します。&lt;/li&gt;&lt;li&gt;siteSubTitleは、Webサイトにつけるサブタイトルを入力します。トップページの title要素を、「サイト名｜サブタイトル」という形にします。&lt;/li&gt;&lt;li&gt;siteDescriptionは、Webサイトの説明を入力します。基本的には、トップページの meta要素（description）として使用します。また、各ページから引数として pageDescriptionを受け取れなかった場合は、デフォルトの descriptionとして利用します。&lt;/li&gt;&lt;li&gt;siteUrlは、 WebサイトのURLを入力します。例えばドメインが仮に gatsbyjs-test.comであるならば、&lt;code class=&quot;language-text&quot;&gt;https://gatsbyjs-test.com&lt;/code&gt;もしくは &lt;code class=&quot;language-text&quot;&gt;http://gatsbyjs-test.com&lt;/code&gt;とします。canonicalや OGPの URLに利用します。（※：末尾の「/」は不要です）&lt;/li&gt;&lt;li&gt;siteOgpImageは、WebサイトのOGP画像のファイル名を入力します。例えば、ogp-image.pngであれば、「/ogp-image.png」と入力し、実際の画像ファイルは、staticディレクトリに入れておきます。&lt;/li&gt;&lt;li&gt;siteAuthorは、Webサイトの著者名を入力します。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;プラグイン gatsby-plugin-react-helmetの設定も、gatsby-config.jsへ追加しておきます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteSubTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトのサブタイトル）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの説明）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（WebサイトのURL）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteOgpImage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（WebサイトのOGP画像のファイル名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteAuthor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（Webサイトの著者名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-source-filesystem&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;__dirname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-mdx&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-transformer-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-react-helmet&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：seo.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/components下に seo.jsファイルを作成します。インストールしたプラグインをまず、react-helmet、@reach/router、prop-typesをインポートしましょう。それぞれ、次の役割を担っています。&lt;ul&gt;&lt;li&gt;react-helmetは、head要素に titleや meta要素などを差し込みます。&lt;/li&gt;&lt;li&gt;@reach/routerは、各ページのパスを取得します。&lt;/li&gt;&lt;li&gt;prop-typesは、型チェックに使用します。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;graphqlでは、siteMetadataを取得します。サイト全体で共通する項目、もしくはトップページで使用するデータです。&lt;/li&gt;&lt;li&gt;引数からは各ページの個別のデータを取得して展開します。&lt;ul&gt;&lt;li&gt;pageTitleは、各ページのタイトルを受け取るために使用します。&lt;/li&gt;&lt;li&gt;pageDescriptionは、各ページの説明を受け取るために使用します。&lt;/li&gt;&lt;li&gt;imgPathは、各ページの OGP画像のパスとファイル名を受け取るために使用します。&lt;/li&gt;&lt;li&gt;topPageは、トップページか否かを判断するためだけに使用します。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;一度オブジェクト seoで必要な形に整形し、さらに helmet要素内で title要素や meta要素として出力（return）します。&lt;/li&gt;&lt;li&gt;defaultPropsは、初期値設定に使用します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/seo.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Helmet &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;react-helmet&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useStaticQuery&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useLocation &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;@reach/router&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; PropTypes &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;prop-types&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;SEO&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageDescription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; imgPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; topPage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pathname &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useLocation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; site &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useStaticQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteSubTitle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteDescription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteUrl&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteOgpImage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    siteAuthor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; seo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; pageTitle &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;pageTitle&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; | &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;siteName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;siteName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; | &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;siteSubTitle&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; pageDescription &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; siteDescription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;siteUrl&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;imgPath &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; siteOgpImage&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; pathname &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;siteUrl&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;pathname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;siteUrl&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    pageType&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; topPage &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;website&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;article&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Helmet&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;html lang&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;ja-JP&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;description&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;image&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;image&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;siteAuthor&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;link rel&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;canonical&amp;quot;&lt;/span&gt; href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta property&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;og:locale&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;ja-JP&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta property&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;og:site_name&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;siteName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta property&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;og:url&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pageType &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta property&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;og:type&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pageType&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta property&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;og:title&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta property&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;og:description&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;image &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta property&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;og:image&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;image&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;twitter:card&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;summary_large_image&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;twitter:title&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;twitter:description&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;image &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;meta name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;twitter:image&amp;quot;&lt;/span&gt; content&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;seo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;image&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Helmet&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;SEO&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query {
    site {
      siteMetadata {
        siteName
        siteSubTitle
        siteDescription
        siteUrl
        siteOgpImage
        siteAuthor
      }
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token constant&quot;&gt;SEO&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaultProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pageTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  pageDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  imgPath&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  topPage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token constant&quot;&gt;SEO&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;propTypes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteSubTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteOgpImage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteAuthor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  pageTitle&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  pageDescription&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  imgPath&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  topPage&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; PropTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bool&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：header.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/components/下にある header.jsを編集します。&lt;/li&gt;&lt;li&gt;title要素は、SEOコンポーネントで取り扱うので、「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;title&amp;gt;{pageTitle} | {data.site.siteMetadata.siteName}&amp;lt;/title&amp;gt;&lt;/code&gt;」は削除します。&lt;/li&gt;&lt;li&gt;pageTitleを受け取る必要が無くなったので、「&lt;code class=&quot;language-text&quot;&gt;const Header = ({ pageTitle }) =&amp;gt; { ... };&lt;/code&gt;」の「&lt;code class=&quot;language-text&quot;&gt;{ pageTitle }&lt;/code&gt;」も削除します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/header.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useStaticQuery&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Header&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useStaticQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    query {
      site {
        siteMetadata {
          siteName
        }
      }
    }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navList&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/blog&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;blog&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Header&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：src/pages/index.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下にある index.jsを編集します。&lt;/li&gt;&lt;li&gt;トップページは gatsby-config.jsの siteMetadata情報を使用してタイトルを生成することにしたので、「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Layout pageTitle=&amp;quot;Home Page&amp;quot;&amp;gt;&lt;/code&gt;」の「&lt;code class=&quot;language-text&quot;&gt;pageTitle=&amp;quot;Home Page&amp;quot;&lt;/code&gt;」を削除します。&lt;/li&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Layout&lt;/code&gt;」に「&lt;code class=&quot;language-text&quot;&gt;topPage={true}&lt;/code&gt;」を追加します。index.jsでは、「&lt;code class=&quot;language-text&quot;&gt;topPage={true}&lt;/code&gt;」を渡すことで、トップページであることを伝えます。トップページのみ、タイトルの構成や OGPのページタイプ（og:type）が違うためです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/index.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; StaticImage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby-plugin-image&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;IndexPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout topPage&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;この Webサイトは、GatsbyJSのチュートリアルにそって制作しています。&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;StaticImage
        alt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;サンプル&amp;quot;&lt;/span&gt;
        src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;../img/test-img-top.png&amp;quot;&lt;/span&gt;
        placeholder&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Blurred&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; IndexPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;7：about.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下にある about.jsも編集します。&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Layout&amp;gt;&lt;/code&gt;に引数を 2つ追加します。&lt;ul&gt;&lt;li&gt;1つは pageTitleです。「&lt;code class=&quot;language-text&quot;&gt;pageTitle=&amp;quot;About Me&amp;quot;&lt;/code&gt;」と記述します。&lt;/li&gt;&lt;li&gt;もう1つは pageDescriptionです。「&lt;code class=&quot;language-text&quot;&gt;pageDescription=&amp;quot;（Aboutページの説明）&amp;quot;&lt;/code&gt;」と記述します。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/about.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;AboutPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageTitle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;About Me&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout
      pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;About Me&amp;quot;&lt;/span&gt;
      pageDescription&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;（Aboutページの説明）&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;こんにちは！ 私は GatsbyJSを試しているところです。&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; AboutPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;8：src/pages/blog/index.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/blog/下にある index.jsも同様です。&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Layout&amp;gt;&lt;/code&gt;に引数を 2つ追加します。&lt;ul&gt;&lt;li&gt;1つは pageTitleです。「&lt;code class=&quot;language-text&quot;&gt;pageTitle=&amp;quot;Blog記事リスト&amp;quot;&lt;/code&gt;」と記述します。&lt;/li&gt;&lt;li&gt;もう1つは pageDescriptionです。「&lt;code class=&quot;language-text&quot;&gt;pageDescription=&amp;quot;（Blog記事リストの説明）&amp;quot;&lt;/code&gt;」と記述します。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/blog/index.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;BlogList&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout
      pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Blog記事リスト&amp;quot;&lt;/span&gt;
      pageDescription&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;（Blog記事リストの説明）&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;node&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h3&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Posted&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query {
    allMdx(sort: {fields: frontmatter___date, order: DESC}) {
      nodes {
        frontmatter {
          date(formatString: &amp;quot;MMMM D, YYYY&amp;quot;)
          title
        }
        id
        slug
      }
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; BlogList&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;9：{mdx.slug}.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/blog/下にある {mdx.slug}.jsは、&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Layout&amp;gt;&lt;/code&gt;に引数を 3つ追加します。&lt;ul&gt;&lt;li&gt;1つ目は pageTitleです。「&lt;code class=&quot;language-text&quot;&gt;pageTitle={data.mdx.frontmatter.title}&lt;/code&gt;」と記述します。&lt;/li&gt;&lt;li&gt;2つ目は pageDescriptionです。「&lt;code class=&quot;language-text&quot;&gt;pageDescription={data.mdx.frontmatter.description}&lt;/code&gt;」と記述します。&lt;/li&gt;&lt;li&gt;3つ目は imgPathです。「&lt;code class=&quot;language-text&quot;&gt;imgPath={&lt;/code&gt;/${data.mdx.slug}${data.mdx.frontmatter.hero_image.base}&lt;code class=&quot;language-text&quot;&gt;}&lt;/code&gt;」と記述します。これにより、各記事のヒーロー画像を OGP画像として指定できます。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;graphqlにクエリを 3つ追加します。&lt;ul&gt;&lt;li&gt;1つ目は、&lt;code class=&quot;language-text&quot;&gt;frontmatter { ... }&lt;/code&gt;の中に descriptionを入れます。&lt;/li&gt;&lt;li&gt;2つ目は、&lt;code class=&quot;language-text&quot;&gt;hero_image { ... }&lt;/code&gt;の中に baseを入れます。&lt;/li&gt;&lt;li&gt;3つ目は、&lt;code class=&quot;language-text&quot;&gt;mdx(id: {eq: $id}) { ... }&lt;/code&gt;の中に slugを入れます。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/blog/index.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; MDXRenderer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby-plugin-mdx&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; GatsbyImage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; getImage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby-plugin-image&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;BlogPost&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; image &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hero_image&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout
      pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      pageDescription&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      imgPath&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hero_image&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;base&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Posted&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GatsbyImage
        image&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;image&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        alt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hero_image_alt&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        Photo Credit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;a href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hero_image_credit_link&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hero_image_credit_text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MDXRenderer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;MDXRenderer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query ($id: String) {
    mdx(id: {eq: $id}) {
      frontmatter {
        title
        description
        date(formatString: &amp;quot;MMMM D, YYYY&amp;quot;)
        hero_image_alt
        hero_image_credit_link
        hero_image_credit_text
        hero_image {
          childImageSharp {
            gatsbyImageData
          }
          base
        }
      }
      body
      slug
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; BlogPost&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;10：layout.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/components/下にある layout.jsを編集します。seo.jsを読み込むためにインポートが必要です。「&lt;code class=&quot;language-text&quot;&gt;import Seo from &amp;#x27;../components/seo&amp;#x27;;&lt;/code&gt;」を追加します。&lt;/li&gt;&lt;li&gt;各ページから受け取る引数を追加します。pageDescription、imgPath、topPageの 3つです。「&lt;code class=&quot;language-text&quot;&gt;const Layout = ({ pageTitle, pageDescription, imgPath, topPage, children }) =&amp;gt; { ～略～ };&lt;/code&gt;」と書きます。&lt;/li&gt;&lt;li&gt;各ページから受け取った引数を渡して &lt;code class=&quot;language-text&quot;&gt;&amp;lt;seo /&amp;gt;&lt;/code&gt;を呼び出します。「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Seo pageTitle={pageTitle} pageDescription={pageDescription} imgPath={imgPath} topPage={topPage} /&amp;gt;&lt;/code&gt;」と書きます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Header &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Footer &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./footer&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Seo &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/seo&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./layout.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Layout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageDescription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; imgPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; topPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Seo
        pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        pageDescription&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageDescription&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        imgPath&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;imgPath&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        topPage&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;topPage&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Header pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h2&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Footer &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Layout&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;11：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて各ページへアクセスしましょう。title要素や meta要素などが期待した通りの内容か確認します。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;今回作成した seo.jsファイルは、GatsbyJS公式のドキュメント「&lt;a href=&quot;https://www.gatsbyjs.com/docs/add-seo-component/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Adding an SEO Component | Gatsby&lt;/a&gt;」を参考にしました。主な変更点は以下ようです。&lt;ul&gt;&lt;li&gt;localeを追加しました。ちなみに、「lang=&amp;quot;ja_JP&amp;quot;」で指定すると Warningエラーが出るため、「lang=&amp;quot;ja-JP&amp;quot;」にするほうが良いようです。&lt;/li&gt;&lt;li&gt;siteSubTitleを追加しました。title要素は、トップページでは「サイト名｜サブタイトル」となり、各ページは「ページタイトル｜サイト名」となります。&lt;/li&gt;&lt;li&gt;authorを追加しました。&lt;/li&gt;&lt;li&gt;urlは、pathnameがあるか確認し、あれば付加する形にしました。&lt;/li&gt;&lt;li&gt;titleTemplateは、期待する形にならなかったので使用しないことにしました。&lt;/li&gt;&lt;li&gt;link要素（rel=&amp;quot;canonical&amp;quot;）を追加しました。&lt;/li&gt;&lt;li&gt;meta要素（property=&amp;quot;og:site_name&amp;quot;）を追加しました。&lt;/li&gt;&lt;li&gt;meta要素（property=&amp;quot;og:type&amp;quot;）は、トップページが「website」、各ページは「article」と出力されるようにしました。&lt;/li&gt;&lt;li&gt;twitterUsernameは、利用していないので削除しました。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;React.PropTypesは、React v15.5から別パッケージになりました。使いたい場合は、prop-typesライブラリをインストールしなければならないそうです。しかし、インストールしていないけれど使えています。なぜでしょう。「npm list」コマンドで確認したところ、すでに入っているように見えます。GatsbyJSに内包されているのかな。少し検索しただけでは情報が見つからず保留。&lt;/li&gt;&lt;li&gt;useLocation()から代入するパス名は「pathname」にしなければいけないようです。試しに「pathName」にしたところ undefinedになってしまいます。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/add-page-metadata/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Adding Page Metadata | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/add-seo-component/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Adding an SEO Component | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://zenn.dev/tomokiya/books/4b13342f6d878b93e06c/viewer/79e7d5655d8d93f59124&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;SEO｜Gatsby入門&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://qiita.com/atomyah/items/2624ea4f9394e4a992b8&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Gatsby: SEO対策（Twitterカードなどmetaタグ設置） - Qiita&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://reffect.co.jp/react/gatsby-react-helmet-seo&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;もう迷わないGatsby SEO メタタグの設定方法 | アールエフェクト&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトにブログページを作成する方法 STEP2]]></title><description><![CDATA[概要 「 各ブログページを作成する方法 STEP1 」の続きです。今回は、GatsbyJSサイトの各ブログページにヒーロー画像（ヒーローイメージ）を表示できるようにします。動的に画像を表示するには、プラグインgatsby-transformer-sharp…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-blog-page-step2/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-blog-page-step2/</guid><pubDate>Fri, 22 Oct 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;「&lt;a href=&quot;../gatsbyjs-blog-page-step1&quot;&gt;各ブログページを作成する方法 STEP1&lt;/a&gt;」の続きです。今回は、GatsbyJSサイトの各ブログページにヒーロー画像（ヒーローイメージ）を表示できるようにします。動的に画像を表示するには、プラグインgatsby-transformer-sharpを使用します。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：各ブログページごとに、ディレクトリを作成する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;前回までのファイル構成としては、blogディレクトリ下に mdxファイル（例：post-one.mdx、post-two.mdx、post-three.mdx）を配置していましたが、各ブログページごとに、ディレクトリを作成します。ディレクトリ名は、各ブログページの mdxファイル名にします。&lt;ul&gt;&lt;li&gt;blog/post-one/&lt;/li&gt;&lt;li&gt;blog/post-two/&lt;/li&gt;&lt;li&gt;blog/post-three/&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;各ブログページの mdxファイルを、各ディレクトリへ移動します。&lt;ul&gt;&lt;li&gt;blog/post-one/post-one.mdx&lt;/li&gt;&lt;li&gt;blog/post-two/post-two.mdx&lt;/li&gt;&lt;li&gt;blog/post-three/post-three.mdx&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;各ブログページの mdxファイル名を、index.mdxへ変更します。&lt;ul&gt;&lt;li&gt;blog/post-one/index.mdx&lt;/li&gt;&lt;li&gt;blog/post-two/index.mdx&lt;/li&gt;&lt;li&gt;blog/post-three/index.mdx&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;2：画像を用意する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;画像素材サイトを利用して、適当な画像を用意しましょう。画像は、ヒーロー画像として利用します。&lt;/li&gt;&lt;li&gt;画像が用意できたら、上述で作成した各ディレクトリへ入れておきましょう。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;3：フロントマターを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;各ブログページの index.mdxを開き、それぞれのフロントマター部分に、画像に関する情報を書き加えます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-one/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 のタイトル&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-23&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./advent-season-3010349_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とクリスマスクッキー&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e9%99%8d%e8%87%a8%e7%af%80-%e3%83%87%e3%83%a5%e3%83%bc%e3%83%a9%e3%83%bc%e3%81%ae%e3%83%91%e3%83%b3-3010349/&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-two/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 2 のタイトル&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-24&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./advent-season-3010352_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とチョコレート菓子&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e9%99%8d%e8%87%a8%e7%af%80-%e3%83%81%e3%83%a7%e3%82%b3%e3%83%ac%e3%83%bc%e3%83%88%e8%8f%93-3010352/&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-three/index.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 3 のタイトル&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-25&amp;quot;&lt;/span&gt;
hero_image&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;./breakfast-3010355_1280.jpg&amp;quot;&lt;/span&gt;
hero_image_alt&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;人形とパン&amp;quot;&lt;/span&gt;
hero_image_credit_text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Wilfried Pohnke&amp;quot;&lt;/span&gt;
hero_image_credit_link&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;https://pixabay.com/ja/photos/%e6%9c%9d%e3%81%94%e3%81%af%e3%82%93-%e3%81%8a%e5%9b%a3%e5%ad%90-3010355/&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;画像を表示するためには、トランスフォーマープラグインが必要になります。プラグイン gatsby-transformer-sharpをインストールしましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-transformer-sharp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：gatsby-config.jsへ設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsへプラグイン gatsby-transformer-sharpの設定を追加します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module.exports = {
  siteMetadata: {
    siteName: &amp;quot;お試しGatsbyJS&amp;quot;,
  },
  plugins: [
    &amp;quot;gatsby-plugin-image&amp;quot;,
    &amp;quot;gatsby-plugin-sharp&amp;quot;,
    {
      resolve: &amp;quot;gatsby-source-filesystem&amp;quot;,
      options: {
        name: `blog`,
        path: `${__dirname}/blog`,
      }
    },
    &amp;quot;gatsby-plugin-mdx&amp;quot;,
    &amp;quot;gatsby-transformer-sharp&amp;quot;,
  ],
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：GraphiQLで確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;GraphiQLインターフェースで、ヒーロー画像に関する情報を取得できるか、確認しましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;query ($id: String) {
  mdx(id: {eq: $id}) {
    frontmatter {
      title
      date(formatString: &amp;quot;MMMM D, YYYY&amp;quot;)
      hero_image_alt
      hero_image_credit_link
      hero_image_credit_text
      hero_image {
        childImageSharp {
          gatsbyImageData
        }
      }
    }
    body
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：{mdx.slug}.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/blog/下にある {mdx.slug}.jsを編集します。画像を表示するために、GatsbyImageと getImageを importします。「&lt;code class=&quot;language-text&quot;&gt;import { GatsbyImage, getImage } from &amp;#x27;gatsby-plugin-image&amp;#x27;;&lt;/code&gt;」を追加しましょう。&lt;/li&gt;&lt;li&gt;定数 imageに「&lt;code class=&quot;language-text&quot;&gt;getImage(data.mdx.frontmatter.hero_image)&lt;/code&gt;」を代入し、使いやすいようにしておきます。&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;GatsbyImage&amp;gt;&lt;/code&gt;を使って、画像を表示します。画像に関するクレジットとリンク先も表示します。&lt;/li&gt;&lt;li&gt;上述 GraphiQLインターフェースで試したクエリを定数 queryへ代入します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/blog/{mdx.slug}.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; MDXRenderer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby-plugin-mdx&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; GatsbyImage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; getImage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby-plugin-image&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;BlogPost&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; image &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hero_image&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Posted&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;GatsbyImage
        image&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;image&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        alt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hero_image_alt&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        Photo Credit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;a href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hero_image_credit_link&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hero_image_credit_text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MDXRenderer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;MDXRenderer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query ($id: String) {
    mdx(id: {eq: $id}) {
      frontmatter {
        title
        date(formatString: &amp;quot;MMMM D, YYYY&amp;quot;)
        hero_image_alt
        hero_image_credit_link
        hero_image_credit_text
        hero_image {
          childImageSharp {
            gatsbyImageData
          }
        }
      }
      body
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; BlogPost&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;7：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて「&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/blog&lt;/code&gt;」へアクセスしましょう。各ブログページを表示し、ヒーロー画像が表示されるか確認します。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;画像ファイルが壊れていると「gatsby-plugin-sharp couldn&amp;#x27;t determine dimensions for file:～中略～This file is unusable and is most likely corrupt.」というエラーが出るかもしれません。エラーが出たら、画像が壊れていないか確認してみると良さそうです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-7/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 7: Add Dynamic Images from Data | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトにブログページを作成する方法 STEP1]]></title><description><![CDATA[概要 「 ブログリストページを作成する方法 STEP2 」の続きです。前回は blog.js…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-blog-page-step1/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-blog-page-step1/</guid><pubDate>Thu, 21 Oct 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;「&lt;a href=&quot;../gatsbyjs-blog-list-page-step2&quot;&gt;ブログリストページを作成する方法 STEP2&lt;/a&gt;」の続きです。前回は blog.jsファイルにて、コンテンツ内容をブログリストページという形で表示するところまで行いました。しかし、記事が増えるほどに、ずらずらと長くなってしまうため、そのような表示の仕方はあまり一般的ではありません。&lt;/p&gt;&lt;p&gt;今回は、GatsbyJSサイトに各ブログページを作成し、そのそれぞれのページでコンテンツ内容を表示する形に変更します。 Filesystem Route APIやクエリ変数などの仕組みを利用することで、うまいこと各ブログページを作成することができるようになります。&lt;/p&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：ディレクトリ blogを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下に、ディレクトリ「blog」を作成しましょう。つまり、src/pages/blogという階層構成です。これはプロジェクトディレクトリ直下に作成した ディレクトリ「blog」と同じディレクトリ名なので混乱するかもしれませんが、別のディレクトリです。&lt;/li&gt;&lt;li&gt;src/pages/下にある blog.jsを、上述で作成したディレクトリ（src/pages/blog）へ移動します。&lt;/li&gt;&lt;li&gt;ファイルを移動したら、ファイル名を blog.jsから index.jsへ変更します。これにより、「http://localhost:8000/blog」へアクセスされても、「http://localhost:8000/blog/index.js」が処理する形になります。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;2：index.js（src/pages/blog/index.js）を編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;上述のファイル名を変更したほうの index.js（src/pages/blog/index.js）ファイルを編集します。これはトップページを表示する index.js（src/pages/index.js）とは違います。同じファイル名なので混乱するかもしれませんが、ご注意ください。&lt;/li&gt;&lt;li&gt;index.js（src/pages/blog/index.js）のインポート部分のコードから見ていきましょう。まず、gatsbyからの importに Linkを追加します。これは、各ブログ記事ページへリンクするために必要になります。「&lt;code class=&quot;language-text&quot;&gt;import { Link, graphql } from &amp;#x27;gatsby&amp;#x27;;&lt;/code&gt;」と書きましょう。&lt;/li&gt;&lt;li&gt;前回の「&lt;a href=&quot;../gatsbyjs-blog-list-page-step2&quot;&gt;ブログリストページを作成する方法 STEP2&lt;/a&gt;」で記述した MDXRendererに関するコードは、記事内容を表示しないわけですからいらなくなりました。ゆえに「&lt;code class=&quot;language-text&quot;&gt;import { MDXRenderer } from &amp;#x27;gatsby-plugin-mdx&amp;#x27;;&lt;/code&gt;」と「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;MDXRenderer&amp;gt;{node.body}&amp;lt;/MDXRenderer&amp;gt;&lt;/code&gt;」は削除します。（後述の各ブログページのほうで使用します）&lt;/li&gt;&lt;li&gt;当ファイルを src/pages/blog下へ移動して場所が変わったので、importしている Layoutのパスを変更する必要があります。相対パスの位置関係を適切にするために「&lt;code class=&quot;language-text&quot;&gt;import Layout from &amp;#x27;../../components/layout&amp;#x27;;&lt;/code&gt;」とします。「../」が増えます。&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Layout&amp;gt;&lt;/code&gt;内では Array.mapを使って各ブログページの情報を繰り返し出力しています。記事タイトルには、&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link&amp;gt;&lt;/code&gt;を付けましょう。node.slugには、mdxの各ファイル名が出力されるので、うまいことリンクされます。&lt;/li&gt;&lt;li&gt;各ブログ情報を取得するためのクエリ情報 queryを指定します。bodyを slugへ変更します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/blog/index.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;BlogPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Blog記事リスト&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;node&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h3&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Posted&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query {
    allMdx(sort: {fields: frontmatter___date, order: DESC}) {
      nodes {
        frontmatter {
          date(formatString: &amp;quot;MMMM D, YYYY&amp;quot;)
          title
        }
        id
        slug
      }
    }
  }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; BlogPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：{mdx.slug}.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/blog/下に {mdx.slug}.jsファイルを作成します。{}が付いている変わったファイル名ですが、これは Filesystem Route APIという仕組みを利用するために必要みたいです。&lt;/li&gt;&lt;li&gt;上述で削除した MDXRendererに関するコードは、この {mdx.slug}.jsで使用します。{mdx.slug}.jsは、各 mdxファイルを読み込んで記事ページを自動的に作成してくれるファイルです。ファイル一つだけで済みます。&lt;/li&gt;&lt;li&gt;クエリ変数 $idを使うことで、該当するページをうまいこと表示できます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/blog/{mdx.slug}.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; MDXRenderer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby-plugin-mdx&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;BlogPost&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Posted&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MDXRenderer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;MDXRenderer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query ($id: String) {
    mdx(id: {eq: $id}) {
      frontmatter {
        title
        date(formatString: &amp;quot;MMMM D, YYYY&amp;quot;)
      }
      body
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; BlogPost&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて「&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/blog&lt;/code&gt;」へアクセスしましょう。各ブログ記事のタイトルと投稿日が表示されます。さらに、リンクをクリックすれば、各ブログページが表示されるはずです。&lt;/li&gt;&lt;li&gt;なぜかうまく行かない場合（リンクが undefinedで 404ページになる場合など）は、コマンド「gatsby clean」を試してみると良いかもしれません。&lt;/li&gt;&lt;li&gt;さらに、「&lt;a href=&quot;../gatsbyjs-blog-page-step2&quot;&gt;各ブログページを作成する方法 STEP2&lt;/a&gt;」へ続きます。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-6/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 6: Create Pages Programmatically | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトにブログリストページを作成する方法 STEP2]]></title><description><![CDATA[概要 「 ブログリストページを作成する方法 STEP1 」の続きです。今回はファイル名ではなく、そのファイルの中身を表示します。 GatsbyJSの MDXトランスフォーマープラグインを使うことで、MDXファイルの中身を表示することができるようになります。 MDX…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-blog-list-page-step2/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-blog-list-page-step2/</guid><pubDate>Wed, 20 Oct 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;「&lt;a href=&quot;../gatsbyjs-blog-list-page-step1&quot;&gt;ブログリストページを作成する方法 STEP1&lt;/a&gt;」の続きです。今回はファイル名ではなく、そのファイルの中身を表示します。&lt;/p&gt;&lt;p&gt;GatsbyJSの MDXトランスフォーマープラグインを使うことで、MDXファイルの中身を表示することができるようになります。&lt;/p&gt;&lt;h2&gt;MDXトランスフォーマープラグインとは？&lt;/h2&gt;&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:81.14285714285715%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8klEQVQoz22Ti27bMAxF+/9fNwzDgK7dljhx8/JDliXxTQ1yCnQtQggwQfjg6pLUU63V3MWc1cxbqLUj5mbVvaq5eUvEXN29tkr71PpUa71G/DPk12v60S+HGUDs75BPC0bg39f0fF5fLuuUKRT+dVl/vsUpEYm9w6I2xxzWEjNOS5xDLCQZ2cyRNQEVEjVT85hhyQgsd+kNFtntu+vtpiK73X7fHRCBiJojM4BStwAA4VZ0tw/YzGp1FFuBwloK25wgZIjAS6ElU0JJKDFDYS0kZrZZ3uAtvJDWWlPK1Bz5fix9oMtKxxkS6ibYAje39TNcCxsRD9N0vQ1rTuua3k7n2zCKaghhmOYYo7kD6wM4kxbCoYSxLDNEAOj7020cVcTyqGnQPKnyY+VMiowThHMaIiVE7A7HcZrcpMJc06WuZ1Um8YdwG09CigCFuBCHmFJBEkVCwnaQBfiz8tbtqs2PICuJAUkqiCRAUpBIlNVZjESljfzzqLrj2747vPfdHQDMTLZfW4cR3T4Ev8Jrau1tucqdrLXSFu+rUsp9Q77C98zdI/DrOZxDYbVM0k/pMCYgVbNrhOd+XgqLtrt8WZLmeUj0vY+7obC2V9VNsBsLStvqboJvh+W0oPmjbt+3B1ibrjs1cQXW+1MFVrFW9P/gfxj3pJbqiDcbAAAAAElFTkSuQmCC&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;GatsbyJSのデータレイヤ&quot; title=&quot;GatsbyJSのデータレイヤ&quot; src=&quot;/static/d48fad88d23142359d5de8336411588d/8c557/post-data-layer-with-nodes.png&quot; srcSet=&quot;/static/d48fad88d23142359d5de8336411588d/4edbd/post-data-layer-with-nodes.png 175w,/static/d48fad88d23142359d5de8336411588d/13ae7/post-data-layer-with-nodes.png 350w,/static/d48fad88d23142359d5de8336411588d/8c557/post-data-layer-with-nodes.png 700w,/static/d48fad88d23142359d5de8336411588d/e996b/post-data-layer-with-nodes.png 1050w,/static/d48fad88d23142359d5de8336411588d/2cefc/post-data-layer-with-nodes.png 1400w,/static/d48fad88d23142359d5de8336411588d/7970d/post-data-layer-with-nodes.png 1908w&quot; sizes=&quot;(max-width: 700px) 100vw, 700px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-5/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;画像出典：Part 5: Transform Data to Use MDX | Gatsby&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;ul&gt;&lt;li&gt;MDXトランスフォーマープラグインを利用するので、どのようなものか作業前に少し理解しておくほうが良さそうです。「&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-5/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 5: Transform Data to Use MDX | Gatsby&lt;/a&gt;」のページで紹介されている画像が分かり良いので引用させていただきました。イメージしやすいと思います。&lt;/li&gt;&lt;li&gt;MDXトランスフォーマープラグインは、GraphQLデータレイヤ内の処理において、File Nodesを MDX Nodesへ変換する役割を担っています。これにより、MDXファイル形式で書かれているコンテンツの内容を、各ページへレンダリングすることができるようになります。&lt;/li&gt;&lt;li&gt;ちなみに、MDXファイル形式を使用する場合のトランスフォーマープラグインは gatsby-plugin-mdxです。MDファイル形式を使用する場合のトランスフォーマープラグインは gatsby-transformer-remarkです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：mdxファイルの内容を作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;まず、プロジェクトディレクトリ直下の blogディレクトリへ行きましょう。&lt;/li&gt;&lt;li&gt;mdxファイルの中身を記述します。Markdow記法でフロントマターやコンテンツとなる文章を書きましょう。開始「&lt;code class=&quot;language-text&quot;&gt;---&lt;/code&gt;」と終了「&lt;code class=&quot;language-text&quot;&gt;---&lt;/code&gt;」の間の領域がフロントマターで、終了「&lt;code class=&quot;language-text&quot;&gt;---&lt;/code&gt;」の下が文章を書く領域です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-one.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 1 のタイトル&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-23&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-two.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 2 のタイトル&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-24&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;blog/post-three.mdx&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;投稿記事 3 のタイトル&amp;quot;&lt;/span&gt;
date&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;2021-07-25&amp;quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
投稿記事 &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; のテキスト&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;MDXトランスフォーマープラグイン gatsby-plugin-mdx及び、依存関係にあるプラグイン（@mdx-js/mdx、@mdx-js/react）をインストールします。&lt;ul&gt;&lt;li&gt;gatsby-plugin-mdx&lt;/li&gt;&lt;li&gt;@mdx-js/mdx&lt;/li&gt;&lt;li&gt;@mdx-js/react&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-plugin-mdx @mdx-js/mdx @mdx-js/react&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：gatsby-config.jsに設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsファイルに、gatsby-plugin-mdxの設定を追加します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（あなたのWebサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-source-filesystem&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;__dirname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-mdx&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：GraphiQLで確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;GraphiQLインターフェースでクエリを試します。allMdxの nodesの frontmatterの dateと title、そして keyに使用するための id、コンテンツ内容 bodyの項目にチェックを入れ、さらに降順に sortするための設定を入力しましょう。（以下をコピペしてもかまいません）&lt;/li&gt;&lt;li&gt;実行ボタンを押します。上述にて作成した mdxファイルの内容が表示されれば OKです。bodyの内容は何やらごちゃっと表示されるかもしれませんが気にせずに進めましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;query MyQuery {
  allMdx(sort: {fields: frontmatter___date, order: DESC}) {
    nodes {
      frontmatter {
        date(formatString: &amp;quot;MMMM D, YYYY&amp;quot;)
        title
      }
      id
      body
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：blog.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下に作成した blog.jsを編集します。まずは、「&lt;code class=&quot;language-text&quot;&gt;import { MDXRenderer } from &amp;#x27;gatsby-plugin-mdx&amp;#x27;;&lt;/code&gt;」と書いてプラグインをインポートします。これで&lt;code class=&quot;language-text&quot;&gt;&amp;lt;MDXRenderer&amp;gt;&lt;/code&gt;が使えるようになります。&lt;/li&gt;&lt;li&gt;Array.mapを使って、mdxファイルの数だけ繰り返し出力します。これにより投稿記事のタイトルや日付、及び内容を表示することができます。&lt;/li&gt;&lt;li&gt;GatsbyJSは Reactをベースに作られています。Reactでは、Array.mapなどで繰り返しリスト表示する項目に「key」なるものを設定するのが一般的です。keyを設定しておくことで、追加・変更・削除などの処理がしやすくなるためです。&lt;/li&gt;&lt;li&gt;上述、GraphQLのデータは、定数 queryへ代入し、exportします。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/blog.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; MDXRenderer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby-plugin-mdx&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;BlogList&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Blog記事リスト&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMdx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;node&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h3&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Posted&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;MDXRenderer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;MDXRenderer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query {
    allMdx(sort: {fields: frontmatter___date, order: DESC}) {
      nodes {
        frontmatter {
          date(formatString: &amp;quot;MMMM D, YYYY&amp;quot;)
          title
        }
        id
        body
      }
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; BlogList&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて「&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/blog&lt;/code&gt;」へアクセスしましょう。コンテンツ内容（投稿記事のタイトル・日付・文章）が、日付の降順で表示されたら OKです。&lt;/li&gt;&lt;li&gt;さらに、「&lt;a href=&quot;../gatsbyjs-blog-page-step1&quot;&gt;各ブログページを作成する方法 STEP1&lt;/a&gt;」へ続きます。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-5/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 5: Transform Data to Use MDX | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://ja.reactjs.org/docs/lists-and-keys.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;リストと key – React&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトにブログリストページを作成する方法 STEP1]]></title><description><![CDATA[概要 GatsbyJSサイトにブログリストページを作成します。ブログリストページとは、いわゆるアーカイブページのことです。 今回は、ソースプラグイン gatsby-source-filesystemを使用して、ディレクトリ名を表示できるか試します。 開発環境 Windows1…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-blog-list-page-step1/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-blog-list-page-step1/</guid><pubDate>Tue, 19 Oct 2021 02:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;GatsbyJSサイトにブログリストページを作成します。ブログリストページとは、いわゆるアーカイブページのことです。&lt;/p&gt;&lt;p&gt;今回は、ソースプラグイン gatsby-source-filesystemを使用して、ディレクトリ名を表示できるか試します。&lt;/p&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：テスト用の投稿記事を作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;プロジェクトディレクトリに、blogというディレクトリを作成します。（※：プロジェクトディレクトリとは、gatsby-config.jsなどがあるプロジェクトの最上位の場所です）&lt;/li&gt;&lt;li&gt;作成した blogディレクトリ内に、テスト用の投稿記事を作成しましょう。とりあえず、中身は空で大丈夫です。拡張子 .mdxのファイルを、3個くらい作成します。&lt;/li&gt;&lt;li&gt;試験的な意味では、投稿記事のファイル名を post-one.mdx、post-two.mdx、post-three.mdxとしておくと後で都合が良いです。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;2：プラグインを準備する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;ブログリストページをうまいこと機能させるためには、ソースプラグイン gatsby-source-filesystemが必要になります。&lt;a href=&quot;../gatsbyjs-static-image&quot;&gt;StaticImageコンポーネントを導入して静的な画像表示&lt;/a&gt;をしている場合は、すでに gatsby-source-filesystemがインストール済みかもしれません。何にせよコマンド「gatsby info」を使ってインストールされているか確認してみましょう。&lt;/li&gt;&lt;li&gt;まだインストールしていない場合は、インストールしましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ gatsby info&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-source-filesystem&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：gatsby-config.jsに設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsファイルに、gatsby-source-filesystemに関する設定を追加します。blogディレクトリに関する情報（name、pathなど）を取得できるように記述しておく必要があるためです。&lt;/li&gt;&lt;li&gt;nameは、ブラウザで表示するときのディレクトリ名（URLの一部）として使用されます。例えば、nameの設定を blogとした場合は &lt;code class=&quot;language-text&quot;&gt;https://（あなたのWebサイトのドメイン名）/blog&lt;/code&gt;となります。&lt;/li&gt;&lt;li&gt;pathは、開発の段階における実際のディレクトリの場所です。プロジェクトディレクトリ下の blogディレクトリにあるのなら「${__dirname}/blog」と書きます。&lt;/li&gt;&lt;li&gt;必ずしも、nameと pathのディレクトリ名が一致する必要はありません。例えば、nameの値を blogとし、pathの値を ${__dirname}/contentsとしても問題ありません。問題ないと言うよりも、不一致の場合でも良きように処理するために gatsby-source-filesystemで設定するというほうがより正確な表現かもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（あなたのWebサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-source-filesystem&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;__dirname&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/blog&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：GraphiQLで確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;GraphiQLインターフェースで確認します。エクスプローラーで allFileの nodesの nameにチェックします。&lt;/li&gt;&lt;li&gt;実行ボタンを押してみましょう。前述にて作成した mdxファイル名が表示されれば OKです。（例：post-one、post-two、post-three）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;query MyQuery {
  allFile {
    nodes {
      name
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：blog.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下に blog.jsファイルを作成します。&lt;/li&gt;&lt;li&gt;GraphQLを使うので、graphqlを importする必要があります。「&lt;code class=&quot;language-text&quot;&gt;import { graphql } from &amp;#x27;gatsby&amp;#x27;;&lt;/code&gt;」を追加します。&lt;/li&gt;&lt;li&gt;GraphQLクエリデータを、引数として受け取るために「&lt;code class=&quot;language-text&quot;&gt;{ data }&lt;/code&gt;」を追加します。&lt;/li&gt;&lt;li&gt;Array.mapを使って、{node.name}をファイルの数だけ繰り返し出力します。&lt;/li&gt;&lt;li&gt;GraphQLのデータを定数 queryへ代入し、exportします。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/blog.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;BlogList&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Blog記事リスト&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allFile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;node&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  query {
    allFile {
      nodes {
        name
      }
    }
  }
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; BlogList&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：header.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/components/下の header.jsを編集します。ブログリストページへのリンクを追加しましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/header.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useStaticQuery&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Header&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useStaticQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    query {
      site {
        siteMetadata {
          siteName
        }
      }
    }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navList&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/blog&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;blog&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Header&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;7：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて「&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/&lt;/code&gt;」へアクセスしましょう。&lt;/li&gt;&lt;li&gt;ナビメニューの blogをクリックし、ブログリストページ（&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/blog&lt;/code&gt;）を表示してみてください。mdxファイル名が表示されていたなら、今回はとりあえず OKです。&lt;/li&gt;&lt;li&gt;さらに、「&lt;a href=&quot;../gatsbyjs-blog-list-page-step2&quot;&gt;ブログリストページを作成する方法 STEP2&lt;/a&gt;」へ続きます。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-4/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 4: Query for Data with GraphQL | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトに Webサイト名を設定する方法]]></title><description><![CDATA[概要 今回の方法で GatsbyJSサイトに Webサイト名を設定しておくと便利です。仮に何かしらの理由でサイト名を変更することになっても、gatsby-config.jsの 1箇所を修正するだけで済みます。 Webサイト名に限らず、ドメイン名や Author（著者）など、Web…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-site-name/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-site-name/</guid><pubDate>Tue, 19 Oct 2021 01:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;今回の方法で GatsbyJSサイトに Webサイト名を設定しておくと便利です。仮に何かしらの理由でサイト名を変更することになっても、gatsby-config.jsの 1箇所を修正するだけで済みます。&lt;/li&gt;&lt;li&gt;Webサイト名に限らず、ドメイン名や Author（著者）など、Webサイトのどのページにも共通する項目（meta情報）を設定しておくと良いかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;インストール済みのプラグイン&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：gatsby-config.jsで設定する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsファイルを開き、siteMetadataという項目に siteNameに関する情報を追加します。「（あなたのWebサイト名）」の部分には、あなたのWebサイト名を入力しましょう。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-3/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;GatsbyJS公式のチュートリアル&lt;/a&gt;では、siteNameではなく titleとしているかもしれません。お好きなようにしていただいてかまいませんが、のちのち &lt;a href=&quot;../gatsbyjs-seo&quot;&gt;SEOに関する設定&lt;/a&gt;をするときに分かり良くするためにここでは siteNameとしています。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    siteName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;（あなたのWebサイト名）&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：GraphiQLインターフェースで確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、&lt;a href=&quot;../gatsbyjs-graphql-data-layer&quot;&gt;GraphiQLインターフェース&lt;/a&gt;で事前に確認します。エクスプローラーで siteの siteMetadataの siteNameにチェックし、実行ボタンを押しましょう。右側の結果エリアに「siteName: &amp;quot;（あなたのWebサイト名）&amp;quot;」が表示されれば、とりあえずは OKです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;query MyQuery {
  site {
    siteMetadata {
      siteName
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：header.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;GraphQLクエリの確認ができたら、Webサイト名を使用したいページに記述します。今回は、headerコンポーネント（header.js）で設定してみましょう。「&lt;code class=&quot;language-text&quot;&gt;import { useStaticQuery, graphql } from &amp;#x27;gatsby&amp;#x27;;&lt;/code&gt;」と書くことで、useStaticQueryフックと GraphQLをインポートしています。&lt;/li&gt;&lt;li&gt;useStaticQueryを使って、GraphQLのデータを定数 dataへ代入します。&lt;/li&gt;&lt;li&gt;サイト名を表示したい箇所に、&lt;code class=&quot;language-text&quot;&gt;{ data.site.siteMetadata.title }&lt;/code&gt;を記述します。例えばここでは、title要素と h1要素にて使用することにしました。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/header.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useStaticQuery&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Header&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useStaticQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    query {
      site {
        siteMetadata {
          siteName
        }
      }
    }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navList&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Header&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：layout.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Webサイト名を h1要素にしたので、ページタイトルの要素を修正します。「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;h1&amp;gt;{pageTitle}&amp;lt;/h1&amp;gt;&lt;/code&gt;」を「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;h2&amp;gt;{pageTitle}&amp;lt;/h2&amp;gt;&lt;/code&gt;」へ変更します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Header &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Footer &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./footer&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./layout.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Layout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Header pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h2&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Footer &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Layout&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて Webサイト名が表示できたら OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-3/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 3: Add Features with Plugins | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSの GraphQLデータレイヤの役割とは？]]></title><description><![CDATA[GraphQLデータレイヤの役割 
 画像出典：Part 4: Query for Data with GraphQL | Gatsby GatsbyJSのGraphQLデータレイヤについては、「 Part 4: Query for Data with GraphQL…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-graphql-data-layer/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-graphql-data-layer/</guid><pubDate>Tue, 19 Oct 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;GraphQLデータレイヤの役割&lt;/h2&gt;&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:64%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVQoz01S225TQQzM//8YT5WgohQkaKOSNMqlydmrL2N70aYBau2LdzU74xmv1DwTSG3pWLoynNQLoYupRWWkjkxoYubR1RIhM0gdFqtE+Hloz6f+8Jq/7cohc2V835VTkcJYv7XHXf6xL0/HlgnHqveb9LBN56ZNbBURnbiUysyq6hEeQcxEEjEbUWWWMQbMSZQ6GUxhHrEKj8129+t5bQYDmAjAGKPWamZjjJxyeKgqE5lhjBhjuHtErNwdAIuULo3tUmh7uFTGUlqq1ASHc6qMzf7tUqkyKmkX3MDjWvBgeMTw+e/oYk+n/nKm7YX3WV8XnmxxO1XsHbWKMSIC5pXRBJm0dE2ku6XvEx0zHxNN80gLaWN0QSGdxlzBoQoRBWYYMPcYxNyJWURURbX1jhjvr9OoiP+yf29fP99/TTlPKTG9IaY5y7XGGPOGeHyoG3hqnnRu7nA/L6l2us4yZoS1vbsAWMplZnllNvvL7O4jojHOhV9OOZOKWmMcE+2WVvnaih2Wvru0wlBYuE/D/ikpjMdd+fR02S4Em9u3udCXTWZ1MV867tbpbp1ORfAu5iN4rjRbFcsE91ALUusyOSNmkJluSx5xA/8BsEDy9N80QtgAAAAASUVORK5CYII=&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;GatsbyJSのGraphQLデータレイヤの役割&quot; title=&quot;GatsbyJSのGraphQLデータレイヤの役割&quot; src=&quot;/static/f02a2e01c068bc6bdad8d590d8e52bff/8c557/post-data-layer.png&quot; srcSet=&quot;/static/f02a2e01c068bc6bdad8d590d8e52bff/4edbd/post-data-layer.png 175w,/static/f02a2e01c068bc6bdad8d590d8e52bff/13ae7/post-data-layer.png 350w,/static/f02a2e01c068bc6bdad8d590d8e52bff/8c557/post-data-layer.png 700w,/static/f02a2e01c068bc6bdad8d590d8e52bff/e996b/post-data-layer.png 1050w,/static/f02a2e01c068bc6bdad8d590d8e52bff/2cefc/post-data-layer.png 1400w,/static/f02a2e01c068bc6bdad8d590d8e52bff/10d53/post-data-layer.png 1724w&quot; sizes=&quot;(max-width: 700px) 100vw, 700px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
    &lt;/span&gt;
&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-4/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;画像出典：Part 4: Query for Data with GraphQL | Gatsby&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;ul&gt;&lt;li&gt;GatsbyJSのGraphQLデータレイヤについては、「&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-4/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 4: Query for Data with GraphQL | Gatsby&lt;/a&gt;」のページで紹介されている画像が分かり良いので引用させていただきました。GatsbyJSがどのようにしてデータを取り扱うのかがイメージしやすい内容です。&lt;/li&gt;&lt;li&gt;GatsbyJSの GraphQLデータレイヤの役割とその仕組みを文章で書くと、次のような流れになります。&lt;ol&gt;&lt;li&gt;データは各所いろいろなところに存在して構いません。GraphQLの技術を使ってアクセスできる場所であれば、パソコンのフォルダ内や Headless CMSなど、どこでも良いようです。複数あってもかまいません。&lt;/li&gt;&lt;li&gt;それらの各所にあるデータは、ソースプラグインを導入することで取得することができます。ソースプラグインには、gatsby-source-filesystem、gatsby-source-contentfulなどがあります。&lt;/li&gt;&lt;li&gt;取得したデータは、GraphQLデータレイヤから GraphQLクエリを使うことで各ページへ表示することができます。&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;GraphiQLの使い方&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;GraphQLに関するクエリ情報は、GraphiQL（http://localhost:8000/___graphql）にアクセスすることで確認できます。実際のコードに直接クエリを追加して試すのではなく、GraphiQLというツールを使用して、うまくいくか事前に試すほうが結果的に作業が捗ります。&lt;/li&gt;&lt;li&gt;ページの構成を大まかに分けると、3つの領域に区分できます。左側にあるエクスプローラーで確認したいデータをチェックするか、もしくは直接クエリエディタに入力し、実行ボタンを押すと右側のウィンドウに結果が表示されます。&lt;ul&gt;&lt;li&gt;左：エクスプローラー&lt;/li&gt;&lt;li&gt;中：クエリエディタ&lt;/li&gt;&lt;li&gt;右：結果ウィンドウ&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-4/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 4: Query for Data with GraphQL | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-5/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 5: Transform Data to Use MDX | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトで CSS Modulesを利用する方法]]></title><description><![CDATA[概要 GatsbyJSサイトに対して styleを指定する方法はたくさんあります。特別なことをせず CSSファイルを作成して importするだけでも問題ありませんし、CSS in JSや Tailwind CSS…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-css-modules/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-css-modules/</guid><pubDate>Thu, 14 Oct 2021 06:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;GatsbyJSサイトに対して styleを指定する方法はたくさんあります。特別なことをせず CSSファイルを作成して importするだけでも問題ありませんし、CSS in JSや Tailwind CSSなどのフレームワークを使用してもかまわないとのことです。&lt;/li&gt;&lt;li&gt;お好きなようにしていただいてかまわないけれど、公式 GatsbyJSとしては、CSS Modulesを利用して jsファイルごとに CSSを作成する方法を推してはいるようです。&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-2/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル&lt;/a&gt;を読むと、CSS Modulesには、クラス名が衝突しにくい利点があるとのことです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：layout.module.cssを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;layout.jsに対してスタイルをあてたい場合は、まず、src/components/下に layout.module.cssファイルを作成します。&lt;/li&gt;&lt;li&gt;中身はとりあえず、.containerの指定だけ記述してみましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.module.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Helvetica Neue&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Arial&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Hiragino Kaku Gothic ProN&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;Hiragino Sans&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Meiryo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sans-serif&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0 auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 500px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：layout.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/components/下の layout.jsにおいて、まずは、importします。例えば「&lt;code class=&quot;language-text&quot;&gt;import * as style from &amp;#x27;./layout.module.css&amp;#x27;&lt;/code&gt;;」と書きます。&lt;/li&gt;&lt;li&gt;div要素には「&lt;code class=&quot;language-text&quot;&gt;className={style.container}&lt;/code&gt;」と書きます。Reactベース（JSXの記法）なので、class属性ではなく className属性で指定します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Header &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Footer &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./footer&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./layout.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Layout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Header pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Footer &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Layout&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザで表示してスタイルが適用されることが分かったら、とりあえず OKです。次へ進みましょう。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;4：header.module.cssを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;スタイルが適用されることが確認できたら、もう少しだけ体裁を整えておきます。header.jsに対してもスタイルをあてたいので、src/components/下に header.module.cssファイルを作成します。&lt;/li&gt;&lt;li&gt;ナビゲーションメニューを横並びにするなど、最低限のスタイルだけあてましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/header.module.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-decoration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.navList&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0 0 50px 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; space-between&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;list-style-type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：header.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;header.js用の CSSが使えるように importします。「&lt;code class=&quot;language-text&quot;&gt;import * as style from &amp;#x27;./header.module.css&amp;#x27;&lt;/code&gt;;」と書きます。&lt;/li&gt;&lt;li&gt;ul要素に className属性を追加します。「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;ul className={style.navList}&amp;gt;&lt;/code&gt;」と書きます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/header.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Header&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navList&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Header&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：footer.module.cssを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;footer.jsに対してもスタイルをあてたいので、src/components/下に footer.module.cssファイルを作成します。&lt;/li&gt;&lt;li&gt;コピーライトを中央揃えにするだけです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/footer.module.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.footer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;7：footer.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;footer.js用の CSSが使えるように importします。「&lt;code class=&quot;language-text&quot;&gt;import * as style from &amp;#x27;./footer.module.css&amp;#x27;&lt;/code&gt;;」と書きます。&lt;/li&gt;&lt;li&gt;footer要素に className属性を追加します。「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;footer className={style.footer}&amp;gt;&lt;/code&gt;」と書きます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/footer.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; style &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./footer.module.css&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Footer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;footer className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;footer&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;small&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Copyright &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;copy&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2021&lt;/span&gt; （著作権者） All Rights Reserved&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;small&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;footer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Footer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;8：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザで表示して問題なければ OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;今回は、個別にスタイルを 3つ（layout.module.css、header.module.css、footer.module.css）用意しましたが、小規模なサイトであれば、style.module.cssとして一つにまとめて書いてもよさそうです。&lt;/li&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;import * as style from &amp;#x27;./layout.module.css&amp;#x27;&lt;/code&gt;;」は、チュートリアルにあるように「&lt;code class=&quot;language-text&quot;&gt;import { container } from &amp;#x27;./layout.module.css&amp;#x27;;&lt;/code&gt;」という書き方もできるのですが、数が増えるとものすごい手間なのではないかと思うので悩みどころです。&lt;/li&gt;&lt;li&gt;className属性に複数のクラスを指定したいときもあるはずです。一般的な CSSの class属性と同じ感覚で「className={container wrapper}」などと書こうものならエラーが出ます。このような場合は、例えば「className={&lt;code class=&quot;language-text&quot;&gt;${style.container} ${style.wrapper}&lt;/code&gt;}」のように書く必要があります。&lt;/li&gt;&lt;li&gt;CSSを BEM記法で書きたい場合もあろうかと思いますが、「-（ハイフン）」は JavaScript的な理由で使えないようです。「_（アンダーバー）」は問題ありません。状況に応じて style.navList&lt;strong&gt;itemや style.navList&lt;/strong&gt;linkを追加していくと良いでしょう。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-2/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 2: Use and Style React Components | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/styling/css-modules/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Component-Scoped Styles with CSS Modules | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトで StaticImageによる静的な画像を表示する方法]]></title><description><![CDATA[概要 GatsbyJSでは、「StaticImage」というコンポーネントが用意されています。このStaticImage…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-static-image/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-static-image/</guid><pubDate>Thu, 14 Oct 2021 06:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;GatsbyJSでは、「StaticImage」というコンポーネントが用意されています。このStaticImageコンポーネントを利用することで、画像の表示パフォーマンスがより良くなるそうです。また、自動的に最適化されて、レスポンシブ対応もしてくれるとのことです。すばらしい。&lt;/li&gt;&lt;li&gt;StaticImageコンポーネントを利用するためには、プラグインが 3つ必要です。メインとなるプラグインは、gatsby-plugin-imageです。あとの 2つは「peer dependencies（同等依存）」プラグインです。&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：プラグインをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Git Bashのアイコンを右クリックし、管理者権限で起動します。（※：プラグインをインストールするような場合は、管理者権限で行うほうが良いようです）&lt;/li&gt;&lt;li&gt;プロジェクトディレクトリへ移動しましょう。現在、どこのディレクトリへいるのか自信がないときは、「&lt;code class=&quot;language-text&quot;&gt;pwd&lt;/code&gt;」コマンドで確認すると良いでしょう。&lt;/li&gt;&lt;li&gt;npmコマンドで、GatsbyJSのプラグイン gatsby-plugin-imageをインストールします。前述通り、gatsby-plugin-imageだけでなく、gatsby-plugin-sharpと gatsby-source-filesystemもインストールしておく必要があります。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install gatsby-plugin-image gatsby-plugin-sharp gatsby-source-filesystem&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：プラグインの確認&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;インストールされたか確認しましょう。2021年12月頃のバージョンは以下ようです。&lt;ul&gt;&lt;li&gt;gatsby-plugin-image: ^2.4.0 =&amp;gt; 2.4.0&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp: ^4.4.0 =&amp;gt; 4.4.0&lt;/li&gt;&lt;li&gt;gatsby-source-filesystem: ^4.4.0 =&amp;gt; 4.4.0&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ gatsby info&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：gatsby-config.jsに設定を追加する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;gatsby-config.jsファイルを開き、上述にてインストールしたプラグイン情報を追加します。プラグイン gatsby-plugin-imageと gatsby-plugin-sharpの設定を追加すれば OKです。&lt;ul&gt;&lt;li&gt;gatsby-plugin-image&lt;/li&gt;&lt;li&gt;gatsby-plugin-sharp&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;gatsby-config.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-image&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&amp;quot;gatsby-plugin-sharp&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：画像を準備する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src下に画像用のディレクトリ（例：img）を作成します。&lt;/li&gt;&lt;li&gt;作成したディレクトリ内に、画像を入れておきます。（例：test-img-top.png）&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;5：表示したいページで画像を指定する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;最後に、表示したいページで画像を指定します。例えば、index.jsなどのファイルに、まず importの設定「&lt;code class=&quot;language-text&quot;&gt;import { StaticImage } from &amp;#x27;gatsby-plugin-image&amp;#x27;;&lt;/code&gt;」を追加します。&lt;/li&gt;&lt;li&gt;そして、表示したい箇所に &lt;code class=&quot;language-text&quot;&gt;&amp;lt;StaticImage /&amp;gt;&lt;/code&gt;を記述しましょう。もちろん alt属性や src属性も指定します。属性の意味は、img要素と同様です。また、placeholder属性に「Blurred」を指定すると、表示前にブラーをかけることもできます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/index.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; StaticImage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby-plugin-image&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;IndexPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Home Page&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;この Webサイトは、GatsbyJSのチュートリアルにそって制作しています。 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;StaticImage
        alt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;サンプル&amp;quot;&lt;/span&gt;
        src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;../img/test-img-top.png&amp;quot;&lt;/span&gt;
        placeholder&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Blurred&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; IndexPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザにて 画像が表示できたら OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-3/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 3: Add Features with Plugins | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-plugin-image/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Gatsby Image plugin | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトに Header・Footerコンポーネントを作成する方法]]></title><description><![CDATA[概要 前回作成した  Layoutコンポーネント の続きです。今回は、GatsbyJSサイトに Headerコンポーネントを作成します。 Layoutコンポーネントに書かれているコードの中には、Headerコンポーネントとして分離するほうが好ましい部分があります。Header…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-component-header-footer/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-component-header-footer/</guid><pubDate>Thu, 14 Oct 2021 05:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;前回作成した &lt;a href=&quot;../gatsbyjs-component-layout&quot;&gt;Layoutコンポーネント&lt;/a&gt;の続きです。今回は、GatsbyJSサイトに Headerコンポーネントを作成します。&lt;/p&gt;&lt;p&gt;Layoutコンポーネントに書かれているコードの中には、Headerコンポーネントとして分離するほうが好ましい部分があります。Header.jsというファイルを作り、書き出してしまいましょう。そして、Layout.jsから Header.jsを呼び出す形にします。&lt;/p&gt;&lt;p&gt;ついでなので Footerコンポーネントも作成します。&lt;/p&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：header.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/components/下に header.jsファイルを作成します。ヘッダーに書いたほうが良い部分を Layoutコンポーネントから抽出し、独り立ちさせます。&lt;/li&gt;&lt;li&gt;header要素を記述し、その中に title要素と nav要素を移動しましょう。&lt;/li&gt;&lt;li&gt;title要素のページタイトルを表示するために、layout.jsから &lt;code class=&quot;language-text&quot;&gt;pageTitle&lt;/code&gt;を受け取る必要があります。「&lt;code class=&quot;language-text&quot;&gt;const Header = ({ pageTitle }) =&amp;gt; { ... };&lt;/code&gt;」と書いて、引数を受け取ります。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/header.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Header&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;header&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Header&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：layout.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/components/下にある layout.jsファイルを編集します。まずは、header.jsへ移動したコードを削除しましょう。&lt;/li&gt;&lt;li&gt;header.jsを読み込む必要があるので、「&lt;code class=&quot;language-text&quot;&gt;import Header from &amp;#x27;./header&amp;#x27;;&lt;/code&gt;」と書いてインポートします。&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Header /&amp;gt;&lt;/code&gt;と書くことで、header.jsを読み込むことができます。また、引数として受け取った &lt;code class=&quot;language-text&quot;&gt;pageTitle&lt;/code&gt;を header.jsへ渡すことも忘れてはいけません。&lt;/li&gt;&lt;li&gt;Linkを使わなくなったので、Linkのインポートは削除します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Header &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Layout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Header pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Layout&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：footer.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/components/下に footer.jsファイルを作成します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/footer.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Footer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;footer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;small&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Copyright &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;copy&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2021&lt;/span&gt; （著作権者） All Rights Reserved&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;small&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;footer&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Footer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：layout.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/components/下にある layout.jsファイルを編集します。footer.jsを読み込むために、「&lt;code class=&quot;language-text&quot;&gt;import Footer from &amp;#x27;./footer&amp;#x27;;&lt;/code&gt;」と書いてインポートします。&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Footer /&amp;gt;&lt;/code&gt;と書くことで、footer.jsを読み込むことができます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Header &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./header&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Footer &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;./footer&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Layout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Header pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Footer &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Layout&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザで問題なく表示されたら OKです。&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトに Layoutコンポーネントを作成する方法]]></title><description><![CDATA[…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-component-layout/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-component-layout/</guid><pubDate>Thu, 14 Oct 2021 04:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;各ページに重複するコードがあると、メンテナンスの手間が増えるので好ましくありません。分かりやすい例で言うと、ヘッダーなどの各ページで共通する部分は、外部ファイルに書き出しておき、それを呼び出す形にするほうが好ましいのです。そうしておくと、何か修正が入ったときに 一箇所だけ直せば済むからです。GatsbyJSでは、各ページの重複する部分を外部ファイルに書き出しておいて importすることができます。&lt;/p&gt;&lt;p&gt;ページの一部分の機能を外部ファイルに書き出すそのような仕組みを、GatsbyJSでは「ビルディングブロックコンポーネント」と呼ぶようです。GatsbyJS用語です。&lt;a href=&quot;../gatsbyjs-component-header-footer&quot;&gt;ヘッダーやフッター&lt;/a&gt;、あるいは &lt;a href=&quot;../gatsbyjs-seo&quot;&gt;SEO&lt;/a&gt;に関する機能を「部品（コンポーネント）」として取り扱うときに役立ちます。&lt;/p&gt;&lt;p&gt;今回は、そのビルディングブロックコンポーネントなるものを試します。重複するコードを減らすために、まずは Layoutコンポーネントを作成してみましょう。&lt;/p&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;ul&gt;&lt;li&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用。&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にして制作。&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：layout.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;srcディレクトリ下に、componentsディレクトリを作成します。作成したら、src/components/下に layout.jsファイルを作成します。&lt;/li&gt;&lt;li&gt;layout.jsの役割は、各ページの「共通するレイアウト」を提供することです。index.jsや about.jsなどのページコンポーネントから引数（props）を受け取り、その引数を使って生成した要素群を returnする関数です。&lt;/li&gt;&lt;li&gt;引数は 2つ受け取ります。1つ目は pageTitleです。これにより、各ページごとにページタイトルを個別に設定できます。&lt;/li&gt;&lt;li&gt;2つ目の引数は childrenです。これは、各ページの中身を受け取っています。いわゆる main要素のコンテンツ部分といえば分かり良いでしょうか。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/components/layout.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Layout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pageTitle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;li&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ul&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;nav&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pageTitle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Layout&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：index.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下の index.jsを編集します。まず、「&lt;code class=&quot;language-text&quot;&gt;import Layout from &amp;#x27;../components/layout&amp;#x27;;&lt;/code&gt;」と書くことで、layout.jsを呼び出します。これにより &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Layout&amp;gt;&lt;/code&gt;が使えるようになります。&lt;/li&gt;&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Layout&amp;gt;&lt;/code&gt;では、引数を 2つ渡しています。前述のとおり 1つ目は pageTitleです。&lt;/li&gt;&lt;li&gt;2つ目は childrenです。こちらは、pageTitleのように直接的に明示せずとも、&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Layout&amp;gt;&lt;/code&gt; ～ &lt;code class=&quot;language-text&quot;&gt;&amp;lt;/Layout&amp;gt;&lt;/code&gt;の中に記述するだけで引数 childrenとして渡されます。&lt;/li&gt;&lt;li&gt;index.jsでは、Linkコンポーネントを使わなくなったので、Linkのインポートは削除します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/index.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;IndexPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;Home Page&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;この Webサイトは、GatsbyJSのチュートリアルにそって制作しています。 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; IndexPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：about.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下の about.jsも index.jsと同様に編集します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/about.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Layout &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;../components/layout&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;AboutPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Layout pageTitle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;About Me&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;こんにちは！ 私は GatsbyJSを試しているところです。&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Layout&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; AboutPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザで問題なく表示されたら OKです。&lt;/li&gt;&lt;li&gt;スタイルについては、気にする必要はありません。&lt;a href=&quot;../gatsbyjs-css-modules&quot;&gt;CSSの設定&lt;/a&gt;はのちのち行います。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-2/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 2: Use and Style React Components | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイトに Linkコンポーネントを作成する方法]]></title><description><![CDATA[概要 Starter「 gatsby-starter-hello-world | Gatsby 」を利用し、 チュートリアル（v4） を参考にしながら GatsbyJSサイトの制作を試していきます。 今回は、トップページと Aboutページを作成して、Link…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-component-link/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-component-link/</guid><pubDate>Thu, 14 Oct 2021 03:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Starter「&lt;a href=&quot;https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-hello-world&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;gatsby-starter-hello-world | Gatsby&lt;/a&gt;」を利用し、&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;チュートリアル（v4）&lt;/a&gt;を参考にしながら GatsbyJSサイトの制作を試していきます。&lt;/p&gt;&lt;p&gt;今回は、トップページと Aboutページを作成して、Linkコンポーネントを試します。&lt;/p&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;li&gt;gatsby-cli: 3.14.1&lt;/li&gt;&lt;li&gt;GatsbyJS: 4.4.0&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;作業手順&lt;/h2&gt;&lt;h3&gt;1：index.jsを編集する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下にある index.jsファイルを編集します。&lt;/li&gt;&lt;li&gt;title要素がこんなところにあるのは違和感しかありませんが、ここでは気にせず先に進みましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/index.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;IndexPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home Page&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home Page&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;この Webサイトは、GatsbyJSのチュートリアルにそって制作しています。 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; IndexPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：about.jsを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下に about.jsを作成します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/about.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;AboutPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About Me&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About Me&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;こんにちは！ 私は GatsbyJSを試しているところです。&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; AboutPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」し、ブラウザで「&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/about&lt;/code&gt;」へアクセスします。問題なく表示されたら、とりあえず OKです。次へ進みましょう。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;4：index.jsでリンクをつける&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;さらに index.jsを編集します。src/pages/下の index.js内でリンクを利用できるようにしましょう。「&lt;code class=&quot;language-text&quot;&gt;import { Link } from &amp;#x27;gatsby&amp;#x27;;&lt;/code&gt;」を追加して、Linkコンポーネントをインポートします。&lt;/li&gt;&lt;li&gt;Linkコンポーネントが使えるようになったので、「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link to=&amp;quot;/about&amp;quot;&amp;gt;About&amp;lt;/Link&amp;gt;&lt;/code&gt;」を追加します。Aboutページへのリンクです。&lt;/li&gt;&lt;li&gt;Linkコンポーネントの役割は、ほぼ a要素のようなものです。それでは、なぜ a要素を使わないのかと言うと、&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link&amp;gt;&lt;/code&gt;を使うことで、プリロードと呼ばれるパフォーマンス機能を享受することができるようになるからです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/index.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;IndexPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home Page&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Home Page&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/about&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;この Webサイトは、GatsbyJSのチュートリアルにそって制作しています。 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; IndexPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：about.jsにリンクをつける&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;src/pages/下の about.jsも同様に編集します。リンクを利用できるようにするために、「&lt;code class=&quot;language-text&quot;&gt;import { Link } from &amp;#x27;gatsby&amp;#x27;;&lt;/code&gt;」を追加してインポートします。&lt;/li&gt;&lt;li&gt;Linkコンポーネントが使えるようになったので、「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link to=&amp;quot;/&amp;quot;&amp;gt;Back to Home&amp;lt;/Link&amp;gt;&lt;/code&gt;」を追加します。トップページへのリンクです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;src/pages/about.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;react&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Link &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;gatsby&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;AboutPage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About Me&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;title&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;About Me&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;Back to Home&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;こんにちは！ 私は GatsbyJSを試しているところです。&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; AboutPage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：表示を確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;」していなければしましょう。ブラウザで「&lt;code class=&quot;language-text&quot;&gt;http://localhost:8000/&lt;/code&gt;」へアクセスします。それぞれのページでリンクをクリックし、問題なく表示されたら OKです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Linkコンポーネントを使えば、前述通りプリロードと呼ばれるパフォーマンス機能を享受できます。しかし、これは同サイト内のページだけに適用される機能です。外部サイトについては、a要素を使用します。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/tutorial/part-2/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Part 2: Use and Style React Components | Gatsby&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSをインストールする方法（Windows10）]]></title><description><![CDATA[概要 GatsbyJSを、Windows環境にインストールしたときのメモです。Starterは「gatsby-starter-hello-world」を使用しました。 事前に、 コマンドラインツールと Node.js…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-install-windows10/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-install-windows10/</guid><pubDate>Thu, 14 Oct 2021 02:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;GatsbyJSを、Windows環境にインストールしたときのメモです。Starterは「gatsby-starter-hello-world」を使用しました。&lt;/li&gt;&lt;li&gt;事前に、&lt;a href=&quot;../nodejs-install-windows10&quot;&gt;コマンドラインツールと Node.jsをインストール&lt;/a&gt;しておく必要があります。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;開発環境&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Windows10&lt;/li&gt;&lt;li&gt;Node.js: 14.18.0&lt;/li&gt;&lt;li&gt;npm: 6.14.15&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;GatsbyJSをインストールする手順（Windowsの場合）&lt;/h2&gt;&lt;h3&gt;1：Git Bashを起動する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Git Bashのアイコンを右クリックして管理者権限で起動します。&lt;code class=&quot;language-text&quot;&gt;sudo&lt;/code&gt;（スーパーユーザへ切り替えるコマンド）が使える場合は、標準起動でも問題ないけれど、Windowsであればおそらく &lt;code class=&quot;language-text&quot;&gt;sudo&lt;/code&gt;は使えません。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;2：GatsbyJSの CLIツールをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;npmコマンドを使って、GatsbyJSの CLIツールをグローバルインストールします。&lt;/li&gt;&lt;li&gt;この CLI（コマンド・ライン・インタフェース）をインストールすることで、GatsbyJS独自のコマンドを使えるようになります。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ npm install -g gatsby-cli&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：バージョンを確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;CLIツールがインストールできたようであれば、バージョンを確認しましょう。「&lt;code class=&quot;language-text&quot;&gt;gatsby --version&lt;/code&gt;」もしくは「&lt;code class=&quot;language-text&quot;&gt;gatsby info&lt;/code&gt;」というコマンドで確認することができます。&lt;/li&gt;&lt;li&gt;GatsbyJS本体のバージョンが、Ver3以降であれば OKです。（2021年12月においては CLIが Ver3.14.1で、GatsbyJS本体は Ver4.4.0くらいです）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ gatsby --version&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ gatsby info&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：プロジェクトを作成する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Starterを利用してプロジェクトを作成します。ローカルでの GatsbyJSの作業場所（ディレクトリ名）と、Starterの URLを指定することでダウンロードすることができます。コマンドは「gatsby new [ディレクトリ名][StarterのURL]」という形式です。&lt;/li&gt;&lt;li&gt;Starterは、&lt;a href=&quot;https://www.gatsbyjs.com/starters/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Gatsby Starter Library&lt;/a&gt;で案件にあったものを探すと良いでしょう。今回はディレクトリ名を「gatsby-test」、Starterは「gatsby-starter-hello-world」を使用することにしました。&lt;/li&gt;&lt;li&gt;利用する Starterや作業環境によっては、ダウンロードに時間がかかることがあります。しかし、30分以上かかるようであれば、何かしらのトラブルで何も処理していない状態に陥っている可能性があります。待ち続けるよりもやり直した方が早いかもしれません。中止する場合は、[ctrl] + [c]キーでキャンセルできます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ gatsby new gatsby-test https://github.com/gatsbyjs/gatsby-starter-hello-world&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;ダウンロードが完了したら作成したディレクトリへ移動し、GatsbyJS開発環境を起ち上げましょう。エラーらしきメッセージが表示されなければ OKです。&lt;/li&gt;&lt;li&gt;次に、ブラウザに「http://localhost:8000/ 」と入力して Enterキーを押してみましょう。ローカルサーバが起動し、GatsbyJSのシステムがうまいこと構築されていると、GatsbyJSサイトが表示されます。今回の場合は、「Hello World!」と表示されれば成功です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ cd gatsby-test
$ gatsby develop&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Starterを使わない方法もありますが、Windowsの場合（？）は、コマンドラインの表示がおかしくなるようです。私の環境だけかもしれませんけれど、Windowsと Node.jsの相性があまり宜しくないそうなので、そのためかもしれません。&lt;/li&gt;&lt;li&gt;Windows環境で開発を行いたいときは、Node.jsをインストールする前に、WSLをインストールして開発環境を整えるほうが好ましいようです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://tech.bitbank.cc/20210201/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;GatsbyJS 現代のWordpress&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://zenn.dev/tomokiya/books/4b13342f6d878b93e06c/viewer/8d138c178851c9b27a58&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Gatsbyの導入｜Gatsby入門&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://reffect.co.jp/react/gatsby-basic-tutorial-for-beginners&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;基礎から始めるGatsbyJS入門 | アールエフェクト&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSサイト開発時に使うターミナルコマンド]]></title><description><![CDATA[概要 GatsbyJSサイトを開発する時に使うターミナルコマンドをまとめました。 UNIX系のコマンドや npmコマンドは、「 Node.jsで使うターミナルコマンド 」にまとめてあります。 GatsbyJSサイト開発時によく使うコマンド gatsby new…]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-command/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-command/</guid><pubDate>Thu, 14 Oct 2021 01:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;GatsbyJSサイトを開発する時に使うターミナルコマンドをまとめました。&lt;/li&gt;&lt;li&gt;UNIX系のコマンドや npmコマンドは、「&lt;a href=&quot;../nodejs-command&quot;&gt;Node.jsで使うターミナルコマンド&lt;/a&gt;」にまとめてあります。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;GatsbyJSサイト開発時によく使うコマンド&lt;/h2&gt;&lt;p&gt;gatsby new以外は、GatsbyJSプロジェクトのルートディレクトリにて実行のこと。&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;gatsby new&lt;/dt&gt;&lt;dd&gt;GatsbyJSプロジェクトを作成します。Starterを利用する場合は、ディレクトリ名と URLをオプション指定します。オプションを指定しない場合は対話型です。（参考：「&lt;a href=&quot;../gatsbyjs-install-windows10&quot;&gt;GatsbyJSをインストールする方法&lt;/a&gt;」）&lt;/dd&gt;&lt;dt&gt;gatsby develop&lt;/dt&gt;&lt;dd&gt;開発サーバを起動し、GatsbyJSプロジェクトサイトをローカルに構築します。&lt;/dd&gt;&lt;dt&gt;gatsby clean&lt;/dt&gt;&lt;dd&gt;.cacheディレクトリと publicディレクトリ内のデータを削除します。「なぜかうまくいかない！」という場合にキャッシュをクリアすると解決することがあります。&lt;/dd&gt;&lt;dt&gt;gatsby info&lt;/dt&gt;&lt;dd&gt;OSや CPU、さらに Node.jsやインストールしたプラグインのバージョン情報などが確認できます。不具合を問い合わせるときにこれらの環境情報を伝えると捗ります。&lt;/dd&gt;&lt;dt&gt;gatsby build&lt;/dt&gt;&lt;dd&gt;本番用にコンパイルします。データは publicディレクトリ内に生成されます。&lt;/dd&gt;&lt;dt&gt;gatsby serve&lt;/dt&gt;&lt;dd&gt;「gatsby build」して生成された GatsbyJSサイトを、ローカル開発環境で確認できます。&lt;/dd&gt;&lt;dt&gt;npm run deploy&lt;/dt&gt;&lt;dd&gt;デプロイします。例えば、本番用にコンパイルし、GitHubなどに Pushすることができます。内容は package.jsonで指定します。（参考：「&lt;a href=&quot;../gatsbyjs-github-pages-deploy&quot;&gt;GitHub Pagesへdeployする方法&lt;/a&gt;」）&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;その他オプションコマンド&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;gatsby -v&lt;/dt&gt;&lt;dd&gt;GatsbyJS CLIと GatsbyJS本体のバージョンを表示します。あるいは「gatsby --version」でも同様。&lt;/dd&gt;&lt;dt&gt;gatsby -h&lt;/dt&gt;&lt;dd&gt;GatsbyJSのターミナルコマンド一覧を表示します。あるいは「gatsby --help」でも同様。&lt;/dd&gt;&lt;/dl&gt;</content:encoded></item><item><title><![CDATA[GatsbyJSの関連用語まとめ]]></title><description><![CDATA[GatsbyJS関連用語「あ行」 GatsbyJS関連用語「か行」 GatsbyJS関連用語「さ行」 GatsbyJS関連用語「た行」 GatsbyJS関連用語「は行」 GatsbyJS関連用語「や行」]]></description><link>https://moon-forest-design.github.io/memo/gatsbyjs-words/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gatsbyjs-words/</guid><pubDate>Thu, 14 Oct 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;GatsbyJS関連用語「あ行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;webhook&lt;/dt&gt;&lt;dd&gt;運用中の Webサイトが更新されたときに、他の外部サービスへ更新を伝えて反映させる仕組みのこと。&lt;/dd&gt;&lt;dt&gt;MDX&lt;/dt&gt;&lt;dd&gt;Markdown + JSXファイル。拡張子は、.mdxです。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;GatsbyJS関連用語「か行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;GatsbyImageコンポーネント&lt;/dt&gt;&lt;dd&gt;動的に画像を切り替えたいときに利用する仕組みのこと。&lt;/dd&gt;&lt;dt&gt;gatsby-config.js&lt;/dt&gt;&lt;dd&gt;制作する Webサイトに関する情報を記述しておく特別な設定ファイルです。サイトの metaデータやプラグインの構成などを記述しておくと、GatsbyJSが自動的に読み込んで処理してくれます。&lt;/dd&gt;&lt;dt&gt;gatsby-browser.js&lt;/dt&gt;&lt;dd&gt;ブラウザでページを表示する段階の処理を記述しておくための特別な設定ファイルです。グローバルCSSを設定したい場合などに使用します。&lt;/dd&gt;&lt;dt&gt;gatsby-node.js&lt;/dt&gt;&lt;dd&gt;動的な操作が必要な場合にその処理を記述しておく特別な設定ファイルです。GraphQLに nodeを追加したり、テンプレートを使用して tagページを生成したいときなどに使用します。&lt;/dd&gt;&lt;dt&gt;クエリ変数&lt;/dt&gt;&lt;dd&gt;GraphQLで使用する変数のこと。Gatsbyでは、クエリ変数はページクエリ内でのみ使用できます。useStaticQueryフックでは使用できません。&lt;/dd&gt;&lt;dt&gt;GraphiQLインターフェース&lt;/dt&gt;&lt;dd&gt;事前に GraphQLクエリを試すことができるツールです。gatsby develop後に、`http://localhost:8000/___graphql`で表示できます。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;GatsbyJS関連用語「さ行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;StaticImageコンポーネント&lt;/dt&gt;&lt;dd&gt;静的に画像を表示したいときに利用する仕組みのこと。プラグイン gatsby-plugin-image、gatsby-plugin-sharp、gatsby-transformer-sharpが必要です。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;GatsbyJS関連用語「た行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;データレイヤー&lt;/dt&gt;&lt;dd&gt;GatsbyJSでは、データの取得・追加に GraphQLという技術を利用しています。各ソース元からソースプラグインを介してデータレイヤーにデータを取得し、GraphQLクエリを介して各コンポーネントへデータを追加します。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;GatsbyJS関連用語「は行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;ビルディングブロックコンポーネント&lt;/dt&gt;&lt;dd&gt;header.js、footer.js、layout.jsなどの src/components下に作成するファイル群のこと。ページコンポーネント内の一部を構成するために利用されます。例えば、header.jsを作成しておけば、各ページコンポーネントからビルディングブロックコンポーネント（header.js）を呼び出して、ヘッダー部分として表示することができます。&lt;/dd&gt;&lt;dt&gt;File System Route API&lt;/dt&gt;&lt;dd&gt;テンプレートを使用してブログページを動的に生成するための APIです。&lt;/dd&gt;&lt;dt&gt;プラグイン&lt;/dt&gt;&lt;dd&gt;GatsbyJSで制作した Webサイトに機能を追加するための npmパッケージのこと。必要な機能だけを別個にインストールして利用できます。車輪の再発明に陥らずに済みます。&lt;/dd&gt;&lt;dt&gt;プロジェクト&lt;/dt&gt;&lt;dd&gt;GatsbyJSサイトを制作するときの一つの単位をプロジェクトと呼びます。プロジェクトにおける一番上の階層（GatsbyJSをインストールした場所）をプロジェクトディレクトリと呼びます。&lt;/dd&gt;&lt;dt&gt;フロントマター&lt;/dt&gt;&lt;dd&gt;Frontmatter。MDXなどのファイル内に記述する特別な情報のこと。投稿タイトルや公開日、著者名など、コンテンツに関する情報を記述します。3つのハイフン（---）で表す開始セットと終了セットの間に記述するルールです。&lt;/dd&gt;&lt;dt&gt;ページコンポーネント&lt;/dt&gt;&lt;dd&gt;index.js、about.js、404.jsなどの src/pages下に作成するファイル群のこと。例えば、index.jsはトップページ（Home）を単一ページとして表示します。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;GatsbyJS関連用語「や行」&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;useStaticQuery&lt;/dt&gt;&lt;dd&gt;GraphQLクエリを、ビルディングブロックコンポーネントに追加できるフックです。&lt;/dd&gt;&lt;/dl&gt;</content:encoded></item><item><title><![CDATA[カルーセルスライダー「Swiper」の導入と使い方]]></title><description><![CDATA[概要 Webサイトにカルーセルスライダーを導入したいときは、優れたツールが多すぎて迷います。定番と言えるのは、前回試した「 Slick 」ですが、「Swiper」もとても人気の高いカルーセルスライダーです。 今回は、その Swiperを試してみました。Swiper…]]></description><link>https://moon-forest-design.github.io/memo/carousel-slider-swiper/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/carousel-slider-swiper/</guid><pubDate>Tue, 20 Jul 2021 00:38:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Webサイトにカルーセルスライダーを導入したいときは、優れたツールが多すぎて迷います。定番と言えるのは、前回試した「&lt;a href=&quot;../carousel-slider-slick&quot;&gt;Slick&lt;/a&gt;」ですが、「Swiper」もとても人気の高いカルーセルスライダーです。&lt;/p&gt;&lt;p&gt;今回は、その Swiperを試してみました。Swiperのデモページを作成してあります。どのような結果になるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/39/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/39&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;Swiperの導入手順&lt;/h2&gt;&lt;h3&gt;1：画像を準備する&lt;/h3&gt;&lt;p&gt;適当な画像を、数枚準備しておきましょう。ファイル名は、slider1.jpg、slider2.jpgなど分かりやすくしておくことをおすすめします。&lt;/p&gt;&lt;h3&gt;2：Swiper本体の使用方法を決める&lt;/h3&gt;&lt;p&gt;「&lt;a href=&quot;../carousel-slider-slick&quot;&gt;Slick&lt;/a&gt;」のときと同様です。Swiper本体をダウンロードして使用してもいいし、CDNを利用してもどちらでも構いません。状況に応じて判断することになります。どうするか検討しましょう。今回も、手間が少ないので CDNを利用することにしました。&lt;/p&gt;&lt;h3&gt;3：Swiper関連の CSSを読み込む&lt;/h3&gt;&lt;p&gt;Swiperで利用される CSSを読み込みます。HTMLファイルの head要素内に、次のコードを追加しましょう。&lt;/p&gt;&lt;p&gt;swiper-bundle.min.cssの後に style.cssを読み込む必要があります。順番を間違えると、&lt;code class=&quot;language-text&quot;&gt;!important&lt;/code&gt;を付けるなどの無駄なコードを書くはめになります。どうぞお気をつけて。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- CSSファイル：swiper-bundle.min.css、style.cssを読み込む --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://unpkg.com/swiper/swiper-bundle.min.css&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;style.css&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：Swiper本体を読み込む&lt;/h3&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;の直前に、次のコードを追加します。Swiperは jQueryに依存しないので jQueryを読み込む必要はありません。これは「Slick」との大きな違いです。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- JSファイル：swiper-bundle.min.js、main.jsを読み込む --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://unpkg.com/swiper/swiper-bundle.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;main.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：img要素を追加する&lt;/h3&gt;&lt;p&gt;カルーセルスライダーを表示したい場所に、次のようなコードを追加しましょう。前述の工程 1で準備しておいた画像の枚数分だけ指定します。&lt;/p&gt;&lt;p&gt;初期状態では、スクロールバーが表示されます。必要なければ、「&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div class=”swiper-scrollbar”&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;」を削除すると良いでしょう。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- カルーセルスライダーの表示 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- swiperのコンテナ --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-container&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- swiperのラッパー --&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-wrapper&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- スライド画像を指定 --&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-slide&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-slide__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider1.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-slide&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-slide__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider2.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-slide&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-slide__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider3.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-slide&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-slide__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider4.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- ページネーションが必要なら記述 --&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-pagination&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- ナビゲーションボタンが必要なら記述 --&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-button-prev&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;swiper-button-next&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：CSSを編集する&lt;/h3&gt;&lt;p&gt;あなたの Webサイトの状況にあわせて、style.cssを編集しましょう。&lt;/p&gt;&lt;p&gt;CSSでデザイン等を変更するために、もっと詳しく知りたい場合は、swiper-bundle.cssを参考にしてください。swiper-bundle.cssで使用されている class名に対して、style.cssで追加・変更する形になります。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* ----- Swiperコンテナの大きさ ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.swiper-container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ----- Swiper画像の大きさ ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.swiper-slide__img&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;object-fit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ----- ページネーションの色 ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.swiper-pagination-bullet&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ----- 矢印の色 ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.swiper-button-next,
.swiper-button-prev&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* ----- ページネーションと矢印の色は、IE非対応で良いなら次のようにしてもいい ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;:root&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;--swiper-theme-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;7：JavaScriptを編集する&lt;/h3&gt;&lt;p&gt;Swiperには様々なパラメタが用意されています。案件にあわせて、main.jsで設定しましょう。&lt;/p&gt;&lt;p&gt;例えば、垂直にスライドさせたければ、JavaScript内の Swiperオプションに「&lt;code class=&quot;language-text&quot;&gt;direction: ‘vertical’,&lt;/code&gt;」を記述します。水平のほうが良ければ削除すると良いでしょう。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;main.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; swiper &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Swiper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;.swiper-container&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 各オプションパラメタ&lt;/span&gt;
  autoplay&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 自動再生するか？&lt;/span&gt;
  loop&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 繰り返し再生するか？&lt;/span&gt;
  speed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 画像が切り替わる速度&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ページネーションが必要なら記述&lt;/span&gt;
  pagination&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    el&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;.swiper-pagination&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ナビゲーションボタンが必要なら記述&lt;/span&gt;
  navigation&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    nextEl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;.swiper-button-next&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    prevEl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;.swiper-button-prev&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;「Slick」よりも、カスタマイズがしやすい印象でした。いや、どうだろう。Slickの後に試したからかもしれません。大きな差はなさそうです。どちらも軽快に動作しますし、基本的に必要とされる機能にもそれほど大きな違いはないようです。どちらも便利で使い勝手の良いカルーセルスライダーです。&lt;/li&gt;&lt;li&gt;jQueryを使いたくない場合は、「Swiper」を選ぶと良いかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://swiperjs.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Swiper – The Most Modern Mobile Touch Slider&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.webdesignleaves.com/pr/plugins/swiper_js.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;スライダープラグイン Swiper（v5）の使い方 / Web Design Leaves&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[カルーセルスライダー「Slick」の導入と使い方]]></title><description><![CDATA[概要 Webサイトにカルーセルスライダーを導入したいときは、どのようなツールが良いでしょうか。定番と言えるのは、jQueryプラグインの「 Slick 」です。 Slick…]]></description><link>https://moon-forest-design.github.io/memo/carousel-slider-slick/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/carousel-slider-slick/</guid><pubDate>Mon, 19 Jul 2021 08:32:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Webサイトにカルーセルスライダーを導入したいときは、どのようなツールが良いでしょうか。定番と言えるのは、jQueryプラグインの「&lt;a href=&quot;https://kenwheeler.github.io/slick/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Slick&lt;/a&gt;」です。&lt;/p&gt;&lt;p&gt;Slickは、カルーセルスライダーを選定する上で、必ず候補リストに入るような有名なツールです。&lt;/p&gt;&lt;p&gt;今回は、その Slickを試してみました。Slickのデモページを作成してあります。どのような結果になるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/38/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/38&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;Slickの導入手順&lt;/h2&gt;&lt;h3&gt;1：画像を準備する&lt;/h3&gt;&lt;p&gt;適当な画像を、数枚準備しておきましょう。ファイル名は、slider1.jpg、slider2.jpgなど分かりやすくしておくことをおすすめします。&lt;/p&gt;&lt;h3&gt;2：Slick本体の使用方法を決める&lt;/h3&gt;&lt;p&gt;Slick本体はダウンロードして使用してもいいし、CDNを利用してもどちらでも構いません。状況に応じて判断することになります。どうするか検討しましょう。今回は、手間が少ないので CDNを利用することにしました。&lt;/p&gt;&lt;h3&gt;3：Slick関連の CSSを読み込む&lt;/h3&gt;&lt;p&gt;Slickで利用される CSSを読み込みます。HTMLファイルの head要素内に、次のコードを追加しましょう。&lt;/p&gt;&lt;p&gt;slick.cssと slick-theme.cssの後に style.cssを読み込む必要があります。順番を間違えると、&lt;code class=&quot;language-text&quot;&gt;!important&lt;/code&gt;を付けるなどの無駄なコードを書くはめになります。どうぞお気をつけて。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- CSSファイル：slick.css、slick-theme.css、style.cssを読み込む --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;text/css&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;text/css&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;style.css&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;4：Slick本体を読み込む&lt;/h3&gt;&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;の直前に、次のコードを追加します。jQuery、そして Slickの順で読み込みます。Slickは jQueryライブラリなので、jquery.min.jsの後に、slick.min.jsを読み込むようにしないと、おそらく動きません。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- JSファイル：jquery.min.js、slick.min.js、main.jsを読み込む --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;text/javascript&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;main.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：img要素を追加する&lt;/h3&gt;&lt;p&gt;カルーセルスライダーを表示したい場所に、次のようなコードを追加しましょう。前述の工程 1で準備しておいた画像の枚数分だけ指定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- カルーセルスライダーの表示 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider1.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider2.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider3.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;slider4.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;6：CSSを編集する&lt;/h3&gt;&lt;p&gt;あなたの Webサイトの状況にあわせて、style.cssを編集しましょう。&lt;/p&gt;&lt;p&gt;CSSでデザイン等を変更するために、もっと詳しく知りたい場合は、slick-theme.cssを参考にしてください。slick-theme.cssで使用されている class名に対して、style.cssで追加・変更する形になります。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* ----- リストマーカー非表示 ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.slider&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;list-style-type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ----- 矢印の位置 ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.slick-next&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 45px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;z-index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 99&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.slick-prev&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;z-index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ----- 矢印の大きさ ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.slick-prev:before,
.slick-next:before&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 50px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ----- 画像の大きさ ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.slider__img&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;object-fit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ----- ページネーションの位置 ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.slick-dots&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 25px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ----- ページネーションの色 ----- */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.slick-dots li.slick-active button:before&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;7：jQuery&lt;/h3&gt;&lt;p&gt;Slickには様々なパラメタが用意されています。案件にあわせて、main.jsで設定しましょう。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;main.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;.slider&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    autoplay&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 自動再生するか？&lt;/span&gt;
    autoplaySpeed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 自動再生時の間隔ms&lt;/span&gt;
    speed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 画像が切り替わる速度&lt;/span&gt;
    pauseOnHover&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 画像にマウスオーバしたときに停止するか？&lt;/span&gt;
    dots&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ページネーションを表示するか？&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;カルーセルスライダーは重いイメージがありましたが、「Slick」はわりと、大きなサイズの画像をフル画面表示しているにもかかわらず、軽快に動作するので驚きました。&lt;/li&gt;&lt;li&gt;.slick-prevの「z-index: 100;」は指定しておくほうが良いようです。他の場所で position系（static以外）の処理を使用していると、階層の問題で表示されないことがあります。&lt;/li&gt;&lt;li&gt;jQueryを使いたくない場合は、「Swiper」を試してみると良いかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://kenwheeler.github.io/slick/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;slick – the last carousel you’ll ever need&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://qiita.com/katsunory/items/25b385aae0f07b41e611&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;【jQuery】スライダー系プラグイン slickの使用方法 – Qiita&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://qiita.com/ymeeto/items/7fc56eea4bd44487cdb7&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;スライダープラグイン「Slick」便利なオプション&amp;amp;動きサンプル集 – Qiita&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[CSSでヘッダーを画面っぱいに表示する方法 2（height: 100vh;編）]]></title><description><![CDATA[概要 CSSでヘッダー部分をウィンドウ画面いっぱいに表示する方法です。前回は 「height: 100%;」を、html要素から継承していくことで、高さをウィンドウ画面いっぱいに表示 しました。今回は、「height: 100vh…]]></description><link>https://moon-forest-design.github.io/memo/full-screen-header-css-height-100vh/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/full-screen-header-css-height-100vh/</guid><pubDate>Tue, 06 Jul 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;CSSでヘッダー部分をウィンドウ画面いっぱいに表示する方法です。前回は&lt;a href=&quot;../full-screen-header-css-height-100percent&quot;&gt;「height: 100%;」を、html要素から継承していくことで、高さをウィンドウ画面いっぱいに表示&lt;/a&gt;しました。今回は、「height: 100vh;」を使用します。&lt;/p&gt;&lt;p&gt;デモページを作成してあります。ヘッダーを画面いっぱいに表示したときの結果を確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/63/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/63&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;次のような HTMLのコードがあると仮定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header__container&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;siteTitle&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;サイトタイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;header要素に、「&lt;code class=&quot;language-text&quot;&gt;height: 100vh;&lt;/code&gt;」を指定します。そして、必要となる箇所まで高さを継承します。例えば今回の場合でらえば、header要素の heightの値（100vh）を、そのひとつ下のレイヤにあたるサイトタイトルの親要素（.header__container）まで inheritして継承します。&lt;/li&gt;&lt;li&gt;サイトタイトルの上下左右の中央揃えは、好きな方法でかまいません。今回は、親要素（.header__container）に flexを指定しました。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.header&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.header__container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;上下左右の中央揃えについては、「タイトルを上下左右で中央揃えにする方法」にまとめてあります。&lt;/li&gt;&lt;li&gt;今回の 100vhを継承する方法は、前回の &lt;a href=&quot;../full-screen-header-css-height-100percent&quot;&gt;100%を継承する方法&lt;/a&gt;よりもシンプルな記述で済むのですが、スマホ上部に表示されるアドレスバーを考慮する必要があるようなので、現状においてはさらに手間が増えるかもしれません。それぞれの方法にて、一長一短があります。&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[スクロール時に「ふわっ」と表示させる方法 2（ScrollReveal.js編）]]></title><description><![CDATA[概要 ページをスクロールしたときに、各コンテンツを下からふわっとフェードイン表示する方法についてのメモ書きです。前回は、 jQueryと CSSアニメーションで自作 しましたが、今回は jQueryライブラリの ScrollReveal.js…]]></description><link>https://moon-forest-design.github.io/memo/page-scroll-fade-in-jquery-scrollreveal/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/page-scroll-fade-in-jquery-scrollreveal/</guid><pubDate>Fri, 25 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;ページをスクロールしたときに、各コンテンツを下からふわっとフェードイン表示する方法についてのメモ書きです。前回は、&lt;a href=&quot;../page-scroll-fade-in-self-made-jquery-css&quot;&gt;jQueryと CSSアニメーションで自作&lt;/a&gt;しましたが、今回は jQueryライブラリの ScrollReveal.jsを試してみることにしました。&lt;/p&gt;&lt;p&gt;スクロール時に「ふわっ」と表示させるデモページを作成してあります。どのような結果になるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/54/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/54&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;p&gt;以下、仕様です。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;事前に、ふわっと表示したい領域を用意しておきます。&lt;/li&gt;&lt;li&gt;jQuery、ScrollReveal.js、main.jsの順で読み込みます。&lt;/li&gt;&lt;li&gt;ScrollReveal.jsに関する設定は main.jsで行います。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;事前に、ふわっと表示したい領域を用意しておきます。ここでは section要素の .contentが、そのふわっと表示したい領域です。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- ふわっと表示したい領域 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;section&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
～（コンテンツ）～
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;section&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;jQuery、ScrollReveal.js、main.jsの順で読み込みます。&lt;code class=&quot;language-text&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;の手前あたりに記述します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- jQuery、ScrollReveal.js、main.jsを読み込む --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://unpkg.com/scrollreveal&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;main.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：jQuery&lt;/h3&gt;&lt;p&gt;ScrollReveal.jsに関する設定を main.jsで行います。ふわっと表示したい領域（ここでは .content）を指定し、あとは、duration・viewFactor・distanceなどの設定を行えば OKです。詳しい内容は、コード内にコメントを書いておきました。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;main.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ScrollReveal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reveal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;.content&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
    duration&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// アニメーションの開始から終了までの時間&lt;/span&gt;
    viewFactor&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// どれくらい見えたら実行するか指定（値：0～1）&lt;/span&gt;
    distance&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;100px&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 下から移動表示する場合の長さ&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://scrollrevealjs.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;ScrollReveal&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[CSSで影をつけるときのいろいろな方法]]></title><description><![CDATA[概要 CSSで影をつける方法と言えば、text-shadowと、box-shadowが有名です。さらに、filterの drop-shadow()を使ったやり方もあるようです。それぞれのドロップシャドウの方法にどのような違いがあるのか試してみました。 text-shadow…]]></description><link>https://moon-forest-design.github.io/memo/shadow-css-various-ways/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/shadow-css-various-ways/</guid><pubDate>Tue, 15 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;CSSで影をつける方法と言えば、text-shadowと、box-shadowが有名です。さらに、filterの drop-shadow()を使ったやり方もあるようです。それぞれのドロップシャドウの方法にどのような違いがあるのか試してみました。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;text-shadowでテキストに影をつける方法&lt;/li&gt;&lt;li&gt;box-shadowで画像に影をつける方法&lt;/li&gt;&lt;li&gt;filterのdrop-shadow()でテキストに影をつける方法&lt;/li&gt;&lt;li&gt;filterのdrop-shadow()で画像に影をつける方法&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;デモページを作成してあります。どのように影がつくのか比べてみたいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/44/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/44&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;1：text-shadowでテキストに影をつける場合の要点&lt;/h2&gt;&lt;p&gt;テキストに影をつけたければ、text-shadowを使います。これは定番の方法です。&lt;/p&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;p要素に影をつけてみようと思います。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;textShadow&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;テキストテキストテキストテキストテキスト&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;text-shadow: 2px 2px 2px rgba(0, 0, 0, .5);&lt;/code&gt;」のように指定することで、テキスト（文字列）に影をつけることができます。&lt;/li&gt;&lt;li&gt;指定するプロパティ値は左から、X軸・Y軸・ぼかし・色です。色は rgbaに透過を加えて指定するほうが、より自然な影に近い表現になります。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.textShadow&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2px 2px 2px &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; .5&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;2：box-shadowで画像に影をつける場合の要点&lt;/h2&gt;&lt;p&gt;画像や div要素などに影をつけたければ、box-shadowを使います。これも定番です。&lt;/p&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;背景透過の png画像に影をつけましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;boxShadow&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;pngSample.png&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, .5);&lt;/code&gt;」のように指定することで、画像の縁（ふち）に影をつけることができます。&lt;/li&gt;&lt;li&gt;指定するプロパティ値は左から、X軸・Y軸・ぼかし・広がり・色です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.boxShadow&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;box-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2px 2px 2px 1px &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; .5&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;3：filterのdrop-shadow()でテキストに影をつける場合の要点&lt;/h2&gt;&lt;p&gt;filterの drop-shadow()を使うことで、影をつけることもできるようです。&lt;/p&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;試しに、p要素に影をつけてみましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;filterDropShadow&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;テキストテキストテキストテキストテキスト&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;filter: drop-shadow(2px 2px 2px #555);&lt;/code&gt;」のように指定することで、テキストに影をつけることができます。&lt;/li&gt;&lt;li&gt;指定するプロパティ値は左から、X軸・Y軸・ぼかし・色です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.filterDropShadow&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;drop-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;2px 2px 2px #555&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;4：filterのdrop-shadow()で画像に影をつける場合の要点&lt;/h2&gt;&lt;p&gt;filterのdrop-shadow()は、テキストだけでなく画像にも影をつけることができます。そして、png透過画像に影をつけると、とても興味深いことが起こります。&lt;/p&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;背景透過の png画像に影をつけてみましょう。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;filterDropShadow&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;pngSample.png&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;filter: drop-shadow(2px 2px 2px #555);&lt;/code&gt;」のように指定すると透過を透過と解釈するようです。その結果、中身（オブジェクト）に対して影がつきます。これは、svg画像でも同様の結果が得られます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.filterDropShadow&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;drop-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;2px 2px 2px #555&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;p&gt;filterの drop-shadow()は、残念ながら IEに対応していません。IEに対応させる必要がある案件のときは、これまで通り text-shadowや box-shadowを利用して影をつけることになりそうです。&lt;/p&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/text-shadow&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;text-shadow – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/box-shadow&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;box-shadow – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/filter&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;filter – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[スムーズスクロールの導入方法 3（smooth-scroll.js版）]]></title><description><![CDATA[概要 Webサイトに、スムーズスクロールを導入する方法についてのメモです。今回は、smooth-scroll.jsという jQueryライブラリを試してみました。 スムーズスクロールのデモページ（smooth-scroll.js…]]></description><link>https://moon-forest-design.github.io/memo/smooth-scroll-smooth-scroll-js/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/smooth-scroll-smooth-scroll-js/</guid><pubDate>Sun, 13 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Webサイトに、スムーズスクロールを導入する方法についてのメモです。今回は、smooth-scroll.jsという jQueryライブラリを試してみました。&lt;/p&gt;&lt;p&gt;スムーズスクロールのデモページ（smooth-scroll.js編）を作成してあります。どのような結果になるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/42/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/42&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;p&gt;以下、仕様です。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ヘッダー内にあるナビゲーションメニューのリンクをクリックすると、h2見出しへページ内移動します。&lt;/li&gt;&lt;li&gt;href属性の値に #が付いている a要素がクリックされると、smooth-scroll.jsによってスムーズスクロールを発動します。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;smooth-scroll.jsを使う場合においても、HTML部分は「&lt;a href=&quot;../smooth-scroll-self-made-jquery&quot;&gt;スムーズスクロールの導入方法 1&lt;/a&gt;」とほぼ同じです。&lt;/p&gt;&lt;p&gt;ナビゲーションメニューを作成します。メニューの各 a要素の href属性には、各 h2見出しの id属性の値を入れます。移動元です。（例：#menu1、#menu2、#menu3）&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- メニュー --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__link&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#menu1&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__link&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#menu2&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__link&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#menu3&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー3&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;各 h2見出しには、それぞれ id属性をつけておきます。移動先です。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- ページ内移動先 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu1&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー1 の デモ h2タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
（～中略～）
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu2&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー2 の デモ h2タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
（～中略～）
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu3&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー3 の デモ h2タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;jQuery、smooth-scroll.js、main.jsの順番で読み込みます。&lt;code class=&quot;language-text&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;の直前に、次のコードを追加します。「&lt;a href=&quot;../smooth-scroll-self-made-jquery&quot;&gt;スムーズスクロールの導入方法 1&lt;/a&gt;」との違いは、smooth-scroll.jsが使えるようにするために、CDNを利用して「smooth-scroll.polyfills.min.js」も読み込んでいるところです。（下記サンプルコードでは integrity属性等は割愛してあります）&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- jQueryとsmooth-scroll.jsを読み込む --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://cdnjs.cloudflare.com/ajax/libs/smooth-scroll/16.1.3/smooth-scroll.polyfills.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;main.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：jQuery&lt;/h3&gt;&lt;p&gt;main.js内で、smooth-scroll.jsに関する設定をほどこします。詳しい設定内容は、コード内にコメントを書いておきました。さらに設定したいことがあれば、公式の README.mdが参考になります。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;main.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; scroll &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SmoothScroll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;a[href*=&amp;quot;#&amp;quot;]&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    speed&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// スクロール速度：1000pxのスクロールにかかる時間をミリ秒単位で表す数値&lt;/span&gt;
    speedAsDuration&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// すべてのアニメーションにまったく同じ時間（速度に設定した値）をかけたいか？&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/cferdinandi/smooth-scroll&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;cferdinandi/smooth-scroll: A lightweight script to animate scrolling to anchor links.&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[レスポンシブに画像を切り替えて表示する方法 2（picture要素編）]]></title><description><![CDATA[概要 picture要素（source）を使用して、レスポンシブに背景画像を切り替えて表示する方法です。パソコンやスマホ等で、それぞれ別の写真を表示します。 レスポンシブに画像を切り替えるデモページを作成しました。スマートフォン用の画像と、それ以外用の画像は、次の…]]></description><link>https://moon-forest-design.github.io/memo/responsive-image-change-picture-element/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/responsive-image-change-picture-element/</guid><pubDate>Tue, 01 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;picture要素（source）を使用して、レスポンシブに背景画像を切り替えて表示する方法です。パソコンやスマホ等で、それぞれ別の写真を表示します。&lt;/p&gt;&lt;p&gt;レスポンシブに画像を切り替えるデモページを作成しました。スマートフォン用の画像と、それ以外用の画像は、次の 2枚を使用しています。&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:360px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/e22e7acb1da1aa0821cfd3d8a9830f83/158ba/post-change-image.jpg&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:53.14285714285714%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG1HYwUFIn/xAAbEAABBAMAAAAAAAAAAAAAAAAAAQIRMwMQMf/aAAgBAQABBQJlnDBXBCa//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAQQDAAAAAAAAAAAAAAAAAgABAxEgIUH/2gAIAQEABj8CkouLZvj/AP/EABoQAQADAQEBAAAAAAAAAAAAAAEAESExEGH/2gAIAQEAAT8hV2rrL5Gyan7L1tXXsANhsWbTz//aAAwDAQACAAMAAAAQ28//xAAWEQADAAAAAAAAAAAAAAAAAAAQESH/2gAIAQMBAT8QdH//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCH/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARMSFhcf/aAAgBAQABPxAiWVdr91h2MrCAvrGrs2Su+xbUW+zqg/YFZP/Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;スマートフォン用の画像と、それ以外用の画像サンプル&quot; title=&quot;スマートフォン用の画像と、それ以外用の画像サンプル&quot; src=&quot;/static/e22e7acb1da1aa0821cfd3d8a9830f83/158ba/post-change-image.jpg&quot; srcSet=&quot;/static/e22e7acb1da1aa0821cfd3d8a9830f83/e52aa/post-change-image.jpg 175w,/static/e22e7acb1da1aa0821cfd3d8a9830f83/70ebb/post-change-image.jpg 350w,/static/e22e7acb1da1aa0821cfd3d8a9830f83/158ba/post-change-image.jpg 360w&quot; sizes=&quot;(max-width: 360px) 100vw, 360px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;実際にどのように画像が切り替わるか確認したいかたは、デモページをご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/32/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/32&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;picture要素内に、souce要素とimg要素を記述します。souce要素にはスマートフォン用の画像（mainVisual-sp.jpg）、img要素にはそれ以外用の画像（mainVisual-pc.jpg）を指定します。&lt;/li&gt;&lt;li&gt;souce要素のmedia属性には、スマートフォン用として扱うためのサイズを指定します。srcset属性には、スマートフォン用の画像がある場所を指定します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;picture&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;source&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;media&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;(max-width: 576px)&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;srcset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual-sp.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual-pc.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;picture&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;ヒーローイメージを想定して作成します。以前、「&lt;a href=&quot;../full-screen-image-background-property&quot;&gt;画像を CSSで画面にフル表示する方法 1（backgroundプロパティ編）&lt;/a&gt;」で書いた方法を流用します。&lt;/li&gt;&lt;li&gt;picture要素はインライン要素のようです。ここではブロックレベル要素のほうが都合が良いので、「display: block;」しました。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.mainVisual&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1920px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.mainVisual__img&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;object-fit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/HTML/Element/picture&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;picture&amp;gt;&lt;/code&gt;: 画像要素 – HTML: HyperText Markup Language | MDN&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[レスポンシブに画像を切り替えて表示する方法 1（メディアクエリ編）]]></title><description><![CDATA[概要 メディアクエリを使用して、レスポンシブに背景画像を切り替えて表示する方法です。パソコンやスマホ等で、それぞれ別の写真を表示します。 レスポンシブに背景画像を切り替えるデモページを作成しました。スマートフォン用の画像と、それ以外用の画像は、次の…]]></description><link>https://moon-forest-design.github.io/memo/responsive-image-change-media-query/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/responsive-image-change-media-query/</guid><pubDate>Mon, 31 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;メディアクエリを使用して、レスポンシブに背景画像を切り替えて表示する方法です。パソコンやスマホ等で、それぞれ別の写真を表示します。&lt;/p&gt;&lt;p&gt;レスポンシブに背景画像を切り替えるデモページを作成しました。スマートフォン用の画像と、それ以外用の画像は、次の 2枚を使用しています。&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position:relative;display:block;margin-left:auto;margin-right:auto;max-width:360px&quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/e22e7acb1da1aa0821cfd3d8a9830f83/158ba/post-change-image.jpg&quot; style=&quot;display:block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom:53.14285714285714%;position:relative;bottom:0;left:0;background-image:url(&amp;#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG1HYwUFIn/xAAbEAABBAMAAAAAAAAAAAAAAAAAAQIRMwMQMf/aAAgBAQABBQJlnDBXBCa//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAQQDAAAAAAAAAAAAAAAAAgABAxEgIUH/2gAIAQEABj8CkouLZvj/AP/EABoQAQADAQEBAAAAAAAAAAAAAAEAESExEGH/2gAIAQEAAT8hV2rrL5Gyan7L1tXXsANhsWbTz//aAAwDAQACAAMAAAAQ28//xAAWEQADAAAAAAAAAAAAAAAAAAAQESH/2gAIAQMBAT8QdH//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCH/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARMSFhcf/aAAgBAQABPxAiWVdr91h2MrCAvrGrs2Su+xbUW+zqg/YFZP/Z&amp;#x27;);background-size:cover;display:block&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;スマートフォン用の画像と、それ以外用の画像サンプル&quot; title=&quot;スマートフォン用の画像と、それ以外用の画像サンプル&quot; src=&quot;/static/e22e7acb1da1aa0821cfd3d8a9830f83/158ba/post-change-image.jpg&quot; srcSet=&quot;/static/e22e7acb1da1aa0821cfd3d8a9830f83/e52aa/post-change-image.jpg 175w,/static/e22e7acb1da1aa0821cfd3d8a9830f83/70ebb/post-change-image.jpg 350w,/static/e22e7acb1da1aa0821cfd3d8a9830f83/158ba/post-change-image.jpg 360w&quot; sizes=&quot;(max-width: 360px) 100vw, 360px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;/&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;&lt;p&gt;実際にどのように画像が切り替わるか確認したいかたは、デモページをご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/31/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/31&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;空の div要素（.mainVisual）を作成しておきます。背景画像を表示する領域です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- 背景画像を表示する領域 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;ヒーローイメージを想定して作成します。以前、「&lt;a href=&quot;../full-screen-image-background-property&quot;&gt;画像を CSSで画面にフル表示する方法 1（backgroundプロパティ編）&lt;/a&gt;」で書いた方法を流用します。&lt;/li&gt;&lt;li&gt;スマートフォン用のメディアクエリは、576px以下にしました。&lt;/li&gt;&lt;li&gt;スマートフォンの場合は mainVisual-sp.jpgが表示され、それ以外は mainVisual-pc.jpgを表示する形になります。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.mainVisual&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&amp;quot;mainVisual-pc.jpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-repeat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; no-repeat&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; screen &lt;span class=&quot;token keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 576px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* スマホ用 */&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;.mainVisual&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&amp;quot;mainVisual-sp.jpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;p&gt;写真の内容によっては、パソコンでは良い感じになるけれど、どれだけがんばって位置を調整してもスマートフォンでは良い感じにならないことがあります。そのような場合にはいっそ、今回のように別の画像を使用しても良さそうです。&lt;/p&gt;&lt;p&gt;あるいは、ユーザ層ごとに違うアプローチをとりたい場合もあります。例えば、パソコンの利用者が多い年代、スマートフォンの利用者が多い年代ごとに違うブランディングをしたい場合などです。そのような場合にも、画面サイズに応じて異なる画像を表示する方法は役立つはずです。&lt;/p&gt;&lt;p&gt;IEへの対応が不要なら、&lt;a href=&quot;../responsive-image-change-picture-element&quot;&gt;picture要素（source）を使って画像を切り替える方法&lt;/a&gt;もあります。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CSSで画面をパイルアップさせる表現方法]]></title><description><![CDATA[概要 Webブラウザの画面を下へスクロールしたときに、パイルアップ（pile up…]]></description><link>https://moon-forest-design.github.io/memo/page-scroll-pile-up-slider-position-sticky/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/page-scroll-pile-up-slider-position-sticky/</guid><pubDate>Wed, 26 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Webブラウザの画面を下へスクロールしたときに、パイルアップ（pile up）していくかのように見せる方法です。下からスライドして、画面が積み重なっていくようなイメージになります。紙芝居のようにも見えるかもしれません。&lt;/p&gt;&lt;p&gt;デモページを作成してあります。スクロール時にどのような形で画面がスライドするのか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/26/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/26&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;画面をパイルアップさせたい要素を用意します。今回は、header要素の中に、div要素を作成しました。class名は pileupです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;pileup&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;siteTitle&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;CSSで画面をパイルアップさせる表現方法&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;pileup&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;subTitle&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;画面を下へスクロールすると……&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;pileup&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;subTitle&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;パイルアップしているように……&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;pileup&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;subTitle&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;見えます。&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;パイルアップする上で必要な設定は、「&lt;code class=&quot;language-text&quot;&gt;position: sticky;&lt;/code&gt;」と「&lt;code class=&quot;language-text&quot;&gt;top: 0;&lt;/code&gt;」です。これによって、ウィンドウ画面を積み重なっていくような視差効果がうまれます。&lt;/li&gt;&lt;li&gt;「&lt;code class=&quot;language-text&quot;&gt;:nth-of-type()&lt;/code&gt;」を使って、交互に背景色を指定しています。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.pileup&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; sticky&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;letter-spacing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; .1em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.pileup:nth-of-type(even)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fffffc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #302833&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.pileup:nth-of-type(odd)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #302833&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fffffc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;p&gt;このようなパララックス（視差効果）をいかしたデザインは「おもしろい」と感じるものの、実際に使うとしたならもう一工夫必要になりそうです。&lt;/p&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/position&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;position – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[CSSの position（fixed）で固定して背景画像かのように表示する方法]]></title><description><![CDATA[概要 画像を、固定表示する方法についてのメモ書きです。前回は、CSSの「 background-attachment 」を使用しましたが、今回は position（fixed…]]></description><link>https://moon-forest-design.github.io/memo/fixed-image-css-position/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/fixed-image-css-position/</guid><pubDate>Fri, 21 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;画像を、固定表示する方法についてのメモ書きです。前回は、CSSの「&lt;a href=&quot;../fixed-image-css-background-attachment&quot;&gt;background-attachment&lt;/a&gt;」を使用しましたが、今回は position（fixed）プロパティを使用して同じような動作になるようにします。&lt;/p&gt;&lt;p&gt;ブラウザのウィンドウ画面いっぱいに表示した画像を固定することで、ページをスクロールすると画像の下に位置するコンテンツ部分（main要素）が少しずつかぶっていくような見え方になります。&lt;/p&gt;&lt;p&gt;デモページを作成してあります。画像がどのように固定表示されるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/22/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/22&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;div要素（.mainVisual）に、img要素（.mainVisual__img）を入れておきます。&lt;/li&gt;&lt;li&gt;main要素も作成します。いわゆるコンテンツ部分です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;main&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
～（中略）～
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;img要素（.mainVisual__img）の親要素（.mainVisual）を起点としたいので、「position: relative;」を指定しておきます。おおよそ画面にフル表示したいので「height: 100vh;」も指定します。&lt;/li&gt;&lt;li&gt;img要素（.mainVisual__img）を固定するために「position: fixed;」、「top: 0;」、「left: 0;」を指定します。また、レイヤーを下層にしたいので「z-index: -1;」も指定します。&lt;/li&gt;&lt;li&gt;main要素には、背景色を指定します。（つけないと透過してしまうためです）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.mainVisual&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; relative&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.mainVisual__img&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fixed&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1920px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;z-index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;object-fit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.main&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;おまけ&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;main要素と footer要素の間に marginを入れると隙間ができるので、再び背景画像が出現するかのような表現にすることもできます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.main&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 500px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[CSSの background-attachmentで背景画像を固定表示する方法]]></title><description><![CDATA[概要 背景画像を、固定表示する方法についてのメモ書きです。CSSの background-attachmentプロパティを使用します。 ブラウザのウィンドウ画面いっぱいに表示した画像を固定することで、ページをスクロールすると画像の下に位置するコンテンツ部分（main…]]></description><link>https://moon-forest-design.github.io/memo/fixed-image-css-background-attachment/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/fixed-image-css-background-attachment/</guid><pubDate>Thu, 20 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;背景画像を、固定表示する方法についてのメモ書きです。CSSの background-attachmentプロパティを使用します。&lt;/p&gt;&lt;p&gt;ブラウザのウィンドウ画面いっぱいに表示した画像を固定することで、ページをスクロールすると画像の下に位置するコンテンツ部分（main要素）が少しずつかぶっていくような見え方になります。ヒーローイメージなどを表示するときに利用できます。&lt;/p&gt;&lt;p&gt;デモページを作成してあります。どのように背景画像が固定表示されるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/21/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/21&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;空の div要素（.mainVisual）を用意します。この div要素に対して、CSSの backgroundで背景画像（ヒーローイメージ）を指定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- CSSのbackgroundで画像を背景表示する領域 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;p&gt;div要素（.mainVisual）に対して、各種 backgroundの指定を行い、さらに「background-attachment: fixed;」も指定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.mainVisual&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center/cover &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&amp;quot;mainVisual.jpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; no-repeat&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-attachment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fixed&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;これもパララックス・エフェクト（視差効果）と呼ばれる手法のひとつでしょうか。あまりうるさい印象がなくて良さそうです。&lt;/li&gt;&lt;li&gt;現状、残念ながら「background-attachment（fixed）」は、&lt;a href=&quot;https://caniuse.com/?search=background-attachment&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Safariなどのブラウザが十分に対応していない&lt;/a&gt;ようです。&lt;a href=&quot;../fixed-image-css-position&quot;&gt;position: fixed;を使う&lt;/a&gt;ほうが良いかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/background-attachment&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;background-attachment – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[スムーズスクロールの導入方法 2（scroll-behavior編）]]></title><description><![CDATA[概要 Webサイトに、スムーズスクロールを導入する方法についてのメモです。今回は、CSSだけでスムーズにスクロールができる scroll-behaviorを試してみました。 スムーズスクロールのデモページ（scroll-behavior…]]></description><link>https://moon-forest-design.github.io/memo/smooth-scroll-scroll-behavior/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/smooth-scroll-scroll-behavior/</guid><pubDate>Sun, 16 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Webサイトに、スムーズスクロールを導入する方法についてのメモです。今回は、CSSだけでスムーズにスクロールができる scroll-behaviorを試してみました。&lt;/p&gt;&lt;p&gt;スムーズスクロールのデモページ（scroll-behavior編）を作成してあります。どのような結果になるか確認したいかたはご覧ください。（※：利用している Webブラウザによってはうまく動作しない可能性があります）&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/17/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/17&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;HTML部分は、前回の&lt;a href=&quot;../smooth-scroll-self-made-jquery&quot;&gt;スムーズスクロールの導入方法 1&lt;/a&gt;とほぼ同じです。違う点は、jQueryや main.jsを読み込む必要がないところです。（CSSだけでできるため）&lt;/p&gt;&lt;p&gt;ナビゲーションメニューを作成しておきます。メニューの各 a要素の href属性には、各 h2見出しの id属性の値を入れます。これが移動元です。（例：#menu1、#menu2、#menu3）&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- メニュー --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__link&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#menu1&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__link&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#menu2&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__link&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#menu3&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー3&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;各 h2見出しには、それぞれ id属性をつけておきます。こちらが、移動先です。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- ページ内移動先 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu1&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー1 の デモ h2タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
（～中略～）
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu2&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー2 の デモ h2タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
（～中略～）
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu3&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー3 の デモ h2タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;p&gt;CSSで、html要素に「scroll-behavior: smooth;」をあてます。これだけスムーズスクロールが導入できます。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;scroll-behavior&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; smooth&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;課題&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;前回の&lt;a href=&quot;../smooth-scroll-self-made-jquery&quot;&gt;スムーズスクロールの導入方法 1&lt;/a&gt;でも書きましたが、scroll-behaviorプロパティは、他の方法と比べて導入するのは簡単ですが、残念ながら Webブラウザの対応がまだ十分ではないようです。Webブラウザの対応状況は、&lt;a href=&quot;https://caniuse.com/?search=scroll-behavior&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Can I use&lt;/a&gt;などでご確認ください。&lt;/li&gt;&lt;li&gt;移動スピードや、移動先の位置を微調整できないのも残念な点です。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/scroll-behavior&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;scroll-behavior – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://coliss.com/articles/build-websites/operation/css/fixing-smooth-scrolling-with-page-search.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;scroll-behavior: smooth;によるページ内検索時のスクロールを除外するテクニック | コリス&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[CSSでタイトルを上下左右 中央揃えにする方法]]></title><description><![CDATA[概要 CSSで h1要素などのタイトルを、上下左右 中央揃えにする方法です。よく知られているものを 5つ試してみました。 paddingと text-alignを使う方法 line-heightと text-alignを使う方法 flexを使う方法 gridを使う方法 table…]]></description><link>https://moon-forest-design.github.io/memo/center-top-bottom-left-right-align-css/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/center-top-bottom-left-right-align-css/</guid><pubDate>Thu, 13 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;CSSで h1要素などのタイトルを、上下左右 中央揃えにする方法です。よく知られているものを 5つ試してみました。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;paddingと text-alignを使う方法&lt;/li&gt;&lt;li&gt;line-heightと text-alignを使う方法&lt;/li&gt;&lt;li&gt;flexを使う方法&lt;/li&gt;&lt;li&gt;gridを使う方法&lt;/li&gt;&lt;li&gt;table-cellを使う方法&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;デモページを作成しました。タイトルを上下左右 中央揃えにすると、それぞれどのような結果になるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/16/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/16&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;その1：paddingと text-alignを使う方法&lt;/h2&gt;&lt;p&gt;1つ目は、paddingと text-alignプロパティを使う方法です。&lt;/p&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;次のような HTMLのコードがあると仮定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;上下は paddingで中央揃えにし、左右は text-alignで中央揃えにします。&lt;/li&gt;&lt;li&gt;タイトルが長い場合に左右にぴたりとくっついてしまうとかっこうが悪いので、左右にもpaddingを入れてあります。&lt;/li&gt;&lt;li&gt;この方法であれば、親要素に heightを指定する必要がありません。heightを指定してしまうと、上下でズレてしまいます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.title&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2em 1em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;その2：line-heightと text-alignを使う方法&lt;/h2&gt;&lt;p&gt;2つ目は、line-heightと text-alignプロパティを使う方法です。&lt;/p&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;次のような HTMLのコードがあると仮定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;上下は line-heightで中央揃えにし、左右は text-alignで中央揃えにしています。&lt;/li&gt;&lt;li&gt;親要素の height値を変更するときは、忘れずに line-heightの値も変更する必要があります。少し手間がかかります。&lt;/li&gt;&lt;li&gt;テキストが長いと親要素からはみ出す問題もあります。テキストの長さが決まっているような状況にのみ使うほうが良いようです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.header&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.title&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;line-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;その3：flexを使う方法&lt;/h2&gt;&lt;p&gt;3つ目は、flex（display: flex;）を使う方法です。&lt;/p&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;次のような HTMLのコードがあると仮定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;上下は align-itemsプロパティで中央揃えにし、左右は justify-contentプロパティで中央揃えにしています。&lt;/li&gt;&lt;li&gt;これまで使ってきて、これといった問題が起きたことが一度もありません。使い勝手が良い方法です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.header&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;その4：gridを使う方法&lt;/h2&gt;&lt;p&gt;4つ目は、grid（display: grid;）を使う方法です。&lt;/p&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;次のような HTMLのコードがあると仮定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;上下左右を place-itemsプロパティで中央揃えにしています。&lt;/li&gt;&lt;li&gt;残念ながら、IE11に対応していません。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.header&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; grid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;place-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;その5：table-cellを使う方法&lt;/h2&gt;&lt;p&gt;5つ目は、table（display: table-cell;）を使う方法です。&lt;/p&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;これまでの方法と違い、HTML側で div要素（.header__inner）を増やしてあげる必要があります。手間が増えます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header__inner&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;上下は 子要素に「display: table-cell;」と「vertical-align: middle;」をすることで中央揃えにし、左右は 親要素に「display: inline-block;」、及び大親要素で「text-align: center;」することにより中央揃えしています。&lt;/li&gt;&lt;li&gt;子要素は heightを継承する必要があります。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.header&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.header__inner&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inline-block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.title&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; table-cell&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;vertical-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; middle&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;p&gt;どの方法が優れているということはなく、今のところ状況に応じて使い分けています。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;親要素に heightを指定したくない場合は、「1：paddingと text-alignを使う方法」で済ますことがあります。&lt;/li&gt;&lt;li&gt;親要素に heightを指定する場合は、「3：flexを使う方法」を使います。&lt;/li&gt;&lt;li&gt;IEに対応する必要がなくなってきたら、「4：gridを使う方法」を使う機会が増えていくかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;今後さらに、いろいろと良い方法が出てくると思うので、状況に応じてより良いものを選択することになるでしょう。見直しつつ新たな方法を書き加えていきます。&lt;/p&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://ics.media/entry/17522/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;上下中央揃えのCSSまとめ。Flexboxがたった3行で最も手軽 – ICS MEDIA&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/align-items&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;align-items – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/justify-content&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;justify-content – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/place-items&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;place-items – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[画像を CSSで画面にフル表示する方法 2（object-fitプロパティ編）]]></title><description><![CDATA[概要 Webブラウザのウィンドウ画面いっぱいに、画像をフル表示する方法です。ヒーローイメージを表示したいときなどに利用します。前回は、 CSSの backgroundプロパティ を使用しましたが、今回は、object-fit…]]></description><link>https://moon-forest-design.github.io/memo/full-screen-image-object-fit-property/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/full-screen-image-object-fit-property/</guid><pubDate>Wed, 12 May 2021 01:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Webブラウザのウィンドウ画面いっぱいに、画像をフル表示する方法です。ヒーローイメージを表示したいときなどに利用します。前回は、&lt;a href=&quot;../full-screen-image-background-property&quot;&gt;CSSの backgroundプロパティ&lt;/a&gt;を使用しましたが、今回は、object-fitプロパティを使います。&lt;/p&gt;&lt;p&gt;デモページを作成してあります。object-fitプロパティで、ウィンドウ画面っぱいに画像を表示するとどのような感じになるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/14/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/14&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;前回は div要素の中が空（から）でしたが、今回は中に img要素を指定します。背景画像にせず、img要素を使うことによって、画像検索の対象になるメリットがうまれます。これは、object-fitプロパティを使用する利点のひとつと言えます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual__img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual.jpg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;classセレクタ「.mainVisual__img」の widthに 100%、heightに 100vhを指定します。画像の元サイズが幅 1920pxなので、max-widthで 1920pxも指定しておきます。max-widthを指定することにより、画質をたもつことができます。&lt;/li&gt;&lt;li&gt;object-fitに coverを指定します。coverを指定することで、レスポンシブ対応となります。スマホやタブレットで表示しても画像が歪みません。&lt;/li&gt;&lt;li&gt;今回は使用していないけれど、さらに object-positionプロパティを使えば、画像の位置を柔軟に変更することも可能です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.mainVisual__img&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1920px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;object-fit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;object-fitプロパティには他にも、video要素（動画）にも活用できるという特長があります。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/object-fit&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;object-fit – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[画像を CSSで画面にフル表示する方法 1（backgroundプロパティ編）]]></title><description><![CDATA[概要 Webブラウザのウィンドウ画面いっぱいに、画像をフル表示する方法です。ヒーローイメージを表示したいときなどに利用します。今回は、CSSで backgroundプロパティを使うやり方のメモです。 デモページを作成してあります。background…]]></description><link>https://moon-forest-design.github.io/memo/full-screen-image-background-property/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/full-screen-image-background-property/</guid><pubDate>Wed, 12 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Webブラウザのウィンドウ画面いっぱいに、画像をフル表示する方法です。ヒーローイメージを表示したいときなどに利用します。今回は、CSSで backgroundプロパティを使うやり方のメモです。&lt;/p&gt;&lt;p&gt;デモページを作成してあります。backgroundプロパティで、ウィンドウ画面っぱいに画像を表示するとどのようになるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/13/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/13&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;空の div要素（.mainVisual）を用意します。この div要素に対して、CSSの background-imageで背景画像（ヒーローイメージ）を指定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;mainVisual&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- CSSのbackgroundで画像を背景表示する領域 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;高さ（height）を指定してあげないとうまいこと表示されないので、必ず高さを指定します。おおよそ画面の高さいっぱいに表示するために 100vhを指定しています。&lt;/li&gt;&lt;li&gt;繰り返し表示しないように、background-repeatに no-repeatを指定します。&lt;/li&gt;&lt;li&gt;background-positionに center、background-sizeに coverを指定することで、画像の位置と大きさをちょうど良く調整できます。指定値によっては、画像のトリミングもできます。&lt;/li&gt;&lt;li&gt;今回は分かり良いように background関連の指定内容を分けて書きましたが、ひとまとめにして書くこともできます。一括してひとまとめで書きたい場合は、「&lt;code class=&quot;language-text&quot;&gt;background: center/cover url(“mainVisual.jpg”) no-repeat;&lt;/code&gt;」のように書きます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.mainVisual&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100vh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&amp;quot;mainVisual.jpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-repeat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; no-repeat&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cover&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;ヒーローイメージは、どのような Webサイトなのかをイメージづけることにもなるため、重要な意味を持ちます。ユーザー（閲覧者）にとって、ファーストビューとなることも多く、どのようなことを伝えたいのか？　その意図が明確に伝わる画像であることが好ましいようです。&lt;/li&gt;&lt;li&gt;backgroundを使って画像を画面いっぱいに表示する方法は、以前から使用されているおなじみのやり方です。しかし、あまり使われなくなってきているのかもしれません。利用メリットから勘案し、&lt;a href=&quot;../full-screen-image-object-fit-property&quot;&gt;object-fitを使う&lt;/a&gt;ことが増えてきているようです。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/background-image&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;background-image – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/background-position&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;background-position – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Web/CSS/background-size&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;background-size – CSS: カスケーディングスタイルシート | MDN&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[スムーズスクロールの導入方法 1（jQuery自作編）]]></title><description><![CDATA[概要 Webサイトに、スムーズスクロールを導入する方法についてのメモです。スムーズスクロールとは、リンクをクリックすると、ページ内をするするっと移動したかのように見せる機能です。jQuery…]]></description><link>https://moon-forest-design.github.io/memo/smooth-scroll-self-made-jquery/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/smooth-scroll-self-made-jquery/</guid><pubDate>Tue, 04 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Webサイトに、スムーズスクロールを導入する方法についてのメモです。スムーズスクロールとは、リンクをクリックすると、ページ内をするするっと移動したかのように見せる機能です。jQueryを使って作ってみました。&lt;/p&gt;&lt;p&gt;スムーズスクロールのデモページを作成してあります。どのような結果になるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/6/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/6&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;p&gt;以下、仕様です。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ヘッダー内にあるナビゲーションメニューのリンクをクリックすると、h2見出しへページ内移動します。&lt;/li&gt;&lt;li&gt;href属性の値に #が付いている a要素がクリックされると、jQueryによってスムーズスクロールを発動します。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;ナビゲーションメニューを作成しておきます。メニューの各 a要素の href属性には、各 h2見出しの id属性の値を入れます。これが移動元です。（例：#menu1、#menu2、#menu3）&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- メニュー --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__link&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#menu1&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__link&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#menu2&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー2&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__item&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu__link&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#menu3&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー3&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;各 h2見出しには、それぞれ id属性をつけておきます。こちらが、移動先です。（※：もちろん、必ず h2見出しでなけえばいけないわけではありません。Webサイトによっては、h3見出しの場合もあるかもしれません。状況に応じて設定しましょう）&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- ページ内移動先 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu1&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー1 の デモ h2タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
（～中略～）
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu2&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー2 の デモ h2タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
（～中略～）
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menu3&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;メニュー3 の デモ h2タイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;jQueryを使用するので読み込みます。&lt;code class=&quot;language-text&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;の直前に、次のコードを追加します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- jQuery、main.jsを読み込む --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;main.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：jQuery&lt;/h3&gt;&lt;p&gt;詳しい内容は、コード内にコメントを書いておきました。移動先の位置は、$adjustで調整できます。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;main.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// スムーズスクロール&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;a[href^=&amp;quot;#&amp;quot;]&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// a要素（href属性の値に#が付いているもの）をクリックしたら実行&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $href &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;href&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// a要素のhref属性の値を取得&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $adjust &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $href &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;#&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 移動先の位置がピッタリにならないよう調整する　トップ以外は上に 10px余白&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $target &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$href &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;#&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; $href &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;quot;html&amp;quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; $href&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// トップへ戻る場合は&amp;quot;html&amp;quot;を代入　他はaリンクのhrefの値を代入&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $position &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; $adjust&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 移動先の要素のtop位置を取得　及び$adjustで調整&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;#x27;body, html&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      scrollTop&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; $position
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;#x27;swing&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// animate()を使ってスムーズにページ内移動　スピード500、動作swing&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;スムーズスクロールを導入したい場合、自作できるなら自作してしまうほうが話は早そうです。&lt;/li&gt;&lt;li&gt;自分でコードを書くのがしんどい場合は、smooth-scroll.jsという jQueryライブラリを利用してみると良いかもしれません。&lt;/li&gt;&lt;li&gt;scroll-behaviorプロパティは、他の方法と比べて導入するのは簡単ですが、残念ながらブラウザ対応がまだ十分ではないようです。また、不具合や微調整もしがたいので、もう少し様子を見たいところです。&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[トップへ戻るボタンの作り方]]></title><description><![CDATA[…]]></description><link>https://moon-forest-design.github.io/memo/page-top-back-button-jquery/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/page-top-back-button-jquery/</guid><pubDate>Tue, 04 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;トップへ戻るボタンを作成したときのメモです。トップへ戻るボタンとは、ボタンをクリックするとページの先頭まで戻る機能のことをいいます。&lt;/p&gt;&lt;p&gt;一般的に、ページの右下に設置されことが多く、表示 / 非表示はちょうど良いタイミングで切り替わります。&lt;/p&gt;&lt;p&gt;トップへ戻るボタンのデモページを作成してあります。どのような結果になるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/5/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/5&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;p&gt;以下、仕様です。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;事前に、トップへ戻るボタンを、CSSで非表示にしておきます。&lt;/li&gt;&lt;li&gt;トップへ戻るボタンの表示 / 非表示は、jQueryで切り替えます。&lt;/li&gt;&lt;li&gt;ページを下方へスクロールして 、基準線を越えると、jQueryでトップへ戻るボタンを表示します。クリックすると、トップの位置へ移動します。&lt;/li&gt;&lt;li&gt;トップへ戻るボタンをクリックするか、あるいは、クリックせずにページ上方へスクロールして基準線を越えた（戻った）場合には、jQueryでトップへ戻るボタンを非表示にします。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;トップへ戻るボタンを作成します。あらかじめ案件にあわせて上向きの矢印画像を用意しておきましょう。svg画像のコードを埋め込んだり、Webアイコンフォントを利用すれば、もう少し凝ったエフェクトをかけやすくなりますが、今回は内容をシンプルにするために png画像を使用しました。&lt;/li&gt;&lt;li&gt;画像は a要素で囲みます。href属性には、#を入力しておきます。&lt;/li&gt;&lt;li&gt;id属性は jQuery用。class属性は CSS用です。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- トップへ戻るボタン --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;back-to-top&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;backToTopBtn&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;back-to-top__btn&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;arrow.png&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;jQueryを使うので、&lt;code class=&quot;language-text&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;の手前あたりで呼び出します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- jQuery、main.jsを読み込む --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;main.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;a要素（.back-to-top）は、ブロックレベル要素（display: block;）にします。固定配置（position: fixed;）により、Webブラウザ画面の右下あたりに配置します。&lt;/li&gt;&lt;li&gt;トップへ戻るボタン（.back-to-top__btn）の画像を、CSSで非表示（display: none;）にしておきます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.back-to-top&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; block&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 60px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 60px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fixed&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.back-to-top:hover&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; .7&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.back-to-top__btn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1em&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;box-sizing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; border-box&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #241c1c&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 4px solid #fffffc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 50%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：jQuery&lt;/h3&gt;&lt;p&gt;詳しい内容は、コード内にコメントを書いておきました。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;main.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// トップへ戻るボタンを表示・非表示する&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $winHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ウィンドウ画面の高さを取得&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $scrollTop &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scrollTop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// スクロールした現在のtopの位置を取得&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $scrollBottom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $scrollTop &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; $winHeight&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// スクロールした現在のtopの位置にウィンドウ画面の高さを加算してbottomの位置を算出&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $borderLine &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ページ全体の高さの7割くらいを基準線にする &lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; $scrollBottom &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; $borderLine &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;#backToTopBtn&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fadeIn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// スクロールして基準線を超えたらトップへ戻るボタンを表示&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;#backToTopBtn&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fadeOut&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// スクロールが基準線に達しない場合はトップへ戻るボタンを非表示&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;おまけ&lt;/h2&gt;&lt;p&gt;スムーズスクロールは、scroll-behaviorを利用しました。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;scroll-behavior&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; smooth&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[スクロール時に「ふわっ」と表示させる方法 1（jQueryと CSSアニメーション編）]]></title><description><![CDATA[概要 ページをスクロールしたときに、各コンテンツを下からふわっとフェードイン表示する方法についてのメモ書きです。jQueryと CSS…]]></description><link>https://moon-forest-design.github.io/memo/page-scroll-fade-in-self-made-jquery-css/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/page-scroll-fade-in-self-made-jquery-css/</guid><pubDate>Sat, 24 Apr 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;ページをスクロールしたときに、各コンテンツを下からふわっとフェードイン表示する方法についてのメモ書きです。jQueryと CSSアニメーションを使って自作しました。&lt;/p&gt;&lt;p&gt;デモページを作成してあります。スクロール時にどのような形で「ふわっ」と表示されるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/3/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/3&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;p&gt;以下、仕様です。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;事前に CSSで、ふわっと表示したい領域を透過にし、少し下にずらしておきます。また逆に、その透過などを戻すための設定も用意しておきます。&lt;/li&gt;&lt;li&gt;ユーザーがページをスクロールし、ふわっと表示したい領域に近づいたら、jQueryで透過などを戻すことでふわっと表示させます。&lt;/li&gt;&lt;li&gt;ブラウザのリロードボタンが押された場合もふわっと表示されるようにしてあります。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;ふわっとフェードイン表示したい領域を用意します。ここでは section要素の .contents及び .contentが、そのふわっと表示したい領域です。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- ふわっと表示したい領域 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;section&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;contents&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;section&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  ～（コンテンツ）～
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;section&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;section&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;jQueryを使うので、&lt;code class=&quot;language-text&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;の手前あたりで呼び出します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;main.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;前述の仕様で書いた通り、ふわっと表示したい領域（.contents及び .content）を、CSSで透過にしておきます。また、CSSの &lt;code class=&quot;language-text&quot;&gt;translate()&lt;/code&gt;を使って、100pxほど下にずらしてあります。&lt;/li&gt;&lt;li&gt;透過と位置のずれを戻す classセレクタは、.visibleです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.contents,
.content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;translate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 100px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token property&quot;&gt;transition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; all 1.5s&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.contents.visible,
.content.visible&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;translate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：jQuery&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;ユーザーがページをスクロールし、ふわっと表示したい領域に近づいたら jQueryを使い透過と位置のずれを戻します。詳しい内容は、コード内にコメントを書いておきました。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;main.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;// コンテンツの近くにスクロールされたら、ふんわり表示する&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $winHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ウィンドウ画面の高さを取得&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;.contents, .content&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $scrollTop &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scrollTop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// スクロールした現在のtopの位置を取得&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $scrollBottom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $scrollTop &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; $winHeight&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// スクロールした現在のtopの位置にウィンドウ画面の高さを加算してbottomの位置を算出&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $offsetTop &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// コンテンツの位置を取得&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; $scrollBottom &lt;span class=&quot;token operator&quot;&gt;&amp;gt;&lt;/span&gt; $offsetTop&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ふんわり表示させたいコンテンツにスクロールが及べば表示する&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;visible&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 中途半端な位置でリロードされたときも、ふんわり表示する&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;p&gt;スクロールするとふわっと表示される機能は、いわゆる「パララックス･スクロールエフェクト」と呼ばれる表現手法のうちの一つと言えるかと思います。視差効果によって、訴求力を高めるための手法です。&lt;/p&gt;&lt;p&gt;はじめてこのふわっと表示されるページを見たときは、「おっ、かっこいい！」と思いました。「どこかで使ってみたい」とも。&lt;/p&gt;&lt;p&gt;ただこれ、「使いどころが難しいな」とも感じました。なぜなら、表示されていない状態があるということは、とても落ち着かない心理をもたらすと思ったからです。安心感を重視したいサイトには向かないテクニックかもしれません。使うのであれば、その場所をようよう検討する必要がありそうです。&lt;/p&gt;&lt;h2&gt;おまけ&lt;/h2&gt;&lt;p&gt;jQueryライブラリの &lt;a href=&quot;../page-scroll-fade-in-jquery-scrollreveal&quot;&gt;ScrollReveal.jsを使ってふわっと表示する方法&lt;/a&gt;もあります。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ページのスクロールを促す CSSアニメーション]]></title><description><![CDATA[概要 ページのスクロールを促す CSSアニメーションを作成したときのメモ書きです。3秒経ってもスクロールされないときは、メッセージ「Please Scroll」を表示して、バウンドし続けます。 ページのスクロールを促す CSS…]]></description><link>https://moon-forest-design.github.io/memo/page-scroll-urge-css-animation-jquery/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/page-scroll-urge-css-animation-jquery/</guid><pubDate>Fri, 23 Apr 2021 01:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;ページのスクロールを促す CSSアニメーションを作成したときのメモ書きです。3秒経ってもスクロールされないときは、メッセージ「Please Scroll」を表示して、バウンドし続けます。&lt;/p&gt;&lt;p&gt;ページのスクロールを促す CSSアニメーションのデモページを作成してあります。どのような結果になるか確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/2/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/2&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;p&gt;以下、仕様です。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;事前に、メッセージ「Please Scroll」を、CSSで非表示にしておきます。&lt;/li&gt;&lt;li&gt;3秒経っても、ユーザーがスクロールしないようなら、jQueryを使ってメッセージ「Please Scroll」をフェードイン表示します。&lt;/li&gt;&lt;li&gt;メッセージ「Please Scroll」は、CSSアニメーション（bounce）によりバウンドし続けます。&lt;/li&gt;&lt;li&gt;ユーザーがページをスクロールしはじめたら、メッセージ「Please Scroll」を jQueryを使ってフェードアウトします。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;id属性は jQueryで使用、class属性は CSSで使用しています。&lt;/li&gt;&lt;li&gt;矢印代わりに三角マーク（▼）を使用しています。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;pleaseScroll&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;pleaseScroll animationBounce&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  Please Scroll&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;▼
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;jQueryを使用するので、読み込みます。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;main.js&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;前述の仕様で書いた通り、メッセージ「Please Scroll」の要素（.pleaseScroll）を、「display: none;」で非表示にしてあります。&lt;/li&gt;&lt;li&gt;メッセージ「Please Scroll」は絶対配置（position: absolute;）させています。&lt;/li&gt;&lt;li&gt;animation関連の指定値は 3つだけ指定しました。他の指定値はデフォルトのままでかまいません。あるいは、animationで一括指定してもかまいませんが、ここでは必要な分だけ明示的に変更することを是としました。&lt;ul&gt;&lt;li&gt;animation-name（アニメーション名）&lt;/li&gt;&lt;li&gt;animation-duration（アニメーションを実行する期間）&lt;/li&gt;&lt;li&gt;animation-iteration-count（アニメーションを繰り返す回数）&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;@keyframesで垂直方向に移動させる（translateY）ことで、バウンドしているかのように見せています。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.pleaseScroll&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2rem&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;bottom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 30px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #192f60&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.animationBounce&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;animation-name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bounce&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;animation-duration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2s&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;animation-iteration-count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; infinite&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@keyframes&lt;/span&gt; bounce&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;0%, 100%, 20%, 50%, 80%&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;translateY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;40%&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;translateY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;-30px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;60%&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;translateY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;-15px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;3：jQuery&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;jQueryでやっていることは、コード内のコメントで書いてある通りです。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;main.js&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// スクロールされないとき メッセージ「Please Scroll」を表示&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 3秒待つ&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scrollTop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 3秒経っても上端から10px以上スクロールしない場合&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;#pleaseScroll&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fadeIn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 「Please Scroll」を表示しスクロールを促す&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// スクロールされたら「Please Scroll」を非表示&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;quot;#pleaseScroll&amp;quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fadeOut&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;p&gt;ユーザー（閲覧者）が次に何をすれば良いのか迷ったときに、タイミングよく「行動を促すヒント」を表示できると親切です。ただこれは、ユーザーのそのときの考えをうまいこと汲み取ることができれば良いですが、なかなか実現は困難であると感じます。&lt;/p&gt;&lt;p&gt;いちユーザーとしての経験上においては、余計な表示は不快に感じるばかりです。「うっとうしい」と思うことのほうが多い。使いどころは難しそうです。&lt;/p&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;CSSアニメーション部分のコードを参考にさせていただいたサイトが無くなってしまったようです。残念です。&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[CSSでヘッダーを画面っぱいに表示する方法 1（height: 100%;編）]]></title><description><![CDATA[概要 CSSでヘッダー部分をウィンドウ画面いっぱいに表示する方法です。「height: 100%;」を、html要素から継承していくことで、高さをウィンドウ画面いっぱいに表示します。また、ヘッダー内のサイトタイトル（h…]]></description><link>https://moon-forest-design.github.io/memo/full-screen-header-css-height-100percent/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/full-screen-header-css-height-100percent/</guid><pubDate>Fri, 23 Apr 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;CSSでヘッダー部分をウィンドウ画面いっぱいに表示する方法です。「height: 100%;」を、html要素から継承していくことで、高さをウィンドウ画面いっぱいに表示します。また、ヘッダー内のサイトタイトル（h1要素）は、上下左右で中央揃えにしてあります。&lt;/p&gt;&lt;p&gt;デモページを作成してあります。ヘッダーを画面いっぱいに表示したときの結果を確認したいかたはご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.github.io/demo/1/index.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;デモページ&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/moon-forest-design/demo/tree/main/1&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;サンプルコード&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;要点&lt;/h2&gt;&lt;h3&gt;1：HTML&lt;/h3&gt;&lt;p&gt;次のような HTMLのコードがあると仮定します。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;index.html&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;header__container&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;siteTitle&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;サイトタイトル&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;2：CSS&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;html要素に、「height: 100%;」を指定します。そして、必要となる箇所まで高さを継承します。今回の場合であれば、html要素の heightの値（100%）を、body要素、header要素とつないで、サイトタイトルの親要素（.header__container）まで inheritして継承を繰り返します。&lt;/li&gt;&lt;li&gt;サイトタイトルの上下左右の中央揃えは、好きな方法でかまいません。今回は、親要素（.header__container）に flexを指定しました。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;style.css&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.header&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.header__container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inherit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;上下左右の中央揃えについては、「タイトルを上下左右で中央揃えにする方法」にまとめてあります。&lt;/li&gt;&lt;li&gt;この html要素から「&lt;code class=&quot;language-text&quot;&gt;height: 100%;&lt;/code&gt;」を継承する方法は、中の子要素が深くなってくると運営・管理するのがちょっと大変かもしれません。&lt;a href=&quot;../full-screen-header-css-height-100vh&quot;&gt;100vhを継承する方法&lt;/a&gt;であれば、あまり深くなりません。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://qiita.com/shouchida/items/205fed63b886681661bd&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;height: 100% の要素が画面の高さ100%にならない場合の対応方法 – Qiita&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Inkscapeで作成した SVG画像をインラインSVGとして利用する手順]]></title><description><![CDATA[概要 Inkscapeで SVG画像を作成して、インラインSVGとして利用する手順です。作成した SVG画像（SVGのコード）を、HTMLファイルへ貼り付けることで、Webサイトに画像を表示することができます。 今回は、Web…]]></description><link>https://moon-forest-design.github.io/memo/svg-inkscape-image-inline-svg/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/svg-inkscape-image-inline-svg/</guid><pubDate>Sat, 17 Apr 2021 11:19:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;Inkscapeで SVG画像を作成して、インラインSVGとして利用する手順です。作成した SVG画像（SVGのコード）を、HTMLファイルへ貼り付けることで、Webサイトに画像を表示することができます。&lt;/p&gt;&lt;p&gt;今回は、Webサイトのヘッダーに表示するサイトロゴとして利用することを想定して進めます。&lt;/p&gt;&lt;h3&gt;1：Webサイトのロゴを作成する&lt;/h3&gt;&lt;p&gt;Inkscapeの詳しい使い方については割愛します。オブジェクトを重ねたり、統合や差分を使ったり、お好きなような形でロゴを作成してください。&lt;/p&gt;&lt;p&gt;Web上で使用することを目的にしているので、オブジェクトの幅・高さの単位を px（ピクセル）で作成しておくことをおすすめします。例えば、画面上でどれくらいの大きさなのか分からなくなったときに判断しやすくなるためです。&lt;/p&gt;&lt;p&gt;この記事では、シンプルな仮のロゴを作成します。仮ロゴは、後で SVGのコードを見たときに分かりやすくするために、黒色（RGBA：000000ff）の円形のオブジェクトのみにしています。サイズは、幅・高さともに 100pxです。&lt;/p&gt;&lt;h3&gt;2：オブジェクトをパスへ変換する&lt;/h3&gt;&lt;p&gt;ロゴが一通り完成したら、オブジェクトをパスへ変換しておきましょう。Inkscapeの場合であれば、次のようにします。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;パスへ変換したいオブジェクトを、選択します。&lt;/li&gt;&lt;li&gt;上部メニューの[ パス ] - [ オブジェクトをパスへ ]を、実行しましょう。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;3：パスの簡略化を行う&lt;/h3&gt;&lt;p&gt;Inkscapeでロゴを作成しているうちに、無駄なノードが出来てしまうことがあります。不要なノードを一つずつ目視手作業で削除するのは骨がおれるので、パスの簡略化という機能を使うと便利です。半自動的に整理することができます。次のようにします。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;ノードの整理をしたいオブジェクトを、ノードツールで選択します。&lt;/li&gt;&lt;li&gt;上部メニューの[ パス ] - [ パスの簡略化 ]を実行しましょう。&lt;/li&gt;&lt;li&gt;オブジェクトの形状が崩れないように確認しながら、何度か簡略化を繰り返してください。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;4：位置を調整する&lt;/h3&gt;&lt;p&gt;作業中はどのような位置で作成しても、お好きなようにしていただいてかまいません。しかし、ロゴが完成し、あとはインラインSVGとして使用するばかりとなったら、オブジェクトの位置を X座標 0.000、Y座標 0.000にしましょう。&lt;/p&gt;&lt;h3&gt;5：ドキュメントサイズを調整する&lt;/h3&gt;&lt;p&gt;初期設定（A4サイズ）のままでは、無駄な余白が多くなります。ドキュメントのサイズを、ロゴの大きさにあわせましょう。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;上部メニューの[ ファイル ] - [ ドキュメントのプロパティ ]を選択し、ドキュメントのプロパティを表示します。&lt;/li&gt;&lt;li&gt;カスタムサイズのところにある「ページサイズをコンテンツに合わせて変更」をクリックして展開します。&lt;/li&gt;&lt;li&gt;マージンはそのままにして、[ Resize page to drawing or selection ]ボタンをクリックしましょう。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;この方法で期待するような結果が得られない場合は、マージンを設定するか、あるいは、次のようにして手作業で調整してください。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;上部メニューの[ ファイル ] - [ ドキュメントのプロパティ ]を選択し、ドキュメントのプロパティを表示します。&lt;/li&gt;&lt;li&gt;カスタムサイズの単位を pxに変更します。&lt;/li&gt;&lt;li&gt;カスタムサイズの幅・高さをそれぞれ、オブジェクトの幅・高さに近しい数値にして調整します。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;6：クリックできる範囲を広げるための仕込みをしておく&lt;/h3&gt;&lt;p&gt;ロゴにリンクを設定するのであれば、クリックできる範囲を広げるための仕込みをしておきましょう。通常のままでは、クリックできる範囲が狭すぎるためです。とくにテキストタイプの余白が多くなりがちなロゴは、この仕込みをしておく必要があります。&lt;/p&gt;&lt;p&gt;他にも方法はあるかもしれませんが、今回はダミーの矩形を使う方法で行います。ドキュメントと同じサイズで矩形を作成し、ロゴ（オブジェクト）の上に重ねておくやり方です。フィルの色は、白色（RGBA：ffffffff）を指定しておきます。何色でもかまわないけれど無難です。&lt;/p&gt;&lt;p&gt;矩形でロゴが見えなくなったでしょうか？　ここではそれで OKです。後にこの矩形に対して、リンク（a要素）をつけ、CSSで透過にするので問題ありません。&lt;/p&gt;&lt;h3&gt;7：SVGファイルを圧縮する&lt;/h3&gt;&lt;p&gt;Inkscapeなどのツールで SVG画像を作成すると、使用したツールの情報なども埋め込まれます。それらの情報は、今回のような使い方をする場合においては無くてもいいものです。&lt;/p&gt;&lt;p&gt;不要な情報を目視で一つずつ削除してもかまわないけれど、大変な作業となります。試しにやってみたら大変でした。間違って削除して画像が表示されなくなることもあるので、自動的に圧縮してくれるツールを利用するほうが賢明です。&lt;/p&gt;&lt;p&gt;SVGファイルの圧縮は &lt;a href=&quot;https://compressor.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Compressor.io&lt;/a&gt;などの Webツールを使うと良いかもしれません。いらない情報を削除し、うまいこと SVGファイルを圧縮してくれます。&lt;/p&gt;&lt;h3&gt;8：HTMLコード内へ貼り付ける&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;圧縮できたら、SVGファイルを、Visual Studio Codeなどのテキストエディタで開いてみましょう。&lt;/li&gt;&lt;li&gt;SVGファイルを開いたら、SVGコードのすべてをコピーしてください。&lt;/li&gt;&lt;li&gt;次は HTMLファイルを開きます。&lt;/li&gt;&lt;li&gt;HTMLファイルを開いたら、その HTMLコード内の表示したい箇所に貼り付けましょう。例えば、header要素内などです。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;以下、SVGコード例です。circle要素が仮ロゴのオブジェクトで、rect要素がリンク用のオブジェクトです。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;HTML&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;svg&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;xmlns&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;http://www.w3.org/2000/svg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;viewBox&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;0 0 26.458 26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;100&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;100&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;circle&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;cy&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;cx&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;rect&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ry&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;.156&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#fff&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;svg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;WordPressを使っているのであれば、貼り付けるのは header.phpあたりがよろしかろうと思います。ヘッダー以外の場所でも使用するのであれば、別ファイルに書き出しておいて呼び出す形にする方法もあります。&lt;/p&gt;&lt;h3&gt;9：矩形にリンクをつける&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;手書きで a要素を追加します。前述の工程 6で仕込んでおいた矩形（rect要素）を a要素で囲みましょう。&lt;/li&gt;&lt;li&gt;href属性の「***」の箇所には、リンク先を指定してください。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;HTML&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;svg&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;xmlns&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;http://www.w3.org/2000/svg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;viewBox&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;0 0 26.458 26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;100&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;100&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;circle&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;cy&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;cx&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;***&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;rect&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ry&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;.156&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#fff&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;svg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;10：CSSを指定する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;svg要素と rect要素にそれぞれ class属性を指定しましょう。&lt;/li&gt;&lt;li&gt;CSS側で width・heightや :hover、透過などを指定しましょう。以下、コード例です。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;HTML&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;svg&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;xmlns&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;http://www.w3.org/2000/svg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;sitelogo&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;viewBox&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;0 0 26.458 26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;100&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;100&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;circle&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;cy&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;cx&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;***&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;rect&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;sitelogo__dummyRect&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ry&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;.156&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#fff&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;svg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;CSS&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.sitelogo&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 200px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.sitelogo:hover&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; .8&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.sitelogo__dummyRect&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;11：alt属性の代替？&lt;/h3&gt;&lt;p&gt;画像なのだけれど、svg要素に alt属性をつけることはできません。そこで、svg要素に alt属性の代替として、role属性と aria-label属性を追加しておきましょう。&lt;/p&gt;&lt;p&gt;これは過分かもしれませんが、この svg要素が何かを、Googleなどの検索エンジンに伝えるための工夫です。&lt;/p&gt;&lt;div class=&quot;gatsby-code-title&quot;&gt;HTML&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;svg&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;xmlns&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;http://www.w3.org/2000/svg&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;sitelogo&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;viewBox&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;0 0 26.458 26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;100&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;100&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;aria-label&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;サイトロゴ&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;circle&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;cy&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;cx&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;13.229&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;***&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;rect&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;sitelogo__dummyRect&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ry&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;.156&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;26.458&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#fff&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;svg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;12：Webブラウザで確認する&lt;/h3&gt;&lt;p&gt;HTMLファイルを保存し、Webブラウザで表示してみましょう。問題がなければ、これで完成です。お疲れさまでした。&lt;/p&gt;&lt;h2&gt;おまけ&lt;/h2&gt;&lt;h3&gt;SVGとは？&lt;/h3&gt;&lt;p&gt;そもそも、「SVGとは何なのか？」については、月の森デザインのほうで書いています。良かったら、ご覧ください。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://moon-forest-design.com/what-is-svg/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;SVGとは？&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;Inkscape側で透過にしてはいけない&lt;/h3&gt;&lt;p&gt;作業手順の工程 6にて、クリックできる範囲を広げるための仕込みをしました。Inkscapeなどの画像編集アプリを使い慣れている人であれば、「矩形のフィルの色を白色透過（RGBA：ffffff00）にしておけば、手間が少ないのでは」と思ったかもしれません。&lt;/p&gt;&lt;p&gt;しかし、Inkscape側で透過にしておくと、画像の圧縮後に問題が起きます。rect要素は残りますが、fill=”none”に変更されてしまうため、リンクは機能しなくなるようです。（圧縮前はstyle属性で指定されています）&lt;/p&gt;&lt;p&gt;class属性をつけたりと、面倒に感じるかもしれませんけれども、CSSで透過（opacity: 0;）設定するほうがいいようです。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CLIP STUDIO PAINTによる GIFアニメの作り方]]></title><description><![CDATA[概要 今回は、CLIP STUDIO PAINTというペイントソフトを使って GIFアニメーションを作成する手順を書き残しておきます。 ほんのちょっとしたバナーの作成や、大まかな流れだけつかみたいときには以下の手順だけでも十分足りるはずです。 CLIP STUDIO PAINT…]]></description><link>https://moon-forest-design.github.io/memo/gif-animation-clip-studio-paint/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/gif-animation-clip-studio-paint/</guid><pubDate>Thu, 08 Apr 2021 04:31:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;p&gt;今回は、CLIP STUDIO PAINTというペイントソフトを使って GIFアニメーションを作成する手順を書き残しておきます。&lt;/p&gt;&lt;p&gt;ほんのちょっとしたバナーの作成や、大まかな流れだけつかみたいときには以下の手順だけでも十分足りるはずです。&lt;/p&gt;&lt;h2&gt;CLIP STUDIO PAINTによる GIFアニメ作成手順&lt;/h2&gt;&lt;h3&gt;1：準備する&lt;/h3&gt;&lt;p&gt;まずは構想です。どのようなアニメーションを作成するのか？　コンテを描きましょう。指定できるセルの枚数は、6～24枚なので、事前に想定してコマ割りを考えておく必要があります。&lt;/p&gt;&lt;p&gt;また、アニメーションを無限ループさせるのか、回数を決めて停止させるかなども、先に決めておくほうが作業がスムーズに進みます。オチのつけ方で、どのようにするのが良いか変わってくると思うので、事前に決めておきましょう。&lt;/p&gt;&lt;h3&gt;2：新規ファイルを作成する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;上部メニュー[ ファイル ] - [ 新規 ]を選択します。&lt;/li&gt;&lt;li&gt;新規ポップアップウィンドウで「うごくイラストを作る」にチェックを入れます。セルの枚数、及びフレームレートを指定します。フレームレートとは、1秒間に処理するセルの枚数のことです。単位は、FPS（frames per second）です。&lt;/li&gt;&lt;li&gt;レイヤーウィンドウに「アニメーションフォルダー」が作成され、上述で指定したセルの枚数分のレイヤーが作成されます。（この記事では以降、アニメーションフォルダー内のレイヤーを「アニメレイヤー」、それ以外を「それ以外レイヤー」と示すことにします）&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;3：作画する&lt;/h3&gt;&lt;p&gt;ここで各アニメレイヤーに直接作画しても良いし、別途それ以外レイヤーを作成して作画してもかまいません。今回はそれ以外レイヤーで必要な作画を行う手順にしました。&lt;/p&gt;&lt;p&gt;素材をそれ以外レイヤーで作成し、加工したコピーをアニメーションフォルダーへ移動する形にした方が、後で大きなやり直しが発生しても対応しやすいと考えたためです。&lt;/p&gt;&lt;p&gt;作画が一通りできたら、レイヤーの結合を行います。右クリックで「表示レイヤーのコピーを結合」を使えばマスターが残るので便利です。&lt;/p&gt;&lt;h3&gt;4：アニメレイヤー化する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;結合したレイヤーをアニメーションフォルダーへ移動し、レイヤー名を変更します。レイヤー名は、下から順番に 1・2・3……とつけます。&lt;/li&gt;&lt;li&gt;不要になったアニメレイヤーは削除します。&lt;/li&gt;&lt;li&gt;コピー元のそれ以外レイヤーを非表示にします。&lt;/li&gt;&lt;li&gt;これらの作業を、セルの数だけ繰り返しましょう。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;5：試す&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;上部メニュー[ ウィンドウ ] - [ タイムライン ]に、チェックを入れます。&lt;/li&gt;&lt;li&gt;下部にタイムラインウィンドウが表示されます。&lt;/li&gt;&lt;li&gt;再生ボタンを押すと、アニメーションが開始します。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;アニメーションが開始しない場合は、次の原因が考えられます。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;それ以外レイヤーが、表示状態になっている場合はうまくいかないようです。非表示設定にしてみると良いかもしれません。&lt;/li&gt;&lt;li&gt;アニメーションフォルダーが、表示状態になっていないとうまくいかないようです。表示設定にしてみると良いかもしれません。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;6：出力する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;アニメーションができたら、GIF形式で書き出しましょう。上部メニュー[ ファイル ] - [ アニメーション書き出し ] - [ アニメーションGIF… ]を選択します。&lt;/li&gt;&lt;li&gt;保存したい場所を選び、[ 保存 ]ボタンをクリックしましょう。&lt;/li&gt;&lt;li&gt;アニメーション GIF出力設定ポップアップウィンドウで各設定を確認し、必要なら変更した上で、[ OK ]ボタンをクリックします。&lt;/li&gt;&lt;li&gt;「アニメーション GIF 出力が完了しました。」と表示されるので、[ OK ]ボタンをクリックします。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;7：確認する&lt;/h3&gt;&lt;p&gt;最後に、Webブラウザなどでアニメーションが期待した通りに表示されるか確認しましょう。問題なければ、これで完成です。お疲れさまでした。&lt;/p&gt;&lt;h2&gt;補足&lt;/h2&gt;&lt;h3&gt;テキスト機能が使いたい場合&lt;/h3&gt;&lt;p&gt;テキスト機能が使いたい場合は、少々戸惑うかもしれません。今後バージョンが変わればどうなるか分かりませんが、この記事を書いている時点では、テキスト機能で書いた文字は、アニメーションフォルダーの外に作成されるようです。&lt;/p&gt;&lt;p&gt;テキスト機能の文字を使いたければ、テキスト機能で書いた文字のレイヤーとラスタレイヤー等の背景とを結合して、アニメーションフォルダーへ移動してあげると良いでしょう。もちろん、レイヤー名を変更するのもお忘れなく。（1とか、2とか）&lt;/p&gt;&lt;h3&gt;レイヤーが多い場合&lt;/h3&gt;&lt;p&gt;複雑なアニメーションを作る場合は、それ以外レイヤーでの作業はやり難くなるかもしれません。レイヤーが多くなると、上下動させる操作が増えてしまうため厄介です。&lt;/p&gt;&lt;p&gt;レイヤーが多いアニメーションを作るときは、アニメーションフォルダー内にフォルダーを作る方が作業効率が良くなるでしょう。フォルダーをいちいち作るのは手間で辟易するかもしれないけれど、仕方がありません。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;アニメレイヤーを右クリックして、「フォルダーを作成してレイヤーを挿入」を選択します。&lt;/li&gt;&lt;li&gt;アニメレイヤー名と同じ名前でフォルダーが作成され、その中にアニメレイヤーが挿入されます。&lt;/li&gt;&lt;li&gt;作成したフォルダー内での作業が可能になります。&lt;/li&gt;&lt;li&gt;アニメーションを実行する際は、作成したフォルダ内のアニメレイヤーのみ表示状態にします。それ以外（アタリ、下描き等）のレイヤーは非表示にします。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;既存のイラストを使いたい場合&lt;/h3&gt;&lt;p&gt;すでに描きためてあるイラストを、アニメーションに使いたいときもあるのではないでしょうか。その問題は、別ファイルをインポート（読み込み）することで解決します。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;アニメーションフォルダーを、クリックします。&lt;/li&gt;&lt;li&gt;[ ファイル ] - [ 読み込み ] - [ 画像 ]を、選択します。&lt;/li&gt;&lt;li&gt;画像ファイルを選び、[ 開く ]ボタンを、クリックします。&lt;/li&gt;&lt;li&gt;インポートされます。&lt;/li&gt;&lt;li&gt;インポートしたレイヤー名を変更します。（1とか、2とか）&lt;/li&gt;&lt;li&gt;不要になったアニメレイヤーは削除します。&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;あとがき&lt;/h2&gt;&lt;p&gt;もっと本格的に作成したい場合は、&lt;a href=&quot;https://tips.clip-studio.com/ja-jp/series/4&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;CLIP STUDIOの公式ドキュメント&lt;/a&gt;が参考になります。次のようなことが詳しく書かれています。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;オニオンスキンの使い方&lt;/li&gt;&lt;li&gt;アニメーションフォルダー内にフォルダを作成して下描き等のレイヤーを管理する方法&lt;/li&gt;&lt;li&gt;ムービーファイルとして保存する方法（AVI形式・MP4形式・QuickTime形式等）&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[カルーセルスライダー「Smart Slider 3」の導入と使い方]]></title><description><![CDATA[Smart Slider 3の導入手順 WordPressでカルーセルスライダーを利用したいときのプラグインと言えば、何が良いでしょうか。おすすめの人気が高いのは「Smart Slider」のようです。そこで、WordPressに「Smart Slider…]]></description><link>https://moon-forest-design.github.io/memo/carousel-slider-wordpress-smart-slider/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/carousel-slider-wordpress-smart-slider/</guid><pubDate>Tue, 06 Apr 2021 02:39:00 GMT</pubDate><content:encoded>&lt;h2&gt;Smart Slider 3の導入手順&lt;/h2&gt;&lt;p&gt;WordPressでカルーセルスライダーを利用したいときのプラグインと言えば、何が良いでしょうか。おすすめの人気が高いのは「Smart Slider」のようです。そこで、WordPressに「Smart Slider 3」を導入し、試してみることにしました。そのときの手順を書き残しておきます。&lt;/p&gt;&lt;h3&gt;1：インストール・有効化する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;新規プラグインで「Smart Slider 3」を検索し、インストール、及び有効化します。&lt;/li&gt;&lt;li&gt;WordPress管理画面の左側メニューに「Smart Slider」という項目が追加されます。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;2：新規プロジェクトを作成する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;左側メニュー「Smart Slider」をクリックしましょう。[ Go to DashBoard ]ボタンをクリックします。&lt;/li&gt;&lt;li&gt;「New Project」をクリックします。&lt;/li&gt;&lt;li&gt;「Create a New Project」をクリックします。&lt;/li&gt;&lt;li&gt;Project Type「Slider」、Slider Type「Simple」はそのままでかまいません。Settingsで Nameを好きなように変更（例：「slide」）しましょう。Width「1200」Height「600」、Layout「Full width」は、とりあえずはそのままで良いでしょう。&lt;/li&gt;&lt;li&gt;[ CREATE ]ボタンをクリックします。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;3：スライドを作成する&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;ADD SLIDEをクリックしましょう。さらに、Imageをクリックします。&lt;/li&gt;&lt;li&gt;ファイルをドロップして、アップロードまたはファイルを選択にて、画像を必要な枚数分だけ左から順番に並べます。&lt;/li&gt;&lt;li&gt;CLOSEをクリックします。&lt;/li&gt;&lt;li&gt;[ SAVE ]ボタンをクリックします。&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;4：公開の方法&lt;/h3&gt;&lt;h4&gt;方法1：投稿や固定ページ内で表示したい場合&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;Shortcodeをコピーします。&lt;/li&gt;&lt;li&gt;投稿や固定ページ内に、コードを貼り付けます。（以下例）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[smartslider3 slider=&amp;quot;3&amp;quot;]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4&gt;方法2：テーマで表示したい場合&lt;/h4&gt;&lt;ul&gt;&lt;li&gt;PHP codeをコピーします。&lt;/li&gt;&lt;li&gt;表示したい場所に、コードを貼り付けます。（以下例）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token php language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;do_shortcode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string single-quoted-string&quot;&gt;&amp;#x27;[smartslider3 slider=&amp;quot;3&amp;quot;]&amp;#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token delimiter important&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;5：設定を変更する&lt;/h3&gt;&lt;p&gt;各種設定は、変更後 [ SAVE ]ボタンをクリックすれば、すぐに反映されます。&lt;/p&gt;&lt;h4&gt;左右に余白がほしい場合&lt;/h4&gt;&lt;p&gt;新規プロジェクトの作成で Layoutを「Full width」にしましたが、左右に余白がほしければ、Sizeタブの Layoutを「Full width」から「Boxed」へ変更しましょう。&lt;/p&gt;&lt;h4&gt;今何番目かを表示したい場合&lt;/h4&gt;&lt;p&gt;Controlsタブの Bulletを ONにする。Bulletの色がサイトイメージと合わない場合は、Dotの[ STYLE ]ボタンをクリックし、[ Active ]ボタンクリックし、Background Colorで色を変更できます。変更したら、[ APPLY ]ボタンをクリックします。&lt;/p&gt;&lt;h4&gt;サムネイル画像を表示したい場合&lt;/h4&gt;&lt;p&gt;スライドの下にサムネイル画像を表示したければ、Controlsタブの Thumbnailsを ONにしましょう。&lt;/p&gt;&lt;h4&gt;スライドをループさせたい場合&lt;/h4&gt;&lt;p&gt;Autoplayタブで Autoplayを ONにしましょう。各スライド画像の間隔は、8000ms（8秒）が指定されています。短くしたければ、数値を少なくしましょう。&lt;/p&gt;&lt;h3&gt;6：調整する&lt;/h3&gt;&lt;p&gt;レイアウト等の変更が必要であれば、CSSで調整しましょう。&lt;/p&gt;&lt;h3&gt;7：確認する&lt;/h3&gt;&lt;p&gt;Webブラウザで表示してみて問題なければ、カルーセルスライダー「Smart Slider 3」の設置はこれで完了です。お疲れさまでした。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[WordPressのサイトでリダイレクトしたいときに「.htaccess」に書いておくコードとその手順]]></title><description><![CDATA[なぜ URLを統一する必要があるのか？ wwwの有無を統一する必要性 ずいぶんと昔であれば、慣習からか wwwを付ける必要があったけれど、いつからか www無しでも良くなりました。いまや有っても無くても良いものですが、ユーザーからどちらの URL…]]></description><link>https://moon-forest-design.github.io/memo/wordpress-redirect-htaccess/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/wordpress-redirect-htaccess/</guid><pubDate>Thu, 18 Mar 2021 04:40:00 GMT</pubDate><content:encoded>&lt;h2&gt;なぜ URLを統一する必要があるのか？&lt;/h2&gt;&lt;h3&gt;wwwの有無を統一する必要性&lt;/h3&gt;&lt;p&gt;ずいぶんと昔であれば、慣習からか wwwを付ける必要があったけれど、いつからか www無しでも良くなりました。いまや有っても無くても良いものですが、ユーザーからどちらの URLにアクセスしてほしいのかは統一しておくほうが良いでしょう。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;www有り（例：&lt;a href=&quot;https://www.moon-forest-design.com/%EF%BC%89&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://www.moon-forest-design.com/）&lt;/a&gt;&lt;/li&gt;&lt;li&gt;www無し（例：&lt;a href=&quot;https://moon-forest-design.com/%EF%BC%89&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://moon-forest-design.com/）&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;なぜ統一しておく必要があるかと言うと、統一しておかないとコンテンツの重複とみなされることがあるためです。重複とみなされると、Googleなどの検索エンジンから評価を下げられる可能性があります。&lt;/p&gt;&lt;h3&gt;index.htmlの有無を統一する必要性&lt;/h3&gt;&lt;p&gt;上述の wwwの有無だけでなく、index.htmlの有無についても同じことがいえます。どちらも結果的にはトップページを表示する URLですが、これもまたどちらかに統一しておくほうが良いのです。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;index.html有り（例：&lt;a href=&quot;https://moon-forest-design.com/index.html%EF%BC%89&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://moon-forest-design.com/index.html）&lt;/a&gt;&lt;/li&gt;&lt;li&gt;index.html無し（例：&lt;a href=&quot;https://moon-forest-design.com/%EF%BC%89&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://moon-forest-design.com/）&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;無くても良いものであれば、「無し」に統一するほうが良いでしょう。ユーザーにとっては、簡潔なほうが把握しやすいし、余計な表記を増やせば入力間違いが起きる可能性が高まるばかりです。&lt;/p&gt;&lt;p&gt;もちろん、すでに「有り」で広く知れ渡っているのであれば、有りのままで継続するほうが良いでしょう。状況に応じて、どちらかに統一しておくことが重要です。&lt;/p&gt;&lt;h3&gt;httpsに統一する必要性&lt;/h3&gt;&lt;p&gt;ホームページを SSL化した場合は、httpではなく、httpsに統一しましょう。せっかくSSL化したのに、httpの方へアクセスされては意味がありません。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;http（例：&lt;a href=&quot;http://moon-forest-design.com/%EF%BC%89&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://moon-forest-design.com/）&lt;/a&gt;&lt;/li&gt;&lt;li&gt;https（例：&lt;a href=&quot;https://moon-forest-design.com/%EF%BC%89&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://moon-forest-design.com/）&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;リダイレクト設定とは？&lt;/h2&gt;&lt;p&gt;統一する方法としては、.htaccessというファイルを使って「リダイレクト」という設定を行うのが一般的です。&lt;/p&gt;&lt;p&gt;リダイレクトとは、自動的に転送すること。例えば、ユーザーが www有りの URLを入力してアクセスしてきても、www無しの URLへ自動的に転送してページを表示する形にすることができます。&lt;/p&gt;&lt;p&gt;以下、ロリポップで設定したときの作業手順を書き残しておきます。&lt;/p&gt;&lt;h2&gt;リダイレクトの作業手順（ロリポップ WordPress用）&lt;/h2&gt;&lt;p&gt;この手順は、WordPress 5.7を利用しているホームページにて、www無し、index.html無し、httpsに URLを統一したいときの方法です。&lt;/p&gt;&lt;h3&gt;1：SSL化を確認する&lt;/h3&gt;&lt;p&gt;事前に、ドメインが SSL化されていることを確認しましょう。まだ、SSL化していなければ、ロリポップのユーザー専用ページから申し込む必要があります。（[ セキュリティ ] – [ 独自SSL証明書導入 ]）&lt;/p&gt;&lt;p&gt;SSL化は、申請後おおよそ 10分くらいで完了するはずです。作業は余裕をもって進めましょう。&lt;/p&gt;&lt;h3&gt;2：WordPressで SSLを設定する&lt;/h3&gt;&lt;p&gt;前述1の SSL化が済んだら、WordPressの一般設定にて、WordPress アドレス (URL)とサイトアドレス (URL)の URLを、「https://～」へ変更しましょう。（sを付けます）&lt;/p&gt;&lt;h3&gt;3：FTPサーバーへ接続する&lt;/h3&gt;&lt;p&gt;ロリポップ！ FTPを使って FTPサーバーへ接続し、WordPressのトップディレクトリへ移動します。&lt;/p&gt;&lt;p&gt;WordPressのトップディレクトリというのは、WordPressをインストールした場所のこと。wp-adminなどのディレクトリや、index.phpなどのファイルが入っています。&lt;/p&gt;&lt;h3&gt;4：「.htaccess」を開く&lt;/h3&gt;&lt;p&gt;WordPressのトップディレクトリに、「.htaccess」というファイルがあるはずなので開く。開いたら、念のためバックアップしておくと良いでしょう。&lt;/p&gt;&lt;p&gt;バックアップは、ファイルの中身をコピペしてパソコンに保存しておくだけでもかまいません。サーバーはたいてい UNIX系なので、保存するときは、文字コードを UTF-8、改行コードは LFにしましょう。バックアップしておけば、仮にリストアが必要になった場合に余計なトラブルで悩まずにすみます。&lt;/p&gt;&lt;h3&gt;5：コードを作成する&lt;/h3&gt;&lt;p&gt;テキストエディタに以下のコードをコピペし、自分のホームページの内容に修正しましょう。例えば仮に、自分のホームページのドメインが &lt;code class=&quot;language-text&quot;&gt;www.my-home-page.com&lt;/code&gt;だとしたなら、your-home-pageの部分を my-home-pageに変更するということです。&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# リダイレクト設定
&amp;lt;IfModule mod_rewrite.c&amp;gt;
	RewriteEngine On
	# www無しのURLに統一
	RewriteCond %{HTTP_HOST} ^www\.your-home-page\.com
	RewriteRule ^(.*) https://www.your-home-page.com/$1 [R=301,L]
	# index.html無しのURLに統一
	RewriteCond %{THE_REQUEST} ^.*/index.html
	RewriteRule ^(.*)index.html$ https://www.your-home-page.com/$1 [R=301,L]
	# httpをhttpsに統一
	RewriteCond %{HTTPS} off
	RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
&amp;lt;/IfModule&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;念のため書いておくと、ホームページのドメインが 「.com」ではなく「.co.jp」なら、もちろん「.co.jp」に変更しなければいけません。臨機応変に対応されたし。&lt;/p&gt;&lt;h3&gt;6：「.htaccess」へコードを貼り付ける&lt;/h3&gt;&lt;p&gt;「.htaccess」の先頭に 上述の工程5で修正したコードをコピペし、[ 保存する ]ボタンを押しましょう。&lt;/p&gt;&lt;h3&gt;7：表示を確認する&lt;/h3&gt;&lt;p&gt;ホームページにアクセスして表示を確認しましょう。トップページだけでなく、下層ページもいくつか表示を試して問題なければ OKです。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;wwwが有る URLでリダイレクトされるか？&lt;/li&gt;&lt;li&gt;index.htmlが有る URLでリダイレクトされるか？&lt;/li&gt;&lt;li&gt;「http://～」ではじまる URLでリダイレクトされるか？&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;補足&lt;/h2&gt;&lt;h3&gt;WordPressで index.html無しの URL統一は必要か？&lt;/h3&gt;&lt;p&gt;WordPressであれば、index.html有りの URLで表示しようとすると、404 Not Foundが表示されます。「そんなページはないよ」という仕様です。それで良ければ、リダイレクトを設定する必要はありません。&lt;/p&gt;&lt;p&gt;しかし、ユーザーの意図を汲めば、「トップページを表示したい」のであろうことが推察できます。それなのに、「そんなページはないよ」では不親切と言えるでしょう。ゆえに、WordPressの場合もリダイレクト設定しておくほうがいいように思います。&lt;/p&gt;&lt;p&gt;また、ユーザーが index.htmlではなく、index.phpを付けてアクセスする場合も考えられます。しかし、その場合は WordPressがうまいこと処理してくれるようです。こちらは、気にせずともかまいません。&lt;/p&gt;&lt;h3&gt;少しだけコードの説明&lt;/h3&gt;&lt;h4&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IfModule mod_rewrite.c&amp;gt;&lt;/code&gt;とは？&lt;/h4&gt;&lt;p&gt;Webサーバのモジュール mod_rewriteを利用できる環境であれば、&lt;code class=&quot;language-text&quot;&gt;&amp;lt;IfModule mod_rewrite.c&amp;gt; ～ &amp;lt;/IfModule&amp;gt;&lt;/code&gt;間のコードを実行するという意味です。&lt;/p&gt;&lt;h4&gt;RewriteEngine Onとは？&lt;/h4&gt;&lt;p&gt;モジュール mod_rewriteの機能を ON（有効化）にするという宣言です。&lt;/p&gt;&lt;h4&gt;R=301とは？&lt;/h4&gt;&lt;p&gt;リダイレクトには 301と、302があります。今回のように恒久的にリダイレクトしたい場合は、301を記述します。デフォルトが 302なので、省略して、[R, L]にすると、302を選択したことになるので注意が必要です。&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;301&lt;/dt&gt;&lt;dd&gt;恒久的な処置&lt;/dd&gt;&lt;dt&gt;302&lt;/dt&gt;&lt;dd&gt;一時的な処置&lt;/dd&gt;&lt;/dl&gt;</content:encoded></item><item><title><![CDATA[Node.jsで使うターミナルコマンド]]></title><description><![CDATA[…]]></description><link>https://moon-forest-design.github.io/memo/nodejs-command/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/nodejs-command/</guid><pubDate>Tue, 15 Dec 2020 01:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;ターミナルとは？&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;コマンドを入力することで、コンピュータに命令を行う方法、もしくはそのソフトウェア群のことを「ターミナル」と呼びます。簡素な真っ黒い画面にて入力を行う形になるため、コマンドを知らなければ何もできません。同じような意味あいで、「コマンドライン」と呼ばれることもあります。&lt;/li&gt;&lt;li&gt;ターミナル型のソフトウェア形式は「CUI（Character User Interface）」と呼ばれます。対して、コマンドを知らなくてもマウスなどを操作することでビジュアル的に利用できるソフトウェア形式は「GUI（Graphical User Interface）」と呼ばれます。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;UNIX系コマンド&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;cd&lt;/dt&gt;&lt;dd&gt;ディレクトリ間を移動します。「cd （ディレクトリ名）」で、移動したいディレクトリへカレントが移ります。「cd」だけ打つと、ホームディレクトリへ移動します。&lt;/dd&gt;&lt;dt&gt;ls&lt;/dt&gt;&lt;dd&gt;ディレクトリ内にあるファイルを確認できます。「ls」はファイル名だけを表示。「ls -l」はファイル名と詳細を表示。「ls -al」は先頭が .（ドット）ではじまるファイルも含めて表示します。&lt;/dd&gt;&lt;dt&gt;mkdir&lt;/dt&gt;&lt;dd&gt;ディレクトリを作成します。「mkdir （ディレクトリ名）」とすれば作成できます。&lt;/dd&gt;&lt;dt&gt;rm&lt;/dt&gt;&lt;dd&gt;ファイル、あるいはディレクトリを削除します。「rm -rf （ディレクトリ名）」とすれば、削除確認がないので簡便です。&lt;/dd&gt;&lt;dt&gt;touch&lt;/dt&gt;&lt;dd&gt;空ファイルを作成します。「touch ファイル名」とすれば、新規に空のファイルを作成できます。&lt;/dd&gt;&lt;dt&gt;find&lt;/dt&gt;&lt;dd&gt;ファイル、あるいはディレクトリを探すときに使います。&lt;/dd&gt;&lt;dt&gt;chmod&lt;/dt&gt;&lt;dd&gt;ファイル、あるいはディレクトリのパーミッションを変更できます。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;npmコマンド&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;npm -v&lt;/dt&gt;&lt;dd&gt;npmのバージョンを確認します。&lt;/dd&gt;&lt;dt&gt;npm init&lt;/dt&gt;&lt;dd&gt;npmで管理するプロジェクトディレクトリを作成します。自動的に package.jsonファイルが生成されます。質問にすべて Enterで応えるのが手間なら「npm init -y」とすれば簡便です。&lt;/dd&gt;&lt;dt&gt;npm install&lt;/dt&gt;&lt;dd&gt;パッケージをインストールします。カレントディレクトリへ移動し、「npm install」とだけ打ち込むと package.jsonに記載されたパッケージが一括インストールされます。「npm install （パッケージ名）」とすれば指定したパッケージのみインストールされます。オプション「-g」をつければ、グローバルインストールになります。&lt;/dd&gt;&lt;dt&gt;npm uninstall&lt;/dt&gt;&lt;dd&gt;パッケージをアンインストールします。カレントディレクトリへ移動し、「npm uninstall （パッケージ名）」とすればアンインストールされます。&lt;/dd&gt;&lt;dt&gt;npm list&lt;/dt&gt;&lt;dd&gt;インストール済みのパッケージ一覧を表示します。個別に確認する場合は「npm list （パッケージ名）」と入力します。&lt;/dd&gt;&lt;dt&gt;npm outdated&lt;/dt&gt;&lt;dd&gt;インストール済みのパッケージより新しいバージョンがあるか確認できます。&lt;/dd&gt;&lt;dt&gt;npm update&lt;/dt&gt;&lt;dd&gt;パッケージをアップデートします。「npm update （パッケージ名）」とすることでアップデートされます。&lt;/dd&gt;&lt;dt&gt;npm cache&lt;/dt&gt;&lt;dd&gt;キャッシュに関するコマンドです。パッケージ関係で原因不明のエラーが出た場合は、「npm cache clean」によりキャッシュを削除するとうまくいくことがあります。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://docs.npmjs.com/cli/v8/commands&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;CLI commands | npm Docs&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.tohoho-web.com/ex/npm.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;npm入門 - とほほのWWW入門&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://qiita.com/standard-software/items/2ac49a409688733c90e7&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;npm よく使うコマンドまとめ - Qiita&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Node.jsをインストールする方法（Windows10）]]></title><description><![CDATA[概要 Node.jsとは？ JavaScriptをサーバサイドでも動かすことができるプラットフォームのこと。 Node.jsのインストール手順（Windows版） Git for windowsをインストールする Git for windows へ行きダウンロードします。 Git…]]></description><link>https://moon-forest-design.github.io/memo/nodejs-install-windows10/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/nodejs-install-windows10/</guid><pubDate>Tue, 15 Dec 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;概要&lt;/h2&gt;&lt;h3&gt;Node.jsとは？&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;JavaScriptをサーバサイドでも動かすことができるプラットフォームのこと。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;Node.jsのインストール手順（Windows版）&lt;/h2&gt;&lt;h3&gt;Git for windowsをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://gitforwindows.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Git for windows&lt;/a&gt;へ行きダウンロードします。&lt;/li&gt;&lt;li&gt;Git for windowsをインストールします。Git Bashというコマンドラインツールが利用できるようになります。 &lt;/li&gt;&lt;li&gt;Git Bashを起動し、ユーザ名とメールアドレスを入力します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ git config --global user.name &amp;quot;（ユーザ名）&amp;quot;
$ git config --global user.email &amp;quot;（メールアドレス）&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;nvmをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;のちのち Node.jsのバージョン管理をするために、事前に nvmをインストールしておくほうが良いようです。（あるいは、nvs、Voltaなど）&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/coreybutler/nvm-windows/releases&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;nvmを配布しているページ&lt;/a&gt;へ行きます。少しページの下へスクロールしたところに、nvm-setup.zipがあります。ダウンロードしましょう。&lt;/li&gt;&lt;li&gt;ダウンロードできたら解凍し、インストールします。&lt;/li&gt;&lt;li&gt;nvmがインストールされたか確認するために、バージョンを表示してみましょう。バージョンが表示されれば OKです。（2021年10月頃のバージョンは、Ver1.1.8くらいです）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ nvm version&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;Node.jsをインストールする&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;管理者権限で Git Bashを起動します。nvmを介して Node.jsをインストールしましょう。&lt;/li&gt;&lt;li&gt;まず、インストール可能な Node.jsバージョン一覧を表示して、その中から LTS版の最新バージョンをインストールします。（2021年10月頃のバージョンは、Ver14.18.0くらいです）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ nvm list available
$ nvm install 14.18.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;Node.jsのバージョンを選択する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;次に、インストールした Node.jsバージョン一覧を表示して、使用したい Node.jsのバージョンを指定します。&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ nvm list
$ nvm use 14.18.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;バージョンを確認する&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;最後に、Node.jsのバージョンが指定した通りか確認してみましょう。&lt;/li&gt;&lt;li&gt;ついでに、npmのバージョンも確認しておきましょう。（2021年10月頃のバージョンは、Ver6.14.15くらいです）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ node -v
$ npm -v&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;Node.js関連用語&lt;/h2&gt;&lt;dl&gt;&lt;dt&gt;.cache&lt;/dt&gt;&lt;dd&gt;各種キャッシュファイルが格納されるディレクトリ。&lt;/dd&gt;&lt;dt&gt;node_modules&lt;/dt&gt;&lt;dd&gt;npmコマンドを用いてインストールしたパッケージが格納されるディレクトリ。&lt;/dd&gt;&lt;dt&gt;package.json&lt;/dt&gt;&lt;dd&gt;npmで管理するパッケージ情報が記載されるファイル。&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://qiita.com/akuden/items/a88630de9624039c4135&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;nvm-windowsでNode.jsバージョン管理 - Qiita&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Visual Studio Codeの Emmetの使い方]]></title><description><![CDATA[Emmetとは？ Emmetは、入力補完機能を提供してくれるコードエディタのプラグインです。コードエディタに拡張機能として Emmetを導入すると、HTMLや CSSの入力作業を補完してくれます。省略して入力することができるため、作業効率が大幅にアップします。 Visual…]]></description><link>https://moon-forest-design.github.io/memo/vscode-emmet/</link><guid isPermaLink="false">https://moon-forest-design.github.io/memo/vscode-emmet/</guid><pubDate>Mon, 25 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Emmetとは？&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Emmetは、入力補完機能を提供してくれるコードエディタのプラグインです。コードエディタに拡張機能として Emmetを導入すると、HTMLや CSSの入力作業を補完してくれます。省略して入力することができるため、作業効率が大幅にアップします。&lt;/li&gt;&lt;li&gt;Visual Studio Codeにはデフォルトで Emmetが入っているので、拡張機能として追加する必要はありません。すぐに利用できます。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;Emmetの使い方&lt;/h2&gt;&lt;h3&gt;基本的な使い方&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;header要素を表示したいときは「header」と入力します。&lt;/li&gt;&lt;li&gt;Tabキーを押します。（※：Enterキーでも良い）&lt;/li&gt;&lt;li&gt;入力補完機能により、以下が出力されます。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;さらに省略する方法&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;Emmetが用意している省略記法を覚えるとより簡潔に済みます。header要素を表示したいときは「hdr」と入力してみましょう。（あるいは「hd」だけでも良いかもしれません）&lt;/li&gt;&lt;li&gt;Tabキーを押します。&lt;/li&gt;&lt;li&gt;入力補完機能により、以下が出力されます。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;Emmetを使ってHTML要素を入力する例&lt;/h2&gt;&lt;h3&gt;class属性付きの div要素&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;拡張子 .htmlファイルを新規作成。Visual Studio Codeで開く。&lt;/li&gt;&lt;li&gt;.container と入力します。（※：divは省略できる）&lt;/li&gt;&lt;li&gt;Tabキーを押します。&lt;/li&gt;&lt;li&gt;入力補完機能により、以下が出力されます。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;link要素&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;link:css と入力します。&lt;/li&gt;&lt;li&gt;Tabキーを押します。&lt;/li&gt;&lt;li&gt;入力補完機能により、以下が出力されます。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;style.css&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;コメント&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;c と入力します。&lt;/li&gt;&lt;li&gt;Tabキーを押します。&lt;/li&gt;&lt;li&gt;入力補完機能により、以下が出力されます。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- --&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;nav要素・ul要素&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;nav&amp;gt;ul.menuList&amp;gt;li*5&amp;gt;a[href=#] と入力します。&lt;/li&gt;&lt;li&gt;Tabキーを押します。&lt;/li&gt;&lt;li&gt;入力補完機能により、以下が出力されます。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;nav&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;menuList&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;nav&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;div要素とコメント&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;.container&amp;gt;.wrapper|c と入力します。&lt;/li&gt;&lt;li&gt;Tabキーを押します。&lt;/li&gt;&lt;li&gt;入力補完機能により、以下が出力されます。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;wrapper&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- /.wrapper --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- /.container --&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;HTMLのひな形&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;Visual Studio Codeの設定から「emmet.variables」で検索し、langの値を &amp;quot;ja&amp;quot;へ変更します。&lt;/li&gt;&lt;li&gt;! を入力します。（※：半角のビックリマークです)&lt;/li&gt;&lt;li&gt;Tabキーを押します。&lt;/li&gt;&lt;li&gt;入力補完機能により、以下が出力されます。HTMLで必要となる最低限のコードです。&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;ja&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;UTF-8&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;IE=edge&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;width=device-width, initial-scale=1.0&lt;span class=&quot;token punctuation&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;Document&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
  
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;Emmetチートシート（抜粋）&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;公式の&lt;a href=&quot;https://docs.emmet.io/cheat-sheet/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Emmetチートシート&lt;/a&gt;から、使いそうなものをピックアップしました。&lt;/li&gt;&lt;li&gt;「Emmet abbreviation」という表記がなされて、チートシートとは結果が少し異なる場合があるかもしれません。&lt;/li&gt;&lt;li&gt;なぜかチートシートに載っていなかったり、さらに省略して入力できる場合もあります。&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;HTMLの省略記法&lt;/h3&gt;&lt;h4&gt;セクション&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;hdr&lt;/dt&gt;&lt;dd&gt;&amp;lt;header&amp;gt;&amp;lt;/header&amp;gt;&lt;/dd&gt;&lt;dt&gt;ftr&lt;/dt&gt;&lt;dd&gt;&amp;lt;footer&amp;gt;&amp;lt;/footer&amp;gt;&lt;/dd&gt;&lt;dt&gt;sect&lt;/dt&gt;&lt;dd&gt;&amp;lt;section&amp;gt;&amp;lt;/section&amp;gt;&lt;/dd&gt;&lt;dt&gt;art&lt;/dt&gt;&lt;dd&gt;&amp;lt;article&amp;gt;&amp;lt;/article&amp;gt;&lt;/dd&gt;&lt;dt&gt;as&lt;/dt&gt;&lt;dd&gt;&amp;lt;aside&amp;gt;&amp;lt;/aside&amp;gt;&lt;/dd&gt;&lt;/dl&gt;&lt;h4&gt;その他&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;mn&lt;/dt&gt;&lt;dd&gt;&amp;lt;main&amp;gt;&amp;lt;/main&amp;gt;&lt;/dd&gt;&lt;dt&gt;fig&lt;/dt&gt;&lt;dd&gt;&amp;lt;figure&amp;gt;&amp;lt;/figure&amp;gt;&lt;/dd&gt;&lt;dt&gt;img&lt;/dt&gt;&lt;dd&gt;&amp;lt;img src=&amp;quot;&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;&lt;/dd&gt;&lt;dt&gt;inp&lt;/dt&gt;&lt;dd&gt;&amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;&amp;quot; id=&amp;quot;&amp;quot;&amp;gt;&lt;/dd&gt;&lt;dt&gt;btn&lt;/dt&gt;&lt;dd&gt;&amp;lt;button&amp;gt;&amp;lt;/button&amp;gt;&lt;/dd&gt;&lt;/dl&gt;&lt;h3&gt;CSSの省略記法&lt;/h3&gt;&lt;h4&gt;余白&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;m&lt;/dt&gt;&lt;dd&gt;margin: ;&lt;/dd&gt;&lt;dt&gt;p&lt;/dt&gt;&lt;dd&gt;padding: ;&lt;/dd&gt;&lt;dt&gt;mt&lt;/dt&gt;&lt;dd&gt;margin-top: ;&lt;/dd&gt;&lt;dt&gt;mr&lt;/dt&gt;&lt;dd&gt;margin-right: ;&lt;/dd&gt;&lt;dt&gt;mb&lt;/dt&gt;&lt;dd&gt;margin-bottom: ;&lt;/dd&gt;&lt;dt&gt;ml&lt;/dt&gt;&lt;dd&gt;margin-left: ;&lt;/dd&gt;&lt;/dl&gt;&lt;h4&gt;幅・高さ&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;w&lt;/dt&gt;&lt;dd&gt;width: ;&lt;/dd&gt;&lt;dt&gt;h&lt;/dt&gt;&lt;dd&gt;height: ;&lt;/dd&gt;&lt;dt&gt;maw&lt;/dt&gt;&lt;dd&gt;max-width: ;&lt;/dd&gt;&lt;dt&gt;miw&lt;/dt&gt;&lt;dd&gt;min-width: ;&lt;/dd&gt;&lt;/dl&gt;&lt;h4&gt;フォント&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;fz&lt;/dt&gt;&lt;dd&gt;font-size: ;&lt;/dd&gt;&lt;dt&gt;fw&lt;/dt&gt;&lt;dd&gt;font-weight: ;（または font-weight: normal;）&lt;/dd&gt;&lt;dt&gt;ff&lt;/dt&gt;&lt;dd&gt;font-family: ;（または font-family: serif;）&lt;/dd&gt;&lt;/dl&gt;&lt;h4&gt;テキスト&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;ta&lt;/dt&gt;&lt;dd&gt;text-align: left;&lt;/dd&gt;&lt;dt&gt;td&lt;/dt&gt;&lt;dd&gt;text-decoration: none;&lt;/dd&gt;&lt;dt&gt;lh&lt;/dt&gt;&lt;dd&gt;line-height: ;&lt;/dd&gt;&lt;dt&gt;lts&lt;/dt&gt;&lt;dd&gt;letter-spacing: ;（または letter-spacing: normal;）&lt;/dd&gt;&lt;/dl&gt;&lt;h4&gt;色&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;c&lt;/dt&gt;&lt;dd&gt;color: #000;&lt;/dd&gt;&lt;dt&gt;bgc&lt;/dt&gt;&lt;dd&gt;background-color: #fff;&lt;/dd&gt;&lt;/dl&gt;&lt;h4&gt;display と Flex box&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;d&lt;/dt&gt;&lt;dd&gt;display: block;&lt;/dd&gt;&lt;dt&gt;d:f&lt;/dt&gt;&lt;dd&gt;display: flex;&lt;/dd&gt;&lt;dt&gt;jc&lt;/dt&gt;&lt;dd&gt;justify-content: ;（または justify-content: start;）&lt;/dd&gt;&lt;dt&gt;ai&lt;/dt&gt;&lt;dd&gt;align-items: ;（または align-items: start;）&lt;/dd&gt;&lt;dt&gt;fxw&lt;/dt&gt;&lt;dd&gt;flex-wrap: ;（または flex-wrap: nowrap;）&lt;/dd&gt;&lt;dt&gt;fxd&lt;/dt&gt;&lt;dd&gt;flex-direction: ;（または flex-direction: row;）&lt;/dd&gt;&lt;/dl&gt;&lt;h4&gt;その他&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;bg&lt;/dt&gt;&lt;dd&gt;background: #000;&lt;/dd&gt;&lt;dt&gt;bd&lt;/dt&gt;&lt;dd&gt;border: ;（または border: 1px solid #000;）&lt;/dd&gt;&lt;/dl&gt;&lt;h4&gt;応用例&lt;/h4&gt;&lt;dl&gt;&lt;dt&gt;w10&lt;/dt&gt;&lt;dd&gt;width: 10px;&lt;/dd&gt;&lt;dt&gt;w10p&lt;/dt&gt;&lt;dd&gt;width: 10%;&lt;/dd&gt;&lt;dt&gt;w10r&lt;/dt&gt;&lt;dd&gt;width: 10rem;&lt;/dd&gt;&lt;dt&gt;w10e&lt;/dt&gt;&lt;dd&gt;width: 10em;&lt;/dd&gt;&lt;/dl&gt;&lt;h2&gt;参考資料&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://docs.emmet.io/cheat-sheet/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Emmet Cheat Sheet&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://webdesign-trends.net/entry/13588&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;爆速コーディングを実現！Emmetの使い方とVSCodeのおすすめ設定まとめ | Web Design Trends&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item></channel></rss>